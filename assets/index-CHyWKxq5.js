(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Iv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ef={exports:{}},ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function _S(){if(u_)return ml;u_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(l,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:a,type:l,key:h,ref:o!==void 0?o:null,props:c}}return ml.Fragment=t,ml.jsx=i,ml.jsxs=i,ml}var c_;function vS(){return c_||(c_=1,Ef.exports=_S()),Ef.exports}var x=vS(),Sf={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function yS(){if(f_)return ce;f_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function j(y){return y===null||typeof y!="object"?null:(y=T&&y[T]||y["@@iterator"],typeof y=="function"?y:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,V={};function X(y,M,q){this.props=y,this.context=M,this.refs=V,this.updater=q||H}X.prototype.isReactComponent={},X.prototype.setState=function(y,M){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,M,"setState")},X.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function pe(){}pe.prototype=X.prototype;function se(y,M,q){this.props=y,this.context=M,this.refs=V,this.updater=q||H}var ee=se.prototype=new pe;ee.constructor=se,L(ee,X.prototype),ee.isPureReactComponent=!0;var ke=Array.isArray;function be(){}var le={H:null,A:null,T:null,S:null},ze=Object.prototype.hasOwnProperty;function Fe(y,M,q){var F=q.ref;return{$$typeof:a,type:y,key:M,ref:F!==void 0?F:null,props:q}}function Ge(y,M){return Fe(y.type,M,y.props)}function De(y){return typeof y=="object"&&y!==null&&y.$$typeof===a}function Me(y){var M={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(q){return M[q]})}var et=/\/+/g;function me(y,M){return typeof y=="object"&&y!==null&&y.key!=null?Me(""+y.key):M.toString(36)}function Ie(y){switch(y.status){case"fulfilled":return y.value;case"rejected":throw y.reason;default:switch(typeof y.status=="string"?y.then(be,be):(y.status="pending",y.then(function(M){y.status==="pending"&&(y.status="fulfilled",y.value=M)},function(M){y.status==="pending"&&(y.status="rejected",y.reason=M)})),y.status){case"fulfilled":return y.value;case"rejected":throw y.reason}}throw y}function A(y,M,q,F,$){var O=typeof y;(O==="undefined"||O==="boolean")&&(y=null);var Y=!1;if(y===null)Y=!0;else switch(O){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(y.$$typeof){case a:case t:Y=!0;break;case E:return Y=y._init,A(Y(y._payload),M,q,F,$)}}if(Y)return $=$(y),Y=F===""?"."+me(y,0):F,ke($)?(q="",Y!=null&&(q=Y.replace(et,"$&/")+"/"),A($,M,q,"",function(ne){return ne})):$!=null&&(De($)&&($=Ge($,q+($.key==null||y&&y.key===$.key?"":(""+$.key).replace(et,"$&/")+"/")+Y)),M.push($)),1;Y=0;var ue=F===""?".":F+":";if(ke(y))for(var _e=0;_e<y.length;_e++)F=y[_e],O=ue+me(F,_e),Y+=A(F,M,q,O,$);else if(_e=j(y),typeof _e=="function")for(y=_e.call(y),_e=0;!(F=y.next()).done;)F=F.value,O=ue+me(F,_e++),Y+=A(F,M,q,O,$);else if(O==="object"){if(typeof y.then=="function")return A(Ie(y),M,q,F,$);throw M=String(y),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return Y}function B(y,M,q){if(y==null)return y;var F=[],$=0;return A(y,F,"","",function(O){return M.call(q,O,$++)}),F}function z(y){if(y._status===-1){var M=y._result;M=M(),M.then(function(q){(y._status===0||y._status===-1)&&(y._status=1,y._result=q)},function(q){(y._status===0||y._status===-1)&&(y._status=2,y._result=q)}),y._status===-1&&(y._status=0,y._result=M)}if(y._status===1)return y._result.default;throw y._result}var Q=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)},K={map:B,forEach:function(y,M,q){B(y,function(){M.apply(this,arguments)},q)},count:function(y){var M=0;return B(y,function(){M++}),M},toArray:function(y){return B(y,function(M){return M})||[]},only:function(y){if(!De(y))throw Error("React.Children.only expected to receive a single React element child.");return y}};return ce.Activity=v,ce.Children=K,ce.Component=X,ce.Fragment=i,ce.Profiler=o,ce.PureComponent=se,ce.StrictMode=l,ce.Suspense=g,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,ce.__COMPILER_RUNTIME={__proto__:null,c:function(y){return le.H.useMemoCache(y)}},ce.cache=function(y){return function(){return y.apply(null,arguments)}},ce.cacheSignal=function(){return null},ce.cloneElement=function(y,M,q){if(y==null)throw Error("The argument must be a React element, but you passed "+y+".");var F=L({},y.props),$=y.key;if(M!=null)for(O in M.key!==void 0&&($=""+M.key),M)!ze.call(M,O)||O==="key"||O==="__self"||O==="__source"||O==="ref"&&M.ref===void 0||(F[O]=M[O]);var O=arguments.length-2;if(O===1)F.children=q;else if(1<O){for(var Y=Array(O),ue=0;ue<O;ue++)Y[ue]=arguments[ue+2];F.children=Y}return Fe(y.type,$,F)},ce.createContext=function(y){return y={$$typeof:h,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null},y.Provider=y,y.Consumer={$$typeof:c,_context:y},y},ce.createElement=function(y,M,q){var F,$={},O=null;if(M!=null)for(F in M.key!==void 0&&(O=""+M.key),M)ze.call(M,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&($[F]=M[F]);var Y=arguments.length-2;if(Y===1)$.children=q;else if(1<Y){for(var ue=Array(Y),_e=0;_e<Y;_e++)ue[_e]=arguments[_e+2];$.children=ue}if(y&&y.defaultProps)for(F in Y=y.defaultProps,Y)$[F]===void 0&&($[F]=Y[F]);return Fe(y,O,$)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(y){return{$$typeof:m,render:y}},ce.isValidElement=De,ce.lazy=function(y){return{$$typeof:E,_payload:{_status:-1,_result:y},_init:z}},ce.memo=function(y,M){return{$$typeof:p,type:y,compare:M===void 0?null:M}},ce.startTransition=function(y){var M=le.T,q={};le.T=q;try{var F=y(),$=le.S;$!==null&&$(q,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(be,Q)}catch(O){Q(O)}finally{M!==null&&q.types!==null&&(M.types=q.types),le.T=M}},ce.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},ce.use=function(y){return le.H.use(y)},ce.useActionState=function(y,M,q){return le.H.useActionState(y,M,q)},ce.useCallback=function(y,M){return le.H.useCallback(y,M)},ce.useContext=function(y){return le.H.useContext(y)},ce.useDebugValue=function(){},ce.useDeferredValue=function(y,M){return le.H.useDeferredValue(y,M)},ce.useEffect=function(y,M){return le.H.useEffect(y,M)},ce.useEffectEvent=function(y){return le.H.useEffectEvent(y)},ce.useId=function(){return le.H.useId()},ce.useImperativeHandle=function(y,M,q){return le.H.useImperativeHandle(y,M,q)},ce.useInsertionEffect=function(y,M){return le.H.useInsertionEffect(y,M)},ce.useLayoutEffect=function(y,M){return le.H.useLayoutEffect(y,M)},ce.useMemo=function(y,M){return le.H.useMemo(y,M)},ce.useOptimistic=function(y,M){return le.H.useOptimistic(y,M)},ce.useReducer=function(y,M,q){return le.H.useReducer(y,M,q)},ce.useRef=function(y){return le.H.useRef(y)},ce.useState=function(y){return le.H.useState(y)},ce.useSyncExternalStore=function(y,M,q){return le.H.useSyncExternalStore(y,M,q)},ce.useTransition=function(){return le.H.useTransition()},ce.version="19.2.1",ce}var h_;function ch(){return h_||(h_=1,Sf.exports=yS()),Sf.exports}var P=ch();const fh=Iv(P);var Tf={exports:{}},gl={},Cf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function bS(){return d_||(d_=1,(function(a){function t(A,B){var z=A.length;A.push(B);e:for(;0<z;){var Q=z-1>>>1,K=A[Q];if(0<o(K,B))A[Q]=B,A[z]=K,z=Q;else break e}}function i(A){return A.length===0?null:A[0]}function l(A){if(A.length===0)return null;var B=A[0],z=A.pop();if(z!==B){A[0]=z;e:for(var Q=0,K=A.length,y=K>>>1;Q<y;){var M=2*(Q+1)-1,q=A[M],F=M+1,$=A[F];if(0>o(q,z))F<K&&0>o($,q)?(A[Q]=$,A[F]=z,Q=F):(A[Q]=q,A[M]=z,Q=M);else if(F<K&&0>o($,z))A[Q]=$,A[F]=z,Q=F;else break e}}return B}function o(A,B){var z=A.sortIndex-B.sortIndex;return z!==0?z:A.id-B.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();a.unstable_now=function(){return h.now()-m}}var g=[],p=[],E=1,v=null,T=3,j=!1,H=!1,L=!1,V=!1,X=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function ee(A){for(var B=i(p);B!==null;){if(B.callback===null)l(p);else if(B.startTime<=A)l(p),B.sortIndex=B.expirationTime,t(g,B);else break;B=i(p)}}function ke(A){if(L=!1,ee(A),!H)if(i(g)!==null)H=!0,be||(be=!0,Me());else{var B=i(p);B!==null&&Ie(ke,B.startTime-A)}}var be=!1,le=-1,ze=5,Fe=-1;function Ge(){return V?!0:!(a.unstable_now()-Fe<ze)}function De(){if(V=!1,be){var A=a.unstable_now();Fe=A;var B=!0;try{e:{H=!1,L&&(L=!1,pe(le),le=-1),j=!0;var z=T;try{t:{for(ee(A),v=i(g);v!==null&&!(v.expirationTime>A&&Ge());){var Q=v.callback;if(typeof Q=="function"){v.callback=null,T=v.priorityLevel;var K=Q(v.expirationTime<=A);if(A=a.unstable_now(),typeof K=="function"){v.callback=K,ee(A),B=!0;break t}v===i(g)&&l(g),ee(A)}else l(g);v=i(g)}if(v!==null)B=!0;else{var y=i(p);y!==null&&Ie(ke,y.startTime-A),B=!1}}break e}finally{v=null,T=z,j=!1}B=void 0}}finally{B?Me():be=!1}}}var Me;if(typeof se=="function")Me=function(){se(De)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,me=et.port2;et.port1.onmessage=De,Me=function(){me.postMessage(null)}}else Me=function(){X(De,0)};function Ie(A,B){le=X(function(){A(a.unstable_now())},B)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(A){A.callback=null},a.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ze=0<A?Math.floor(1e3/A):5},a.unstable_getCurrentPriorityLevel=function(){return T},a.unstable_next=function(A){switch(T){case 1:case 2:case 3:var B=3;break;default:B=T}var z=T;T=B;try{return A()}finally{T=z}},a.unstable_requestPaint=function(){V=!0},a.unstable_runWithPriority=function(A,B){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var z=T;T=A;try{return B()}finally{T=z}},a.unstable_scheduleCallback=function(A,B,z){var Q=a.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Q+z:Q):z=Q,A){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=z+K,A={id:E++,callback:B,priorityLevel:A,startTime:z,expirationTime:K,sortIndex:-1},z>Q?(A.sortIndex=z,t(p,A),i(g)===null&&A===i(p)&&(L?(pe(le),le=-1):L=!0,Ie(ke,z-Q))):(A.sortIndex=K,t(g,A),H||j||(H=!0,be||(be=!0,Me()))),A},a.unstable_shouldYield=Ge,a.unstable_wrapCallback=function(A){var B=T;return function(){var z=T;T=B;try{return A.apply(this,arguments)}finally{T=z}}}})(Af)),Af}var m_;function ES(){return m_||(m_=1,Cf.exports=bS()),Cf.exports}var Nf={exports:{}},bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function SS(){if(g_)return bt;g_=1;var a=ch();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,p,E){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:g,containerInfo:p,implementation:E}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,bt.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(g,p,null,E)},bt.flushSync=function(g){var p=h.T,E=l.p;try{if(h.T=null,l.p=2,g)return g()}finally{h.T=p,l.p=E,l.d.f()}},bt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},bt.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},bt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,v=m(E,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:j}):E==="script"&&l.d.X(g,{crossOrigin:v,integrity:T,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},bt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},bt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,v=m(E,p.crossOrigin);l.d.L(g,E,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},bt.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},bt.requestFormReset=function(g){l.d.r(g)},bt.unstable_batchedUpdates=function(g,p){return g(p)},bt.useFormState=function(g,p,E){return h.H.useFormState(g,p,E)},bt.useFormStatus=function(){return h.H.useHostTransitionStatus()},bt.version="19.2.1",bt}var p_;function TS(){if(p_)return Nf.exports;p_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Nf.exports=SS(),Nf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function CS(){if(__)return gl;__=1;var a=ES(),t=ch(),i=TS();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(l(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(l(188));return n!==e?null:e}for(var s=e,r=n;;){var u=s.return;if(u===null)break;var f=u.alternate;if(f===null){if(r=u.return,r!==null){s=r;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===s)return g(u),e;if(f===r)return g(u),n;f=f.sibling}throw Error(l(188))}if(s.return!==r.return)s=u,r=f;else{for(var d=!1,_=u.child;_;){if(_===s){d=!0,s=u,r=f;break}if(_===r){d=!0,r=u,s=f;break}_=_.sibling}if(!d){for(_=f.child;_;){if(_===s){d=!0,s=f,r=u;break}if(_===r){d=!0,r=f,s=u;break}_=_.sibling}if(!d)throw Error(l(189))}}if(s.alternate!==r)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),pe=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),Fe=Symbol.for("react.activity"),Ge=Symbol.for("react.memo_cache_sentinel"),De=Symbol.iterator;function Me(e){return e===null||typeof e!="object"?null:(e=De&&e[De]||e["@@iterator"],typeof e=="function"?e:null)}var et=Symbol.for("react.client.reference");function me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===et?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case X:return"Profiler";case V:return"StrictMode";case ke:return"Suspense";case be:return"SuspenseList";case Fe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case se:return e.displayName||"Context";case pe:return(e._context.displayName||"Context")+".Consumer";case ee:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case le:return n=e.displayName||null,n!==null?n:me(e.type)||"Memo";case ze:n=e._payload,e=e._init;try{return me(e(n))}catch{}}return null}var Ie=Array.isArray,A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},Q=[],K=-1;function y(e){return{current:e}}function M(e){0>K||(e.current=Q[K],Q[K]=null,K--)}function q(e,n){K++,Q[K]=e.current,e.current=n}var F=y(null),$=y(null),O=y(null),Y=y(null);function ue(e,n){switch(q(O,n),q($,e),q(F,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Mp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Mp(n),e=Ip(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(F),q(F,e)}function _e(){M(F),M($),M(O)}function ne(e){e.memoizedState!==null&&q(Y,e);var n=F.current,s=Ip(n,e.type);n!==s&&(q($,e),q(F,s))}function Z(e){$.current===e&&(M(F),M($)),Y.current===e&&(M(Y),cl._currentValue=z)}var fe,ie;function ge(e){if(fe===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);fe=n&&n[1]||"",ie=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+e+ie}var Tt=!1;function En(e,n){if(!e||Tt)return"";Tt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(D){var R=D}Reflect.construct(e,[],k)}else{try{k.call()}catch(D){R=D}e.call(k.prototype)}}else{try{throw Error()}catch(D){R=D}(k=e())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(D){if(D&&R&&typeof D.stack=="string")return[D.stack,R.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),d=f[0],_=f[1];if(d&&_){var b=d.split(`
`),w=_.split(`
`);for(u=r=0;r<b.length&&!b[r].includes("DetermineComponentFrameRoot");)r++;for(;u<w.length&&!w[u].includes("DetermineComponentFrameRoot");)u++;if(r===b.length||u===w.length)for(r=b.length-1,u=w.length-1;1<=r&&0<=u&&b[r]!==w[u];)u--;for(;1<=r&&0<=u;r--,u--)if(b[r]!==w[u]){if(r!==1||u!==1)do if(r--,u--,0>u||b[r]!==w[u]){var I=`
`+b[r].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=r&&0<=u);break}}}finally{Tt=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ge(s):""}function Wn(e,n){switch(e.tag){case 26:case 27:case 5:return ge(e.type);case 16:return ge("Lazy");case 13:return e.child!==n&&n!==null?ge("Suspense Fallback"):ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return En(e.type,!1);case 11:return En(e.type.render,!1);case 1:return En(e.type,!0);case 31:return ge("Activity");default:return""}}function dn(e){try{var n="",s=null;do n+=Wn(e,s),s=e,e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var au=Object.prototype.hasOwnProperty,lu=a.unstable_scheduleCallback,ru=a.unstable_cancelCallback,X0=a.unstable_shouldYield,Z0=a.unstable_requestPaint,Ht=a.unstable_now,W0=a.unstable_getCurrentPriorityLevel,cd=a.unstable_ImmediatePriority,fd=a.unstable_UserBlockingPriority,Ql=a.unstable_NormalPriority,J0=a.unstable_LowPriority,hd=a.unstable_IdlePriority,$0=a.log,eb=a.unstable_setDisableYieldValue,Sa=null,jt=null;function Jn(e){if(typeof $0=="function"&&eb(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Sa,e)}catch{}}var Bt=Math.clz32?Math.clz32:ib,tb=Math.log,nb=Math.LN2;function ib(e){return e>>>=0,e===0?32:31-(tb(e)/nb|0)|0}var Kl=256,Xl=262144,Zl=4194304;function ji(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wl(e,n,s){var r=e.pendingLanes;if(r===0)return 0;var u=0,f=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~f,r!==0?u=ji(r):(d&=_,d!==0?u=ji(d):s||(s=_&~e,s!==0&&(u=ji(s))))):(_=r&~f,_!==0?u=ji(_):d!==0?u=ji(d):s||(s=r&~e,s!==0&&(u=ji(s)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:u}function Ta(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function sb(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dd(){var e=Zl;return Zl<<=1,(Zl&62914560)===0&&(Zl=4194304),e}function ou(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Ca(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ab(e,n,s,r,u,f){var d=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var _=e.entanglements,b=e.expirationTimes,w=e.hiddenUpdates;for(s=d&~s;0<s;){var I=31-Bt(s),k=1<<I;_[I]=0,b[I]=-1;var R=w[I];if(R!==null)for(w[I]=null,I=0;I<R.length;I++){var D=R[I];D!==null&&(D.lane&=-536870913)}s&=~k}r!==0&&md(e,r,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(d&~n))}function md(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-Bt(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|s&261930}function gd(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var r=31-Bt(s),u=1<<r;u&n|e[r]&n&&(e[r]|=n),s&=~u}}function pd(e,n){var s=n&-n;return s=(s&42)!==0?1:uu(s),(s&(e.suspendedLanes|n))!==0?0:s}function uu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _d(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:n_(e.type))}function vd(e,n){var s=B.p;try{return B.p=e,n()}finally{B.p=s}}var $n=Math.random().toString(36).slice(2),mt="__reactFiber$"+$n,At="__reactProps$"+$n,ps="__reactContainer$"+$n,fu="__reactEvents$"+$n,lb="__reactListeners$"+$n,rb="__reactHandles$"+$n,yd="__reactResources$"+$n,Aa="__reactMarker$"+$n;function hu(e){delete e[mt],delete e[At],delete e[fu],delete e[lb],delete e[rb]}function _s(e){var n=e[mt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ps]||s[mt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Bp(e);e!==null;){if(s=e[mt])return s;e=Bp(e)}return n}e=s,s=e.parentNode}return null}function vs(e){if(e=e[mt]||e[ps]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Na(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function ys(e){var n=e[yd];return n||(n=e[yd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ut(e){e[Aa]=!0}var bd=new Set,Ed={};function Bi(e,n){bs(e,n),bs(e+"Capture",n)}function bs(e,n){for(Ed[e]=n,e=0;e<n.length;e++)bd.add(n[e])}var ob=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sd={},Td={};function ub(e){return au.call(Td,e)?!0:au.call(Sd,e)?!1:ob.test(e)?Td[e]=!0:(Sd[e]=!0,!1)}function Jl(e,n,s){if(ub(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function $l(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Sn(e,n,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+r)}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function cb(e,n,s){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(d){s=""+d,f.call(this,d)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function du(e){if(!e._valueTracker){var n=Cd(e)?"checked":"value";e._valueTracker=cb(e,n,""+e[n])}}function Ad(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),r="";return e&&(r=Cd(e)?e.checked?"true":"false":e.value),e=r,e!==s?(n.setValue(e),!0):!1}function er(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fb=/[\n"\\]/g;function Xt(e){return e.replace(fb,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function mu(e,n,s,r,u,f,d,_){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),n!=null?d==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Kt(n)):e.value!==""+Kt(n)&&(e.value=""+Kt(n)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),n!=null?gu(e,d,Kt(n)):s!=null?gu(e,d,Kt(s)):r!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Kt(_):e.removeAttribute("name")}function Nd(e,n,s,r,u,f,d,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){du(e);return}s=s!=null?""+Kt(s):"",n=n!=null?""+Kt(n):s,_||n===e.value||(e.value=n),e.defaultValue=n}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),du(e)}function gu(e,n,s){n==="number"&&er(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Es(e,n,s,r){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&r&&(e[s].defaultSelected=!0)}else{for(s=""+Kt(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,r&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function wd(e,n,s){if(n!=null&&(n=""+Kt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Kt(s):""}function Rd(e,n,s,r){if(n==null){if(r!=null){if(s!=null)throw Error(l(92));if(Ie(r)){if(1<r.length)throw Error(l(93));r=r[0]}s=r}s==null&&(s=""),n=s}s=Kt(n),e.defaultValue=s,r=e.textContent,r===s&&r!==""&&r!==null&&(e.value=r),du(e)}function Ss(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var hb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Od(e,n,s){var r=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,s):typeof s!="number"||s===0||hb.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function xd(e,n,s){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var u in n)r=n[u],n.hasOwnProperty(u)&&s[u]!==r&&Od(e,u,r)}else for(var f in n)n.hasOwnProperty(f)&&Od(e,f,n[f])}function pu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var db=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tr(e){return mb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Tn(){}var _u=null;function vu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ts=null,Cs=null;function Dd(e){var n=vs(e);if(n&&(e=n.stateNode)){var s=e[At]||null;e:switch(e=n.stateNode,n.type){case"input":if(mu(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Xt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var r=s[n];if(r!==e&&r.form===e.form){var u=r[At]||null;if(!u)throw Error(l(90));mu(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<s.length;n++)r=s[n],r.form===e.form&&Ad(r)}break e;case"textarea":wd(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Es(e,!!s.multiple,n,!1)}}}var yu=!1;function Md(e,n,s){if(yu)return e(n,s);yu=!0;try{var r=e(n);return r}finally{if(yu=!1,(Ts!==null||Cs!==null)&&(Gr(),Ts&&(n=Ts,e=Cs,Cs=Ts=null,Dd(n),e)))for(n=0;n<e.length;n++)Dd(e[n])}}function wa(e,n){var s=e.stateNode;if(s===null)return null;var r=s[At]||null;if(r===null)return null;s=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,n,typeof s));return s}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bu=!1;if(Cn)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){bu=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{bu=!1}var ei=null,Eu=null,nr=null;function Id(){if(nr)return nr;var e,n=Eu,s=n.length,r,u="value"in ei?ei.value:ei.textContent,f=u.length;for(e=0;e<s&&n[e]===u[e];e++);var d=s-e;for(r=1;r<=d&&n[s-r]===u[f-r];r++);return nr=u.slice(e,1<r?1-r:void 0)}function ir(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function sr(){return!0}function Ud(){return!1}function Nt(e){function n(s,r,u,f,d){this._reactName=s,this._targetInst=u,this.type=r,this.nativeEvent=f,this.target=d,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?sr:Ud,this.isPropagationStopped=Ud,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),n}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ar=Nt(qi),Oa=v({},qi,{view:0,detail:0}),gb=Nt(Oa),Su,Tu,xa,lr=v({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xa&&(xa&&e.type==="mousemove"?(Su=e.screenX-xa.screenX,Tu=e.screenY-xa.screenY):Tu=Su=0,xa=e),Su)},movementY:function(e){return"movementY"in e?e.movementY:Tu}}),Ld=Nt(lr),pb=v({},lr,{dataTransfer:0}),_b=Nt(pb),vb=v({},Oa,{relatedTarget:0}),Cu=Nt(vb),yb=v({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),bb=Nt(yb),Eb=v({},qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sb=Nt(Eb),Tb=v({},qi,{data:0}),kd=Nt(Tb),Cb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ab={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wb(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Nb[e])?!!n[e]:!1}function Au(){return wb}var Rb=v({},Oa,{key:function(e){if(e.key){var n=Cb[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ir(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ab[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(e){return e.type==="keypress"?ir(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ir(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ob=Nt(Rb),xb=v({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zd=Nt(xb),Db=v({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),Mb=Nt(Db),Ib=v({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ub=Nt(Ib),Lb=v({},lr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kb=Nt(Lb),zb=v({},qi,{newState:0,oldState:0}),Hb=Nt(zb),jb=[9,13,27,32],Nu=Cn&&"CompositionEvent"in window,Da=null;Cn&&"documentMode"in document&&(Da=document.documentMode);var Bb=Cn&&"TextEvent"in window&&!Da,Hd=Cn&&(!Nu||Da&&8<Da&&11>=Da),jd=" ",Bd=!1;function qd(e,n){switch(e){case"keyup":return jb.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var As=!1;function qb(e,n){switch(e){case"compositionend":return Gd(n);case"keypress":return n.which!==32?null:(Bd=!0,jd);case"textInput":return e=n.data,e===jd&&Bd?null:e;default:return null}}function Gb(e,n){if(As)return e==="compositionend"||!Nu&&qd(e,n)?(e=Id(),nr=Eu=ei=null,As=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Hd&&n.locale!=="ko"?null:n.data;default:return null}}var Vb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Vb[e.type]:n==="textarea"}function Yd(e,n,s,r){Ts?Cs?Cs.push(r):Cs=[r]:Ts=r,n=Xr(n,"onChange"),0<n.length&&(s=new ar("onChange","change",null,s,r),e.push({event:s,listeners:n}))}var Ma=null,Ia=null;function Yb(e){Np(e,0)}function rr(e){var n=Na(e);if(Ad(n))return e}function Pd(e,n){if(e==="change")return n}var Fd=!1;if(Cn){var wu;if(Cn){var Ru="oninput"in document;if(!Ru){var Qd=document.createElement("div");Qd.setAttribute("oninput","return;"),Ru=typeof Qd.oninput=="function"}wu=Ru}else wu=!1;Fd=wu&&(!document.documentMode||9<document.documentMode)}function Kd(){Ma&&(Ma.detachEvent("onpropertychange",Xd),Ia=Ma=null)}function Xd(e){if(e.propertyName==="value"&&rr(Ia)){var n=[];Yd(n,Ia,e,vu(e)),Md(Yb,n)}}function Pb(e,n,s){e==="focusin"?(Kd(),Ma=n,Ia=s,Ma.attachEvent("onpropertychange",Xd)):e==="focusout"&&Kd()}function Fb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rr(Ia)}function Qb(e,n){if(e==="click")return rr(n)}function Kb(e,n){if(e==="input"||e==="change")return rr(n)}function Xb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var qt=typeof Object.is=="function"?Object.is:Xb;function Ua(e,n){if(qt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var u=s[r];if(!au.call(n,u)||!qt(e[u],n[u]))return!1}return!0}function Zd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wd(e,n){var s=Zd(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=n&&r>=n)return{node:s,offset:n-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Zd(s)}}function Jd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Jd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function $d(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=er(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=er(e.document)}return n}function Ou(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Zb=Cn&&"documentMode"in document&&11>=document.documentMode,Ns=null,xu=null,La=null,Du=!1;function em(e,n,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Du||Ns==null||Ns!==er(r)||(r=Ns,"selectionStart"in r&&Ou(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),La&&Ua(La,r)||(La=r,r=Xr(xu,"onSelect"),0<r.length&&(n=new ar("onSelect","select",null,n,s),e.push({event:n,listeners:r}),n.target=Ns)))}function Gi(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ws={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionrun:Gi("Transition","TransitionRun"),transitionstart:Gi("Transition","TransitionStart"),transitioncancel:Gi("Transition","TransitionCancel"),transitionend:Gi("Transition","TransitionEnd")},Mu={},tm={};Cn&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function Vi(e){if(Mu[e])return Mu[e];if(!ws[e])return e;var n=ws[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in tm)return Mu[e]=n[s];return e}var nm=Vi("animationend"),im=Vi("animationiteration"),sm=Vi("animationstart"),Wb=Vi("transitionrun"),Jb=Vi("transitionstart"),$b=Vi("transitioncancel"),am=Vi("transitionend"),lm=new Map,Iu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Iu.push("scrollEnd");function an(e,n){lm.set(e,n),Bi(n,[e])}var or=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Zt=[],Rs=0,Uu=0;function ur(){for(var e=Rs,n=Uu=Rs=0;n<e;){var s=Zt[n];Zt[n++]=null;var r=Zt[n];Zt[n++]=null;var u=Zt[n];Zt[n++]=null;var f=Zt[n];if(Zt[n++]=null,r!==null&&u!==null){var d=r.pending;d===null?u.next=u:(u.next=d.next,d.next=u),r.pending=u}f!==0&&rm(s,u,f)}}function cr(e,n,s,r){Zt[Rs++]=e,Zt[Rs++]=n,Zt[Rs++]=s,Zt[Rs++]=r,Uu|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Lu(e,n,s,r){return cr(e,n,s,r),fr(e)}function Yi(e,n){return cr(e,null,null,n),fr(e)}function rm(e,n,s){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s);for(var u=!1,f=e.return;f!==null;)f.childLanes|=s,r=f.alternate,r!==null&&(r.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&n!==null&&(u=31-Bt(s),e=f.hiddenUpdates,r=e[u],r===null?e[u]=[n]:r.push(n),n.lane=s|536870912),f):null}function fr(e){if(50<il)throw il=0,Yc=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Os={};function eE(e,n,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,n,s,r){return new eE(e,n,s,r)}function ku(e){return e=e.prototype,!(!e||!e.isReactComponent)}function An(e,n){var s=e.alternate;return s===null?(s=Gt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function om(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function hr(e,n,s,r,u,f){var d=0;if(r=e,typeof e=="function")ku(e)&&(d=1);else if(typeof e=="string")d=aS(e,s,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Fe:return e=Gt(31,s,n,u),e.elementType=Fe,e.lanes=f,e;case L:return Pi(s.children,u,f,n);case V:d=8,u|=24;break;case X:return e=Gt(12,s,n,u|2),e.elementType=X,e.lanes=f,e;case ke:return e=Gt(13,s,n,u),e.elementType=ke,e.lanes=f,e;case be:return e=Gt(19,s,n,u),e.elementType=be,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:d=10;break e;case pe:d=9;break e;case ee:d=11;break e;case le:d=14;break e;case ze:d=16,r=null;break e}d=29,s=Error(l(130,e===null?"null":typeof e,"")),r=null}return n=Gt(d,s,n,u),n.elementType=e,n.type=r,n.lanes=f,n}function Pi(e,n,s,r){return e=Gt(7,e,r,n),e.lanes=s,e}function zu(e,n,s){return e=Gt(6,e,null,n),e.lanes=s,e}function um(e){var n=Gt(18,null,null,0);return n.stateNode=e,n}function Hu(e,n,s){return n=Gt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var cm=new WeakMap;function Wt(e,n){if(typeof e=="object"&&e!==null){var s=cm.get(e);return s!==void 0?s:(n={value:e,source:n,stack:dn(n)},cm.set(e,n),n)}return{value:e,source:n,stack:dn(n)}}var xs=[],Ds=0,dr=null,ka=0,Jt=[],$t=0,ti=null,mn=1,gn="";function Nn(e,n){xs[Ds++]=ka,xs[Ds++]=dr,dr=e,ka=n}function fm(e,n,s){Jt[$t++]=mn,Jt[$t++]=gn,Jt[$t++]=ti,ti=e;var r=mn;e=gn;var u=32-Bt(r)-1;r&=~(1<<u),s+=1;var f=32-Bt(n)+u;if(30<f){var d=u-u%5;f=(r&(1<<d)-1).toString(32),r>>=d,u-=d,mn=1<<32-Bt(n)+u|s<<u|r,gn=f+e}else mn=1<<f|s<<u|r,gn=e}function ju(e){e.return!==null&&(Nn(e,1),fm(e,1,0))}function Bu(e){for(;e===dr;)dr=xs[--Ds],xs[Ds]=null,ka=xs[--Ds],xs[Ds]=null;for(;e===ti;)ti=Jt[--$t],Jt[$t]=null,gn=Jt[--$t],Jt[$t]=null,mn=Jt[--$t],Jt[$t]=null}function hm(e,n){Jt[$t++]=mn,Jt[$t++]=gn,Jt[$t++]=ti,mn=n.id,gn=n.overflow,ti=e}var gt=null,Qe=null,Ne=!1,ni=null,en=!1,qu=Error(l(519));function ii(e){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw za(Wt(n,e)),qu}function dm(e){var n=e.stateNode,s=e.type,r=e.memoizedProps;switch(n[mt]=e,n[At]=r,s){case"dialog":Se("cancel",n),Se("close",n);break;case"iframe":case"object":case"embed":Se("load",n);break;case"video":case"audio":for(s=0;s<al.length;s++)Se(al[s],n);break;case"source":Se("error",n);break;case"img":case"image":case"link":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"input":Se("invalid",n),Nd(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Se("invalid",n);break;case"textarea":Se("invalid",n),Rd(n,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||r.suppressHydrationWarning===!0||xp(n.textContent,s)?(r.popover!=null&&(Se("beforetoggle",n),Se("toggle",n)),r.onScroll!=null&&Se("scroll",n),r.onScrollEnd!=null&&Se("scrollend",n),r.onClick!=null&&(n.onclick=Tn),n=!0):n=!1,n||ii(e,!0)}function mm(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 31:case 13:en=!1;return;case 27:case 3:en=!0;return;default:gt=gt.return}}function Ms(e){if(e!==gt)return!1;if(!Ne)return mm(e),Ne=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||lf(e.type,e.memoizedProps)),s=!s),s&&Qe&&ii(e),mm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Qe=jp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Qe=jp(e)}else n===27?(n=Qe,_i(e.type)?(e=ff,ff=null,Qe=e):Qe=n):Qe=gt?nn(e.stateNode.nextSibling):null;return!0}function Fi(){Qe=gt=null,Ne=!1}function Gu(){var e=ni;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),ni=null),e}function za(e){ni===null?ni=[e]:ni.push(e)}var Vu=y(null),Qi=null,wn=null;function si(e,n,s){q(Vu,n._currentValue),n._currentValue=s}function Rn(e){e._currentValue=Vu.current,M(Vu)}function Yu(e,n,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===s)break;e=e.return}}function Pu(e,n,s,r){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var d=u.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=u;for(var b=0;b<n.length;b++)if(_.context===n[b]){f.lanes|=s,_=f.alternate,_!==null&&(_.lanes|=s),Yu(f.return,s,e),r||(d=null);break e}f=_.next}}else if(u.tag===18){if(d=u.return,d===null)throw Error(l(341));d.lanes|=s,f=d.alternate,f!==null&&(f.lanes|=s),Yu(d,s,e),d=null}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===e){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}}function Is(e,n,s,r){e=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var d=u.alternate;if(d===null)throw Error(l(387));if(d=d.memoizedProps,d!==null){var _=u.type;qt(u.pendingProps.value,d.value)||(e!==null?e.push(_):e=[_])}}else if(u===Y.current){if(d=u.alternate,d===null)throw Error(l(387));d.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}u=u.return}e!==null&&Pu(n,e,s,r),n.flags|=262144}function mr(e){for(e=e.firstContext;e!==null;){if(!qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ki(e){Qi=e,wn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return gm(Qi,e)}function gr(e,n){return Qi===null&&Ki(e),gm(e,n)}function gm(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},wn===null){if(e===null)throw Error(l(308));wn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else wn=wn.next=n;return s}var tE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},nE=a.unstable_scheduleCallback,iE=a.unstable_NormalPriority,it={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fu(){return{controller:new tE,data:new Map,refCount:0}}function Ha(e){e.refCount--,e.refCount===0&&nE(iE,function(){e.controller.abort()})}var ja=null,Qu=0,Us=0,Ls=null;function sE(e,n){if(ja===null){var s=ja=[];Qu=0,Us=Zc(),Ls={status:"pending",value:void 0,then:function(r){s.push(r)}}}return Qu++,n.then(pm,pm),n}function pm(){if(--Qu===0&&ja!==null){Ls!==null&&(Ls.status="fulfilled");var e=ja;ja=null,Us=0,Ls=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function aE(e,n){var s=[],r={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var u=0;u<s.length;u++)(0,s[u])(n)},function(u){for(r.status="rejected",r.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),r}var _m=A.S;A.S=function(e,n){ep=Ht(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&sE(e,n),_m!==null&&_m(e,n)};var Xi=y(null);function Ku(){var e=Xi.current;return e!==null?e:Ve.pooledCache}function pr(e,n){n===null?q(Xi,Xi.current):q(Xi,n.pool)}function vm(){var e=Ku();return e===null?null:{parent:it._currentValue,pool:e}}var ks=Error(l(460)),Xu=Error(l(474)),_r=Error(l(542)),vr={then:function(){}};function ym(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bm(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Tn,Tn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Sm(e),e;default:if(typeof n.status=="string")n.then(Tn,Tn);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=r}},function(r){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Sm(e),e}throw Wi=n,ks}}function Zi(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Wi=s,ks):s}}var Wi=null;function Em(){if(Wi===null)throw Error(l(459));var e=Wi;return Wi=null,e}function Sm(e){if(e===ks||e===_r)throw Error(l(483))}var zs=null,Ba=0;function yr(e){var n=Ba;return Ba+=1,zs===null&&(zs=[]),bm(zs,e,n)}function qa(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function br(e,n){throw n.$$typeof===T?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Tm(e){function n(C,S){if(e){var N=C.deletions;N===null?(C.deletions=[S],C.flags|=16):N.push(S)}}function s(C,S){if(!e)return null;for(;S!==null;)n(C,S),S=S.sibling;return null}function r(C){for(var S=new Map;C!==null;)C.key!==null?S.set(C.key,C):S.set(C.index,C),C=C.sibling;return S}function u(C,S){return C=An(C,S),C.index=0,C.sibling=null,C}function f(C,S,N){return C.index=N,e?(N=C.alternate,N!==null?(N=N.index,N<S?(C.flags|=67108866,S):N):(C.flags|=67108866,S)):(C.flags|=1048576,S)}function d(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function _(C,S,N,U){return S===null||S.tag!==6?(S=zu(N,C.mode,U),S.return=C,S):(S=u(S,N),S.return=C,S)}function b(C,S,N,U){var te=N.type;return te===L?I(C,S,N.props.children,U,N.key):S!==null&&(S.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===ze&&Zi(te)===S.type)?(S=u(S,N.props),qa(S,N),S.return=C,S):(S=hr(N.type,N.key,N.props,null,C.mode,U),qa(S,N),S.return=C,S)}function w(C,S,N,U){return S===null||S.tag!==4||S.stateNode.containerInfo!==N.containerInfo||S.stateNode.implementation!==N.implementation?(S=Hu(N,C.mode,U),S.return=C,S):(S=u(S,N.children||[]),S.return=C,S)}function I(C,S,N,U,te){return S===null||S.tag!==7?(S=Pi(N,C.mode,U,te),S.return=C,S):(S=u(S,N),S.return=C,S)}function k(C,S,N){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=zu(""+S,C.mode,N),S.return=C,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case j:return N=hr(S.type,S.key,S.props,null,C.mode,N),qa(N,S),N.return=C,N;case H:return S=Hu(S,C.mode,N),S.return=C,S;case ze:return S=Zi(S),k(C,S,N)}if(Ie(S)||Me(S))return S=Pi(S,C.mode,N,null),S.return=C,S;if(typeof S.then=="function")return k(C,yr(S),N);if(S.$$typeof===se)return k(C,gr(C,S),N);br(C,S)}return null}function R(C,S,N,U){var te=S!==null?S.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return te!==null?null:_(C,S,""+N,U);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case j:return N.key===te?b(C,S,N,U):null;case H:return N.key===te?w(C,S,N,U):null;case ze:return N=Zi(N),R(C,S,N,U)}if(Ie(N)||Me(N))return te!==null?null:I(C,S,N,U,null);if(typeof N.then=="function")return R(C,S,yr(N),U);if(N.$$typeof===se)return R(C,S,gr(C,N),U);br(C,N)}return null}function D(C,S,N,U,te){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return C=C.get(N)||null,_(S,C,""+U,te);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case j:return C=C.get(U.key===null?N:U.key)||null,b(S,C,U,te);case H:return C=C.get(U.key===null?N:U.key)||null,w(S,C,U,te);case ze:return U=Zi(U),D(C,S,N,U,te)}if(Ie(U)||Me(U))return C=C.get(N)||null,I(S,C,U,te,null);if(typeof U.then=="function")return D(C,S,N,yr(U),te);if(U.$$typeof===se)return D(C,S,N,gr(S,U),te);br(S,U)}return null}function W(C,S,N,U){for(var te=null,we=null,J=S,de=S=0,Ae=null;J!==null&&de<N.length;de++){J.index>de?(Ae=J,J=null):Ae=J.sibling;var Re=R(C,J,N[de],U);if(Re===null){J===null&&(J=Ae);break}e&&J&&Re.alternate===null&&n(C,J),S=f(Re,S,de),we===null?te=Re:we.sibling=Re,we=Re,J=Ae}if(de===N.length)return s(C,J),Ne&&Nn(C,de),te;if(J===null){for(;de<N.length;de++)J=k(C,N[de],U),J!==null&&(S=f(J,S,de),we===null?te=J:we.sibling=J,we=J);return Ne&&Nn(C,de),te}for(J=r(J);de<N.length;de++)Ae=D(J,C,de,N[de],U),Ae!==null&&(e&&Ae.alternate!==null&&J.delete(Ae.key===null?de:Ae.key),S=f(Ae,S,de),we===null?te=Ae:we.sibling=Ae,we=Ae);return e&&J.forEach(function(Si){return n(C,Si)}),Ne&&Nn(C,de),te}function ae(C,S,N,U){if(N==null)throw Error(l(151));for(var te=null,we=null,J=S,de=S=0,Ae=null,Re=N.next();J!==null&&!Re.done;de++,Re=N.next()){J.index>de?(Ae=J,J=null):Ae=J.sibling;var Si=R(C,J,Re.value,U);if(Si===null){J===null&&(J=Ae);break}e&&J&&Si.alternate===null&&n(C,J),S=f(Si,S,de),we===null?te=Si:we.sibling=Si,we=Si,J=Ae}if(Re.done)return s(C,J),Ne&&Nn(C,de),te;if(J===null){for(;!Re.done;de++,Re=N.next())Re=k(C,Re.value,U),Re!==null&&(S=f(Re,S,de),we===null?te=Re:we.sibling=Re,we=Re);return Ne&&Nn(C,de),te}for(J=r(J);!Re.done;de++,Re=N.next())Re=D(J,C,de,Re.value,U),Re!==null&&(e&&Re.alternate!==null&&J.delete(Re.key===null?de:Re.key),S=f(Re,S,de),we===null?te=Re:we.sibling=Re,we=Re);return e&&J.forEach(function(pS){return n(C,pS)}),Ne&&Nn(C,de),te}function Be(C,S,N,U){if(typeof N=="object"&&N!==null&&N.type===L&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case j:e:{for(var te=N.key;S!==null;){if(S.key===te){if(te=N.type,te===L){if(S.tag===7){s(C,S.sibling),U=u(S,N.props.children),U.return=C,C=U;break e}}else if(S.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===ze&&Zi(te)===S.type){s(C,S.sibling),U=u(S,N.props),qa(U,N),U.return=C,C=U;break e}s(C,S);break}else n(C,S);S=S.sibling}N.type===L?(U=Pi(N.props.children,C.mode,U,N.key),U.return=C,C=U):(U=hr(N.type,N.key,N.props,null,C.mode,U),qa(U,N),U.return=C,C=U)}return d(C);case H:e:{for(te=N.key;S!==null;){if(S.key===te)if(S.tag===4&&S.stateNode.containerInfo===N.containerInfo&&S.stateNode.implementation===N.implementation){s(C,S.sibling),U=u(S,N.children||[]),U.return=C,C=U;break e}else{s(C,S);break}else n(C,S);S=S.sibling}U=Hu(N,C.mode,U),U.return=C,C=U}return d(C);case ze:return N=Zi(N),Be(C,S,N,U)}if(Ie(N))return W(C,S,N,U);if(Me(N)){if(te=Me(N),typeof te!="function")throw Error(l(150));return N=te.call(N),ae(C,S,N,U)}if(typeof N.then=="function")return Be(C,S,yr(N),U);if(N.$$typeof===se)return Be(C,S,gr(C,N),U);br(C,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,S!==null&&S.tag===6?(s(C,S.sibling),U=u(S,N),U.return=C,C=U):(s(C,S),U=zu(N,C.mode,U),U.return=C,C=U),d(C)):s(C,S)}return function(C,S,N,U){try{Ba=0;var te=Be(C,S,N,U);return zs=null,te}catch(J){if(J===ks||J===_r)throw J;var we=Gt(29,J,null,C.mode);return we.lanes=U,we.return=C,we}finally{}}}var Ji=Tm(!0),Cm=Tm(!1),ai=!1;function Zu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function li(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ri(e,n,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Oe&2)!==0){var u=r.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),r.pending=n,n=fr(e),rm(e,null,s),n}return cr(e,r,n,s),fr(e)}function Ga(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,gd(e,s)}}function Ju(e,n){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var u=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var d={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?u=f=d:f=f.next=d,s=s.next}while(s!==null);f===null?u=f=n:f=f.next=n}else u=f=n;s={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var $u=!1;function Va(){if($u){var e=Ls;if(e!==null)throw e}}function Ya(e,n,s,r){$u=!1;var u=e.updateQueue;ai=!1;var f=u.firstBaseUpdate,d=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var b=_,w=b.next;b.next=null,d===null?f=w:d.next=w,d=b;var I=e.alternate;I!==null&&(I=I.updateQueue,_=I.lastBaseUpdate,_!==d&&(_===null?I.firstBaseUpdate=w:_.next=w,I.lastBaseUpdate=b))}if(f!==null){var k=u.baseState;d=0,I=w=b=null,_=f;do{var R=_.lane&-536870913,D=R!==_.lane;if(D?(Ce&R)===R:(r&R)===R){R!==0&&R===Us&&($u=!0),I!==null&&(I=I.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var W=e,ae=_;R=n;var Be=s;switch(ae.tag){case 1:if(W=ae.payload,typeof W=="function"){k=W.call(Be,k,R);break e}k=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=ae.payload,R=typeof W=="function"?W.call(Be,k,R):W,R==null)break e;k=v({},k,R);break e;case 2:ai=!0}}R=_.callback,R!==null&&(e.flags|=64,D&&(e.flags|=8192),D=u.callbacks,D===null?u.callbacks=[R]:D.push(R))}else D={lane:R,tag:_.tag,payload:_.payload,callback:_.callback,next:null},I===null?(w=I=D,b=k):I=I.next=D,d|=R;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;D=_,_=D.next,D.next=null,u.lastBaseUpdate=D,u.shared.pending=null}}while(!0);I===null&&(b=k),u.baseState=b,u.firstBaseUpdate=w,u.lastBaseUpdate=I,f===null&&(u.shared.lanes=0),hi|=d,e.lanes=d,e.memoizedState=k}}function Am(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function Nm(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Am(s[e],n)}var Hs=y(null),Er=y(0);function wm(e,n){e=zn,q(Er,e),q(Hs,n),zn=e|n.baseLanes}function ec(){q(Er,zn),q(Hs,Hs.current)}function tc(){zn=Er.current,M(Hs),M(Er)}var Vt=y(null),tn=null;function oi(e){var n=e.alternate;q(tt,tt.current&1),q(Vt,e),tn===null&&(n===null||Hs.current!==null||n.memoizedState!==null)&&(tn=e)}function nc(e){q(tt,tt.current),q(Vt,e),tn===null&&(tn=e)}function Rm(e){e.tag===22?(q(tt,tt.current),q(Vt,e),tn===null&&(tn=e)):ui()}function ui(){q(tt,tt.current),q(Vt,Vt.current)}function Yt(e){M(Vt),tn===e&&(tn=null),M(tt)}var tt=y(0);function Sr(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||uf(s)||cf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var On=0,he=null,He=null,st=null,Tr=!1,js=!1,$i=!1,Cr=0,Pa=0,Bs=null,lE=0;function We(){throw Error(l(321))}function ic(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!qt(e[s],n[s]))return!1;return!0}function sc(e,n,s,r,u,f){return On=f,he=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=e===null||e.memoizedState===null?fg:yc,$i=!1,f=s(r,u),$i=!1,js&&(f=xm(n,s,r,u)),Om(e),f}function Om(e){A.H=Ka;var n=He!==null&&He.next!==null;if(On=0,st=He=he=null,Tr=!1,Pa=0,Bs=null,n)throw Error(l(300));e===null||at||(e=e.dependencies,e!==null&&mr(e)&&(at=!0))}function xm(e,n,s,r){he=e;var u=0;do{if(js&&(Bs=null),Pa=0,js=!1,25<=u)throw Error(l(301));if(u+=1,st=He=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=hg,f=n(s,r)}while(js);return f}function rE(){var e=A.H,n=e.useState()[0];return n=typeof n.then=="function"?Fa(n):n,e=e.useState()[0],(He!==null?He.memoizedState:null)!==e&&(he.flags|=1024),n}function ac(){var e=Cr!==0;return Cr=0,e}function lc(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function rc(e){if(Tr){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Tr=!1}On=0,st=He=he=null,js=!1,Pa=Cr=0,Bs=null}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?he.memoizedState=st=e:st=st.next=e,st}function nt(){if(He===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var n=st===null?he.memoizedState:st.next;if(n!==null)st=n,He=e;else{if(e===null)throw he.alternate===null?Error(l(467)):Error(l(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},st===null?he.memoizedState=st=e:st=st.next=e}return st}function Ar(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fa(e){var n=Pa;return Pa+=1,Bs===null&&(Bs=[]),e=bm(Bs,e,n),n=he,(st===null?n.memoizedState:st.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?fg:yc),e}function Nr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fa(e);if(e.$$typeof===se)return pt(e)}throw Error(l(438,String(e)))}function oc(e){var n=null,s=he.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var r=he.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ar(),he.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),r=0;r<e;r++)s[r]=Ge;return n.index++,s}function xn(e,n){return typeof n=="function"?n(e):n}function wr(e){var n=nt();return uc(n,He,e)}function uc(e,n,s){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=s;var u=e.baseQueue,f=r.pending;if(f!==null){if(u!==null){var d=u.next;u.next=f.next,f.next=d}n.baseQueue=u=f,r.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{n=u.next;var _=d=null,b=null,w=n,I=!1;do{var k=w.lane&-536870913;if(k!==w.lane?(Ce&k)===k:(On&k)===k){var R=w.revertLane;if(R===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),k===Us&&(I=!0);else if((On&R)===R){w=w.next,R===Us&&(I=!0);continue}else k={lane:0,revertLane:w.revertLane,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},b===null?(_=b=k,d=f):b=b.next=k,he.lanes|=R,hi|=R;k=w.action,$i&&s(f,k),f=w.hasEagerState?w.eagerState:s(f,k)}else R={lane:k,revertLane:w.revertLane,gesture:w.gesture,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},b===null?(_=b=R,d=f):b=b.next=R,he.lanes|=k,hi|=k;w=w.next}while(w!==null&&w!==n);if(b===null?d=f:b.next=_,!qt(f,e.memoizedState)&&(at=!0,I&&(s=Ls,s!==null)))throw s;e.memoizedState=f,e.baseState=d,e.baseQueue=b,r.lastRenderedState=f}return u===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function cc(e){var n=nt(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var r=s.dispatch,u=s.pending,f=n.memoizedState;if(u!==null){s.pending=null;var d=u=u.next;do f=e(f,d.action),d=d.next;while(d!==u);qt(f,n.memoizedState)||(at=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,r]}function Dm(e,n,s){var r=he,u=nt(),f=Ne;if(f){if(s===void 0)throw Error(l(407));s=s()}else s=n();var d=!qt((He||u).memoizedState,s);if(d&&(u.memoizedState=s,at=!0),u=u.queue,dc(Um.bind(null,r,u,e),[e]),u.getSnapshot!==n||d||st!==null&&st.memoizedState.tag&1){if(r.flags|=2048,qs(9,{destroy:void 0},Im.bind(null,r,u,s,n),null),Ve===null)throw Error(l(349));f||(On&127)!==0||Mm(r,n,s)}return s}function Mm(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=he.updateQueue,n===null?(n=Ar(),he.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Im(e,n,s,r){n.value=s,n.getSnapshot=r,Lm(n)&&km(e)}function Um(e,n,s){return s(function(){Lm(n)&&km(e)})}function Lm(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!qt(e,s)}catch{return!0}}function km(e){var n=Yi(e,2);n!==null&&Dt(n,e,2)}function fc(e){var n=Ct();if(typeof e=="function"){var s=e;if(e=s(),$i){Jn(!0);try{s()}finally{Jn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:e},n}function zm(e,n,s,r){return e.baseState=s,uc(e,He,typeof r=="function"?r:xn)}function oE(e,n,s,r,u){if(xr(e))throw Error(l(485));if(e=n.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){f.listeners.push(d)}};A.T!==null?s(!0):f.isTransition=!1,r(f),s=n.pending,s===null?(f.next=n.pending=f,Hm(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Hm(e,n){var s=n.action,r=n.payload,u=e.state;if(n.isTransition){var f=A.T,d={};A.T=d;try{var _=s(u,r),b=A.S;b!==null&&b(d,_),jm(e,n,_)}catch(w){hc(e,n,w)}finally{f!==null&&d.types!==null&&(f.types=d.types),A.T=f}}else try{f=s(u,r),jm(e,n,f)}catch(w){hc(e,n,w)}}function jm(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){Bm(e,n,r)},function(r){return hc(e,n,r)}):Bm(e,n,s)}function Bm(e,n,s){n.status="fulfilled",n.value=s,qm(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Hm(e,s)))}function hc(e,n,s){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=s,qm(n),n=n.next;while(n!==r)}e.action=null}function qm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Gm(e,n){return n}function Vm(e,n){if(Ne){var s=Ve.formState;if(s!==null){e:{var r=he;if(Ne){if(Qe){t:{for(var u=Qe,f=en;u.nodeType!==8;){if(!f){u=null;break t}if(u=nn(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Qe=nn(u.nextSibling),r=u.data==="F!";break e}}ii(r)}r=!1}r&&(n=s[0])}}return s=Ct(),s.memoizedState=s.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gm,lastRenderedState:n},s.queue=r,s=og.bind(null,he,r),r.dispatch=s,r=fc(!1),f=vc.bind(null,he,!1,r.queue),r=Ct(),u={state:n,dispatch:null,action:e,pending:null},r.queue=u,s=oE.bind(null,he,u,f,s),u.dispatch=s,r.memoizedState=e,[n,s,!1]}function Ym(e){var n=nt();return Pm(n,He,e)}function Pm(e,n,s){if(n=uc(e,n,Gm)[0],e=wr(xn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=Fa(n)}catch(d){throw d===ks?_r:d}else r=n;n=nt();var u=n.queue,f=u.dispatch;return s!==n.memoizedState&&(he.flags|=2048,qs(9,{destroy:void 0},uE.bind(null,u,s),null)),[r,f,e]}function uE(e,n){e.action=n}function Fm(e){var n=nt(),s=He;if(s!==null)return Pm(n,s,e);nt(),n=n.memoizedState,s=nt();var r=s.queue.dispatch;return s.memoizedState=e,[n,r,!1]}function qs(e,n,s,r){return e={tag:e,create:s,deps:r,inst:n,next:null},n=he.updateQueue,n===null&&(n=Ar(),he.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,n.lastEffect=e),e}function Qm(){return nt().memoizedState}function Rr(e,n,s,r){var u=Ct();he.flags|=e,u.memoizedState=qs(1|n,{destroy:void 0},s,r===void 0?null:r)}function Or(e,n,s,r){var u=nt();r=r===void 0?null:r;var f=u.memoizedState.inst;He!==null&&r!==null&&ic(r,He.memoizedState.deps)?u.memoizedState=qs(n,f,s,r):(he.flags|=e,u.memoizedState=qs(1|n,f,s,r))}function Km(e,n){Rr(8390656,8,e,n)}function dc(e,n){Or(2048,8,e,n)}function cE(e){he.flags|=4;var n=he.updateQueue;if(n===null)n=Ar(),he.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Xm(e){var n=nt().memoizedState;return cE({ref:n,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function Zm(e,n){return Or(4,2,e,n)}function Wm(e,n){return Or(4,4,e,n)}function Jm(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function $m(e,n,s){s=s!=null?s.concat([e]):null,Or(4,4,Jm.bind(null,n,e),s)}function mc(){}function eg(e,n){var s=nt();n=n===void 0?null:n;var r=s.memoizedState;return n!==null&&ic(n,r[1])?r[0]:(s.memoizedState=[e,n],e)}function tg(e,n){var s=nt();n=n===void 0?null:n;var r=s.memoizedState;if(n!==null&&ic(n,r[1]))return r[0];if(r=e(),$i){Jn(!0);try{e()}finally{Jn(!1)}}return s.memoizedState=[r,n],r}function gc(e,n,s){return s===void 0||(On&1073741824)!==0&&(Ce&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=np(),he.lanes|=e,hi|=e,s)}function ng(e,n,s,r){return qt(s,n)?s:Hs.current!==null?(e=gc(e,s,r),qt(e,n)||(at=!0),e):(On&42)===0||(On&1073741824)!==0&&(Ce&261930)===0?(at=!0,e.memoizedState=s):(e=np(),he.lanes|=e,hi|=e,n)}function ig(e,n,s,r,u){var f=B.p;B.p=f!==0&&8>f?f:8;var d=A.T,_={};A.T=_,vc(e,!1,n,s);try{var b=u(),w=A.S;if(w!==null&&w(_,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var I=aE(b,r);Qa(e,n,I,Qt(e))}else Qa(e,n,r,Qt(e))}catch(k){Qa(e,n,{then:function(){},status:"rejected",reason:k},Qt())}finally{B.p=f,d!==null&&_.types!==null&&(d.types=_.types),A.T=d}}function fE(){}function pc(e,n,s,r){if(e.tag!==5)throw Error(l(476));var u=sg(e).queue;ig(e,u,n,z,s===null?fE:function(){return ag(e),s(r)})}function sg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:z},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function ag(e){var n=sg(e);n.next===null&&(n=e.alternate.memoizedState),Qa(e,n.next.queue,{},Qt())}function _c(){return pt(cl)}function lg(){return nt().memoizedState}function rg(){return nt().memoizedState}function hE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Qt();e=li(s);var r=ri(n,e,s);r!==null&&(Dt(r,n,s),Ga(r,n,s)),n={cache:Fu()},e.payload=n;return}n=n.return}}function dE(e,n,s){var r=Qt();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},xr(e)?ug(n,s):(s=Lu(e,n,s,r),s!==null&&(Dt(s,e,r),cg(s,n,r)))}function og(e,n,s){var r=Qt();Qa(e,n,s,r)}function Qa(e,n,s,r){var u={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(xr(e))ug(n,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var d=n.lastRenderedState,_=f(d,s);if(u.hasEagerState=!0,u.eagerState=_,qt(_,d))return cr(e,n,u,0),Ve===null&&ur(),!1}catch{}finally{}if(s=Lu(e,n,u,r),s!==null)return Dt(s,e,r),cg(s,n,r),!0}return!1}function vc(e,n,s,r){if(r={lane:2,revertLane:Zc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},xr(e)){if(n)throw Error(l(479))}else n=Lu(e,s,r,2),n!==null&&Dt(n,e,2)}function xr(e){var n=e.alternate;return e===he||n!==null&&n===he}function ug(e,n){js=Tr=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function cg(e,n,s){if((s&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,gd(e,s)}}var Ka={readContext:pt,use:Nr,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};Ka.useEffectEvent=We;var fg={readContext:pt,use:Nr,useCallback:function(e,n){return Ct().memoizedState=[e,n===void 0?null:n],e},useContext:pt,useEffect:Km,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Rr(4194308,4,Jm.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Rr(4194308,4,e,n)},useInsertionEffect:function(e,n){Rr(4,2,e,n)},useMemo:function(e,n){var s=Ct();n=n===void 0?null:n;var r=e();if($i){Jn(!0);try{e()}finally{Jn(!1)}}return s.memoizedState=[r,n],r},useReducer:function(e,n,s){var r=Ct();if(s!==void 0){var u=s(n);if($i){Jn(!0);try{s(n)}finally{Jn(!1)}}}else u=n;return r.memoizedState=r.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},r.queue=e,e=e.dispatch=dE.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var n=Ct();return e={current:e},n.memoizedState=e},useState:function(e){e=fc(e);var n=e.queue,s=og.bind(null,he,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:mc,useDeferredValue:function(e,n){var s=Ct();return gc(s,e,n)},useTransition:function(){var e=fc(!1);return e=ig.bind(null,he,e.queue,!0,!1),Ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var r=he,u=Ct();if(Ne){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),Ve===null)throw Error(l(349));(Ce&127)!==0||Mm(r,n,s)}u.memoizedState=s;var f={value:s,getSnapshot:n};return u.queue=f,Km(Um.bind(null,r,f,e),[e]),r.flags|=2048,qs(9,{destroy:void 0},Im.bind(null,r,f,s,n),null),s},useId:function(){var e=Ct(),n=Ve.identifierPrefix;if(Ne){var s=gn,r=mn;s=(r&~(1<<32-Bt(r)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Cr++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=lE++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:_c,useFormState:Vm,useActionState:Vm,useOptimistic:function(e){var n=Ct();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=vc.bind(null,he,!0,s),s.dispatch=n,[e,n]},useMemoCache:oc,useCacheRefresh:function(){return Ct().memoizedState=hE.bind(null,he)},useEffectEvent:function(e){var n=Ct(),s={impl:e};return n.memoizedState=s,function(){if((Oe&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},yc={readContext:pt,use:Nr,useCallback:eg,useContext:pt,useEffect:dc,useImperativeHandle:$m,useInsertionEffect:Zm,useLayoutEffect:Wm,useMemo:tg,useReducer:wr,useRef:Qm,useState:function(){return wr(xn)},useDebugValue:mc,useDeferredValue:function(e,n){var s=nt();return ng(s,He.memoizedState,e,n)},useTransition:function(){var e=wr(xn)[0],n=nt().memoizedState;return[typeof e=="boolean"?e:Fa(e),n]},useSyncExternalStore:Dm,useId:lg,useHostTransitionStatus:_c,useFormState:Ym,useActionState:Ym,useOptimistic:function(e,n){var s=nt();return zm(s,He,e,n)},useMemoCache:oc,useCacheRefresh:rg};yc.useEffectEvent=Xm;var hg={readContext:pt,use:Nr,useCallback:eg,useContext:pt,useEffect:dc,useImperativeHandle:$m,useInsertionEffect:Zm,useLayoutEffect:Wm,useMemo:tg,useReducer:cc,useRef:Qm,useState:function(){return cc(xn)},useDebugValue:mc,useDeferredValue:function(e,n){var s=nt();return He===null?gc(s,e,n):ng(s,He.memoizedState,e,n)},useTransition:function(){var e=cc(xn)[0],n=nt().memoizedState;return[typeof e=="boolean"?e:Fa(e),n]},useSyncExternalStore:Dm,useId:lg,useHostTransitionStatus:_c,useFormState:Fm,useActionState:Fm,useOptimistic:function(e,n){var s=nt();return He!==null?zm(s,He,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:oc,useCacheRefresh:rg};hg.useEffectEvent=Xm;function bc(e,n,s,r){n=e.memoizedState,s=s(r,n),s=s==null?n:v({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ec={enqueueSetState:function(e,n,s){e=e._reactInternals;var r=Qt(),u=li(r);u.payload=n,s!=null&&(u.callback=s),n=ri(e,u,r),n!==null&&(Dt(n,e,r),Ga(n,e,r))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var r=Qt(),u=li(r);u.tag=1,u.payload=n,s!=null&&(u.callback=s),n=ri(e,u,r),n!==null&&(Dt(n,e,r),Ga(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Qt(),r=li(s);r.tag=2,n!=null&&(r.callback=n),n=ri(e,r,s),n!==null&&(Dt(n,e,s),Ga(n,e,s))}};function dg(e,n,s,r,u,f,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,d):n.prototype&&n.prototype.isPureReactComponent?!Ua(s,r)||!Ua(u,f):!0}function mg(e,n,s,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,r),n.state!==e&&Ec.enqueueReplaceState(n,n.state,null)}function es(e,n){var s=n;if("ref"in n){s={};for(var r in n)r!=="ref"&&(s[r]=n[r])}if(e=e.defaultProps){s===n&&(s=v({},s));for(var u in e)s[u]===void 0&&(s[u]=e[u])}return s}function gg(e){or(e)}function pg(e){console.error(e)}function _g(e){or(e)}function Dr(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function vg(e,n,s){try{var r=e.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Sc(e,n,s){return s=li(s),s.tag=3,s.payload={element:null},s.callback=function(){Dr(e,n)},s}function yg(e){return e=li(e),e.tag=3,e}function bg(e,n,s,r){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;e.payload=function(){return u(f)},e.callback=function(){vg(n,s,r)}}var d=s.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){vg(n,s,r),typeof u!="function"&&(di===null?di=new Set([this]):di.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function mE(e,n,s,r,u){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=s.alternate,n!==null&&Is(n,s,u,!0),s=Vt.current,s!==null){switch(s.tag){case 31:case 13:return tn===null?Vr():s.alternate===null&&Je===0&&(Je=3),s.flags&=-257,s.flags|=65536,s.lanes=u,r===vr?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([r]):n.add(r),Qc(e,r,u)),!1;case 22:return s.flags|=65536,r===vr?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([r]):s.add(r)),Qc(e,r,u)),!1}throw Error(l(435,s.tag))}return Qc(e,r,u),Vr(),!1}if(Ne)return n=Vt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,r!==qu&&(e=Error(l(422),{cause:r}),za(Wt(e,s)))):(r!==qu&&(n=Error(l(423),{cause:r}),za(Wt(n,s))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,r=Wt(r,s),u=Sc(e.stateNode,r,u),Ju(e,u),Je!==4&&(Je=2)),!1;var f=Error(l(520),{cause:r});if(f=Wt(f,s),nl===null?nl=[f]:nl.push(f),Je!==4&&(Je=2),n===null)return!0;r=Wt(r,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=u&-u,s.lanes|=e,e=Sc(s.stateNode,r,e),Ju(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(di===null||!di.has(f))))return s.flags|=65536,u&=-u,s.lanes|=u,u=yg(u),bg(u,e,s,r),Ju(s,u),!1}s=s.return}while(s!==null);return!1}var Tc=Error(l(461)),at=!1;function _t(e,n,s,r){n.child=e===null?Cm(n,null,s,r):Ji(n,e.child,s,r)}function Eg(e,n,s,r,u){s=s.render;var f=n.ref;if("ref"in r){var d={};for(var _ in r)_!=="ref"&&(d[_]=r[_])}else d=r;return Ki(n),r=sc(e,n,s,d,f,u),_=ac(),e!==null&&!at?(lc(e,n,u),Dn(e,n,u)):(Ne&&_&&ju(n),n.flags|=1,_t(e,n,r,u),n.child)}function Sg(e,n,s,r,u){if(e===null){var f=s.type;return typeof f=="function"&&!ku(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Tg(e,n,f,r,u)):(e=hr(s.type,null,r,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Dc(e,u)){var d=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ua,s(d,r)&&e.ref===n.ref)return Dn(e,n,u)}return n.flags|=1,e=An(f,r),e.ref=n.ref,e.return=n,n.child=e}function Tg(e,n,s,r,u){if(e!==null){var f=e.memoizedProps;if(Ua(f,r)&&e.ref===n.ref)if(at=!1,n.pendingProps=r=f,Dc(e,u))(e.flags&131072)!==0&&(at=!0);else return n.lanes=e.lanes,Dn(e,n,u)}return Cc(e,n,s,r,u)}function Cg(e,n,s,r){var u=r.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(r=n.child=e.child,u=0;r!==null;)u=u|r.lanes|r.childLanes,r=r.sibling;r=u&~f}else r=0,n.child=null;return Ag(e,n,f,s,r)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&pr(n,f!==null?f.cachePool:null),f!==null?wm(n,f):ec(),Rm(n);else return r=n.lanes=536870912,Ag(e,n,f!==null?f.baseLanes|s:s,s,r)}else f!==null?(pr(n,f.cachePool),wm(n,f),ui(),n.memoizedState=null):(e!==null&&pr(n,null),ec(),ui());return _t(e,n,u,s),n.child}function Xa(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ag(e,n,s,r,u){var f=Ku();return f=f===null?null:{parent:it._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&pr(n,null),ec(),Rm(n),e!==null&&Is(e,n,r,!0),n.childLanes=u,null}function Mr(e,n){return n=Ur({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ng(e,n,s){return Ji(n,e.child,null,s),e=Mr(n,n.pendingProps),e.flags|=2,Yt(n),n.memoizedState=null,e}function gE(e,n,s){var r=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ne){if(r.mode==="hidden")return e=Mr(n,r),n.lanes=536870912,Xa(null,e);if(nc(n),(e=Qe)?(e=Hp(e,en),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ti!==null?{id:mn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},s=um(e),s.return=n,n.child=s,gt=n,Qe=null)):e=null,e===null)throw ii(n);return n.lanes=536870912,null}return Mr(n,r)}var f=e.memoizedState;if(f!==null){var d=f.dehydrated;if(nc(n),u)if(n.flags&256)n.flags&=-257,n=Ng(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(l(558));else if(at||Is(e,n,s,!1),u=(s&e.childLanes)!==0,at||u){if(r=Ve,r!==null&&(d=pd(r,s),d!==0&&d!==f.retryLane))throw f.retryLane=d,Yi(e,d),Dt(r,e,d),Tc;Vr(),n=Ng(e,n,s)}else e=f.treeContext,Qe=nn(d.nextSibling),gt=n,Ne=!0,ni=null,en=!1,e!==null&&hm(n,e),n=Mr(n,r),n.flags|=4096;return n}return e=An(e.child,{mode:r.mode,children:r.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ir(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Cc(e,n,s,r,u){return Ki(n),s=sc(e,n,s,r,void 0,u),r=ac(),e!==null&&!at?(lc(e,n,u),Dn(e,n,u)):(Ne&&r&&ju(n),n.flags|=1,_t(e,n,s,u),n.child)}function wg(e,n,s,r,u,f){return Ki(n),n.updateQueue=null,s=xm(n,r,s,u),Om(e),r=ac(),e!==null&&!at?(lc(e,n,f),Dn(e,n,f)):(Ne&&r&&ju(n),n.flags|=1,_t(e,n,s,f),n.child)}function Rg(e,n,s,r,u){if(Ki(n),n.stateNode===null){var f=Os,d=s.contextType;typeof d=="object"&&d!==null&&(f=pt(d)),f=new s(r,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ec,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=r,f.state=n.memoizedState,f.refs={},Zu(n),d=s.contextType,f.context=typeof d=="object"&&d!==null?pt(d):Os,f.state=n.memoizedState,d=s.getDerivedStateFromProps,typeof d=="function"&&(bc(n,s,d,r),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(d=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),d!==f.state&&Ec.enqueueReplaceState(f,f.state,null),Ya(n,r,f,u),Va(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){f=n.stateNode;var _=n.memoizedProps,b=es(s,_);f.props=b;var w=f.context,I=s.contextType;d=Os,typeof I=="object"&&I!==null&&(d=pt(I));var k=s.getDerivedStateFromProps;I=typeof k=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,I||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||w!==d)&&mg(n,f,r,d),ai=!1;var R=n.memoizedState;f.state=R,Ya(n,r,f,u),Va(),w=n.memoizedState,_||R!==w||ai?(typeof k=="function"&&(bc(n,s,k,r),w=n.memoizedState),(b=ai||dg(n,s,b,r,R,w,d))?(I||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=w),f.props=r,f.state=w,f.context=d,r=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{f=n.stateNode,Wu(e,n),d=n.memoizedProps,I=es(s,d),f.props=I,k=n.pendingProps,R=f.context,w=s.contextType,b=Os,typeof w=="object"&&w!==null&&(b=pt(w)),_=s.getDerivedStateFromProps,(w=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(d!==k||R!==b)&&mg(n,f,r,b),ai=!1,R=n.memoizedState,f.state=R,Ya(n,r,f,u),Va();var D=n.memoizedState;d!==k||R!==D||ai||e!==null&&e.dependencies!==null&&mr(e.dependencies)?(typeof _=="function"&&(bc(n,s,_,r),D=n.memoizedState),(I=ai||dg(n,s,I,r,R,D,b)||e!==null&&e.dependencies!==null&&mr(e.dependencies))?(w||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,D,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,D,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=D),f.props=r,f.state=D,f.context=b,r=I):(typeof f.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),r=!1)}return f=r,Ir(e,n),r=(n.flags&128)!==0,f||r?(f=n.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&r?(n.child=Ji(n,e.child,null,u),n.child=Ji(n,null,s,u)):_t(e,n,s,u),n.memoizedState=f.state,e=n.child):e=Dn(e,n,u),e}function Og(e,n,s,r){return Fi(),n.flags|=256,_t(e,n,s,r),n.child}var Ac={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nc(e){return{baseLanes:e,cachePool:vm()}}function wc(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Ft),e}function xg(e,n,s){var r=n.pendingProps,u=!1,f=(n.flags&128)!==0,d;if((d=f)||(d=e!==null&&e.memoizedState===null?!1:(tt.current&2)!==0),d&&(u=!0,n.flags&=-129),d=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ne){if(u?oi(n):ui(),(e=Qe)?(e=Hp(e,en),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ti!==null?{id:mn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},s=um(e),s.return=n,n.child=s,gt=n,Qe=null)):e=null,e===null)throw ii(n);return cf(e)?n.lanes=32:n.lanes=536870912,null}var _=r.children;return r=r.fallback,u?(ui(),u=n.mode,_=Ur({mode:"hidden",children:_},u),r=Pi(r,u,s,null),_.return=n,r.return=n,_.sibling=r,n.child=_,r=n.child,r.memoizedState=Nc(s),r.childLanes=wc(e,d,s),n.memoizedState=Ac,Xa(null,r)):(oi(n),Rc(n,_))}var b=e.memoizedState;if(b!==null&&(_=b.dehydrated,_!==null)){if(f)n.flags&256?(oi(n),n.flags&=-257,n=Oc(e,n,s)):n.memoizedState!==null?(ui(),n.child=e.child,n.flags|=128,n=null):(ui(),_=r.fallback,u=n.mode,r=Ur({mode:"visible",children:r.children},u),_=Pi(_,u,s,null),_.flags|=2,r.return=n,_.return=n,r.sibling=_,n.child=r,Ji(n,e.child,null,s),r=n.child,r.memoizedState=Nc(s),r.childLanes=wc(e,d,s),n.memoizedState=Ac,n=Xa(null,r));else if(oi(n),cf(_)){if(d=_.nextSibling&&_.nextSibling.dataset,d)var w=d.dgst;d=w,r=Error(l(419)),r.stack="",r.digest=d,za({value:r,source:null,stack:null}),n=Oc(e,n,s)}else if(at||Is(e,n,s,!1),d=(s&e.childLanes)!==0,at||d){if(d=Ve,d!==null&&(r=pd(d,s),r!==0&&r!==b.retryLane))throw b.retryLane=r,Yi(e,r),Dt(d,e,r),Tc;uf(_)||Vr(),n=Oc(e,n,s)}else uf(_)?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,Qe=nn(_.nextSibling),gt=n,Ne=!0,ni=null,en=!1,e!==null&&hm(n,e),n=Rc(n,r.children),n.flags|=4096);return n}return u?(ui(),_=r.fallback,u=n.mode,b=e.child,w=b.sibling,r=An(b,{mode:"hidden",children:r.children}),r.subtreeFlags=b.subtreeFlags&65011712,w!==null?_=An(w,_):(_=Pi(_,u,s,null),_.flags|=2),_.return=n,r.return=n,r.sibling=_,n.child=r,Xa(null,r),r=n.child,_=e.child.memoizedState,_===null?_=Nc(s):(u=_.cachePool,u!==null?(b=it._currentValue,u=u.parent!==b?{parent:b,pool:b}:u):u=vm(),_={baseLanes:_.baseLanes|s,cachePool:u}),r.memoizedState=_,r.childLanes=wc(e,d,s),n.memoizedState=Ac,Xa(e.child,r)):(oi(n),s=e.child,e=s.sibling,s=An(s,{mode:"visible",children:r.children}),s.return=n,s.sibling=null,e!==null&&(d=n.deletions,d===null?(n.deletions=[e],n.flags|=16):d.push(e)),n.child=s,n.memoizedState=null,s)}function Rc(e,n){return n=Ur({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ur(e,n){return e=Gt(22,e,null,n),e.lanes=0,e}function Oc(e,n,s){return Ji(n,e.child,null,s),e=Rc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Dg(e,n,s){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),Yu(e.return,n,s)}function xc(e,n,s,r,u,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:u,treeForkCount:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=s,d.tailMode=u,d.treeForkCount=f)}function Mg(e,n,s){var r=n.pendingProps,u=r.revealOrder,f=r.tail;r=r.children;var d=tt.current,_=(d&2)!==0;if(_?(d=d&1|2,n.flags|=128):d&=1,q(tt,d),_t(e,n,r,s),r=Ne?ka:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dg(e,s,n);else if(e.tag===19)Dg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&Sr(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),xc(n,!1,u,s,f,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Sr(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}xc(n,!0,s,null,f,r);break;case"together":xc(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function Dn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),hi|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Is(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,s=An(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=An(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Dc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&mr(e)))}function pE(e,n,s){switch(n.tag){case 3:ue(n,n.stateNode.containerInfo),si(n,it,e.memoizedState.cache),Fi();break;case 27:case 5:ne(n);break;case 4:ue(n,n.stateNode.containerInfo);break;case 10:si(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,nc(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(oi(n),n.flags|=128,null):(s&n.child.childLanes)!==0?xg(e,n,s):(oi(n),e=Dn(e,n,s),e!==null?e.sibling:null);oi(n);break;case 19:var u=(e.flags&128)!==0;if(r=(s&n.childLanes)!==0,r||(Is(e,n,s,!1),r=(s&n.childLanes)!==0),u){if(r)return Mg(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),q(tt,tt.current),r)break;return null;case 22:return n.lanes=0,Cg(e,n,s,n.pendingProps);case 24:si(n,it,e.memoizedState.cache)}return Dn(e,n,s)}function Ig(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)at=!0;else{if(!Dc(e,s)&&(n.flags&128)===0)return at=!1,pE(e,n,s);at=(e.flags&131072)!==0}else at=!1,Ne&&(n.flags&1048576)!==0&&fm(n,ka,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=Zi(n.elementType),n.type=e,typeof e=="function")ku(e)?(r=es(e,r),n.tag=1,n=Rg(null,n,e,r,s)):(n.tag=0,n=Cc(null,n,e,r,s));else{if(e!=null){var u=e.$$typeof;if(u===ee){n.tag=11,n=Eg(null,n,e,r,s);break e}else if(u===le){n.tag=14,n=Sg(null,n,e,r,s);break e}}throw n=me(e)||e,Error(l(306,n,""))}}return n;case 0:return Cc(e,n,n.type,n.pendingProps,s);case 1:return r=n.type,u=es(r,n.pendingProps),Rg(e,n,r,u,s);case 3:e:{if(ue(n,n.stateNode.containerInfo),e===null)throw Error(l(387));r=n.pendingProps;var f=n.memoizedState;u=f.element,Wu(e,n),Ya(n,r,null,s);var d=n.memoizedState;if(r=d.cache,si(n,it,r),r!==f.cache&&Pu(n,[it],s,!0),Va(),r=d.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:d.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Og(e,n,r,s);break e}else if(r!==u){u=Wt(Error(l(424)),n),za(u),n=Og(e,n,r,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Qe=nn(e.firstChild),gt=n,Ne=!0,ni=null,en=!0,s=Cm(n,null,r,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Fi(),r===u){n=Dn(e,n,s);break e}_t(e,n,r,s)}n=n.child}return n;case 26:return Ir(e,n),e===null?(s=Yp(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ne||(s=n.type,e=n.pendingProps,r=Zr(O.current).createElement(s),r[mt]=n,r[At]=e,vt(r,s,e),ut(r),n.stateNode=r):n.memoizedState=Yp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ne(n),e===null&&Ne&&(r=n.stateNode=qp(n.type,n.pendingProps,O.current),gt=n,en=!0,u=Qe,_i(n.type)?(ff=u,Qe=nn(r.firstChild)):Qe=u),_t(e,n,n.pendingProps.children,s),Ir(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ne&&((u=r=Qe)&&(r=FE(r,n.type,n.pendingProps,en),r!==null?(n.stateNode=r,gt=n,Qe=nn(r.firstChild),en=!1,u=!0):u=!1),u||ii(n)),ne(n),u=n.type,f=n.pendingProps,d=e!==null?e.memoizedProps:null,r=f.children,lf(u,f)?r=null:d!==null&&lf(u,d)&&(n.flags|=32),n.memoizedState!==null&&(u=sc(e,n,rE,null,null,s),cl._currentValue=u),Ir(e,n),_t(e,n,r,s),n.child;case 6:return e===null&&Ne&&((e=s=Qe)&&(s=QE(s,n.pendingProps,en),s!==null?(n.stateNode=s,gt=n,Qe=null,e=!0):e=!1),e||ii(n)),null;case 13:return xg(e,n,s);case 4:return ue(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=Ji(n,null,r,s):_t(e,n,r,s),n.child;case 11:return Eg(e,n,n.type,n.pendingProps,s);case 7:return _t(e,n,n.pendingProps,s),n.child;case 8:return _t(e,n,n.pendingProps.children,s),n.child;case 12:return _t(e,n,n.pendingProps.children,s),n.child;case 10:return r=n.pendingProps,si(n,n.type,r.value),_t(e,n,r.children,s),n.child;case 9:return u=n.type._context,r=n.pendingProps.children,Ki(n),u=pt(u),r=r(u),n.flags|=1,_t(e,n,r,s),n.child;case 14:return Sg(e,n,n.type,n.pendingProps,s);case 15:return Tg(e,n,n.type,n.pendingProps,s);case 19:return Mg(e,n,s);case 31:return gE(e,n,s);case 22:return Cg(e,n,s,n.pendingProps);case 24:return Ki(n),r=pt(it),e===null?(u=Ku(),u===null&&(u=Ve,f=Fu(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=s),u=f),n.memoizedState={parent:r,cache:u},Zu(n),si(n,it,u)):((e.lanes&s)!==0&&(Wu(e,n),Ya(n,null,null,s),Va()),u=e.memoizedState,f=n.memoizedState,u.parent!==r?(u={parent:r,cache:r},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),si(n,it,r)):(r=f.cache,si(n,it,r),r!==u.cache&&Pu(n,[it],s,!0))),_t(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function Mn(e){e.flags|=4}function Mc(e,n,s,r,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(lp())e.flags|=8192;else throw Wi=vr,Xu}else e.flags&=-16777217}function Ug(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Xp(n))if(lp())e.flags|=8192;else throw Wi=vr,Xu}function Lr(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?dd():536870912,e.lanes|=n,Ps|=n)}function Za(e,n){if(!Ne)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ke(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=r,e.childLanes=s,n}function _E(e,n,s){var r=n.pendingProps;switch(Bu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(n),null;case 1:return Ke(n),null;case 3:return s=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Rn(it),_e(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ms(n)?Mn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gu())),Ke(n),null;case 26:var u=n.type,f=n.memoizedState;return e===null?(Mn(n),f!==null?(Ke(n),Ug(n,f)):(Ke(n),Mc(n,u,null,r,s))):f?f!==e.memoizedState?(Mn(n),Ke(n),Ug(n,f)):(Ke(n),n.flags&=-16777217):(e=e.memoizedProps,e!==r&&Mn(n),Ke(n),Mc(n,u,e,r,s)),null;case 27:if(Z(n),s=O.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&Mn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return Ke(n),null}e=F.current,Ms(n)?dm(n):(e=qp(u,r,s),n.stateNode=e,Mn(n))}return Ke(n),null;case 5:if(Z(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&Mn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return Ke(n),null}if(f=F.current,Ms(n))dm(n);else{var d=Zr(O.current);switch(f){case 1:f=d.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=d.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=d.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof r.is=="string"?d.createElement("select",{is:r.is}):d.createElement("select"),r.multiple?f.multiple=!0:r.size&&(f.size=r.size);break;default:f=typeof r.is=="string"?d.createElement(u,{is:r.is}):d.createElement(u)}}f[mt]=n,f[At]=r;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)f.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=f;e:switch(vt(f,u,r),u){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Mn(n)}}return Ke(n),Mc(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&Mn(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(l(166));if(e=O.current,Ms(n)){if(e=n.stateNode,s=n.memoizedProps,r=null,u=gt,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}e[mt]=n,e=!!(e.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||xp(e.nodeValue,s)),e||ii(n,!0)}else e=Zr(e).createTextNode(r),e[mt]=n,n.stateNode=e}return Ke(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(r=Ms(n),s!==null){if(e===null){if(!r)throw Error(l(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[mt]=n}else Fi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ke(n),e=!1}else s=Gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Yt(n),n):(Yt(n),null);if((n.flags&128)!==0)throw Error(l(558))}return Ke(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ms(n),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[mt]=n}else Fi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ke(n),u=!1}else u=Gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(Yt(n),n):(Yt(n),null)}return Yt(n),(n.flags&128)!==0?(n.lanes=s,n):(s=r!==null,e=e!==null&&e.memoizedState!==null,s&&(r=n.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==u&&(r.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Lr(n,n.updateQueue),Ke(n),null);case 4:return _e(),e===null&&ef(n.stateNode.containerInfo),Ke(n),null;case 10:return Rn(n.type),Ke(n),null;case 19:if(M(tt),r=n.memoizedState,r===null)return Ke(n),null;if(u=(n.flags&128)!==0,f=r.rendering,f===null)if(u)Za(r,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Sr(e),f!==null){for(n.flags|=128,Za(r,!1),e=f.updateQueue,n.updateQueue=e,Lr(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)om(s,e),s=s.sibling;return q(tt,tt.current&1|2),Ne&&Nn(n,r.treeForkCount),n.child}e=e.sibling}r.tail!==null&&Ht()>Br&&(n.flags|=128,u=!0,Za(r,!1),n.lanes=4194304)}else{if(!u)if(e=Sr(f),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,Lr(n,e),Za(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!Ne)return Ke(n),null}else 2*Ht()-r.renderingStartTime>Br&&s!==536870912&&(n.flags|=128,u=!0,Za(r,!1),n.lanes=4194304);r.isBackwards?(f.sibling=n.child,n.child=f):(e=r.last,e!==null?e.sibling=f:n.child=f,r.last=f)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ht(),e.sibling=null,s=tt.current,q(tt,u?s&1|2:s&1),Ne&&Nn(n,r.treeForkCount),e):(Ke(n),null);case 22:case 23:return Yt(n),tc(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(s&536870912)!==0&&(n.flags&128)===0&&(Ke(n),n.subtreeFlags&6&&(n.flags|=8192)):Ke(n),s=n.updateQueue,s!==null&&Lr(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==s&&(n.flags|=2048),e!==null&&M(Xi),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Rn(it),Ke(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function vE(e,n){switch(Bu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Rn(it),_e(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Z(n),null;case 31:if(n.memoizedState!==null){if(Yt(n),n.alternate===null)throw Error(l(340));Fi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Yt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));Fi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return M(tt),null;case 4:return _e(),null;case 10:return Rn(n.type),null;case 22:case 23:return Yt(n),tc(),e!==null&&M(Xi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Rn(it),null;case 25:return null;default:return null}}function Lg(e,n){switch(Bu(n),n.tag){case 3:Rn(it),_e();break;case 26:case 27:case 5:Z(n);break;case 4:_e();break;case 31:n.memoizedState!==null&&Yt(n);break;case 13:Yt(n);break;case 19:M(tt);break;case 10:Rn(n.type);break;case 22:case 23:Yt(n),tc(),e!==null&&M(Xi);break;case 24:Rn(it)}}function Wa(e,n){try{var s=n.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var u=r.next;s=u;do{if((s.tag&e)===e){r=void 0;var f=s.create,d=s.inst;r=f(),d.destroy=r}s=s.next}while(s!==u)}}catch(_){Le(n,n.return,_)}}function ci(e,n,s){try{var r=n.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var f=u.next;r=f;do{if((r.tag&e)===e){var d=r.inst,_=d.destroy;if(_!==void 0){d.destroy=void 0,u=n;var b=s,w=_;try{w()}catch(I){Le(u,b,I)}}}r=r.next}while(r!==f)}}catch(I){Le(n,n.return,I)}}function kg(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Nm(n,s)}catch(r){Le(e,e.return,r)}}}function zg(e,n,s){s.props=es(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(r){Le(e,n,r)}}function Ja(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof s=="function"?e.refCleanup=s(r):s.current=r}}catch(u){Le(e,n,u)}}function pn(e,n){var s=e.ref,r=e.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(u){Le(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){Le(e,n,u)}else s.current=null}function Hg(e){var n=e.type,s=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(u){Le(e,e.return,u)}}function Ic(e,n,s){try{var r=e.stateNode;BE(r,e.type,s,n),r[At]=n}catch(u){Le(e,e.return,u)}}function jg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_i(e.type)||e.tag===4}function Uc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_i(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lc(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Tn));else if(r!==4&&(r===27&&_i(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Lc(e,n,s),e=e.sibling;e!==null;)Lc(e,n,s),e=e.sibling}function kr(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(r!==4&&(r===27&&_i(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(kr(e,n,s),e=e.sibling;e!==null;)kr(e,n,s),e=e.sibling}function Bg(e){var n=e.stateNode,s=e.memoizedProps;try{for(var r=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);vt(n,r,s),n[mt]=e,n[At]=s}catch(f){Le(e,e.return,f)}}var In=!1,lt=!1,kc=!1,qg=typeof WeakSet=="function"?WeakSet:Set,ct=null;function yE(e,n){if(e=e.containerInfo,sf=io,e=$d(e),Ou(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var u=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var d=0,_=-1,b=-1,w=0,I=0,k=e,R=null;t:for(;;){for(var D;k!==s||u!==0&&k.nodeType!==3||(_=d+u),k!==f||r!==0&&k.nodeType!==3||(b=d+r),k.nodeType===3&&(d+=k.nodeValue.length),(D=k.firstChild)!==null;)R=k,k=D;for(;;){if(k===e)break t;if(R===s&&++w===u&&(_=d),R===f&&++I===r&&(b=d),(D=k.nextSibling)!==null)break;k=R,R=k.parentNode}k=D}s=_===-1||b===-1?null:{start:_,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(af={focusedElem:e,selectionRange:s},io=!1,ct=n;ct!==null;)if(n=ct,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ct=e;else for(;ct!==null;){switch(n=ct,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)u=e[s],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,u=f.memoizedProps,f=f.memoizedState,r=s.stateNode;try{var W=es(s.type,u);e=r.getSnapshotBeforeUpdate(W,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(ae){Le(s,s.return,ae)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)of(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":of(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,ct=e;break}ct=n.return}}function Gg(e,n,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:Ln(e,s),r&4&&Wa(5,s);break;case 1:if(Ln(e,s),r&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(d){Le(s,s.return,d)}else{var u=es(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Le(s,s.return,d)}}r&64&&kg(s),r&512&&Ja(s,s.return);break;case 3:if(Ln(e,s),r&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Nm(e,n)}catch(d){Le(s,s.return,d)}}break;case 27:n===null&&r&4&&Bg(s);case 26:case 5:Ln(e,s),n===null&&r&4&&Hg(s),r&512&&Ja(s,s.return);break;case 12:Ln(e,s);break;case 31:Ln(e,s),r&4&&Pg(e,s);break;case 13:Ln(e,s),r&4&&Fg(e,s),r&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=RE.bind(null,s),KE(e,s))));break;case 22:if(r=s.memoizedState!==null||In,!r){n=n!==null&&n.memoizedState!==null||lt,u=In;var f=lt;In=r,(lt=n)&&!f?kn(e,s,(s.subtreeFlags&8772)!==0):Ln(e,s),In=u,lt=f}break;case 30:break;default:Ln(e,s)}}function Vg(e){var n=e.alternate;n!==null&&(e.alternate=null,Vg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&hu(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ze=null,wt=!1;function Un(e,n,s){for(s=s.child;s!==null;)Yg(e,n,s),s=s.sibling}function Yg(e,n,s){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Sa,s)}catch{}switch(s.tag){case 26:lt||pn(s,n),Un(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:lt||pn(s,n);var r=Ze,u=wt;_i(s.type)&&(Ze=s.stateNode,wt=!1),Un(e,n,s),rl(s.stateNode),Ze=r,wt=u;break;case 5:lt||pn(s,n);case 6:if(r=Ze,u=wt,Ze=null,Un(e,n,s),Ze=r,wt=u,Ze!==null)if(wt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(s.stateNode)}catch(f){Le(s,n,f)}else try{Ze.removeChild(s.stateNode)}catch(f){Le(s,n,f)}break;case 18:Ze!==null&&(wt?(e=Ze,kp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),$s(e)):kp(Ze,s.stateNode));break;case 4:r=Ze,u=wt,Ze=s.stateNode.containerInfo,wt=!0,Un(e,n,s),Ze=r,wt=u;break;case 0:case 11:case 14:case 15:ci(2,s,n),lt||ci(4,s,n),Un(e,n,s);break;case 1:lt||(pn(s,n),r=s.stateNode,typeof r.componentWillUnmount=="function"&&zg(s,n,r)),Un(e,n,s);break;case 21:Un(e,n,s);break;case 22:lt=(r=lt)||s.memoizedState!==null,Un(e,n,s),lt=r;break;default:Un(e,n,s)}}function Pg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$s(e)}catch(s){Le(n,n.return,s)}}}function Fg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$s(e)}catch(s){Le(n,n.return,s)}}function bE(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new qg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new qg),n;default:throw Error(l(435,e.tag))}}function zr(e,n){var s=bE(e);n.forEach(function(r){if(!s.has(r)){s.add(r);var u=OE.bind(null,e,r);r.then(u,u)}})}function Rt(e,n){var s=n.deletions;if(s!==null)for(var r=0;r<s.length;r++){var u=s[r],f=e,d=n,_=d;e:for(;_!==null;){switch(_.tag){case 27:if(_i(_.type)){Ze=_.stateNode,wt=!1;break e}break;case 5:Ze=_.stateNode,wt=!1;break e;case 3:case 4:Ze=_.stateNode.containerInfo,wt=!0;break e}_=_.return}if(Ze===null)throw Error(l(160));Yg(f,d,u),Ze=null,wt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Qg(n,e),n=n.sibling}var ln=null;function Qg(e,n){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rt(n,e),Ot(e),r&4&&(ci(3,e,e.return),Wa(3,e),ci(5,e,e.return));break;case 1:Rt(n,e),Ot(e),r&512&&(lt||s===null||pn(s,s.return)),r&64&&In&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var u=ln;if(Rt(n,e),Ot(e),r&512&&(lt||s===null||pn(s,s.return)),r&4){var f=s!==null?s.memoizedState:null;if(r=e.memoizedState,s===null)if(r===null)if(e.stateNode===null){e:{r=e.type,s=e.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Aa]||f[mt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(r),u.head.insertBefore(f,u.querySelector("head > title"))),vt(f,r,s),f[mt]=e,ut(f),r=f;break e;case"link":var d=Qp("link","href",u).get(r+(s.href||""));if(d){for(var _=0;_<d.length;_++)if(f=d[_],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){d.splice(_,1);break t}}f=u.createElement(r),vt(f,r,s),u.head.appendChild(f);break;case"meta":if(d=Qp("meta","content",u).get(r+(s.content||""))){for(_=0;_<d.length;_++)if(f=d[_],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){d.splice(_,1);break t}}f=u.createElement(r),vt(f,r,s),u.head.appendChild(f);break;default:throw Error(l(468,r))}f[mt]=e,ut(f),r=f}e.stateNode=r}else Kp(u,e.type,e.stateNode);else e.stateNode=Fp(u,r,e.memoizedProps);else f!==r?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,r===null?Kp(u,e.type,e.stateNode):Fp(u,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Ic(e,e.memoizedProps,s.memoizedProps)}break;case 27:Rt(n,e),Ot(e),r&512&&(lt||s===null||pn(s,s.return)),s!==null&&r&4&&Ic(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Rt(n,e),Ot(e),r&512&&(lt||s===null||pn(s,s.return)),e.flags&32){u=e.stateNode;try{Ss(u,"")}catch(W){Le(e,e.return,W)}}r&4&&e.stateNode!=null&&(u=e.memoizedProps,Ic(e,u,s!==null?s.memoizedProps:u)),r&1024&&(kc=!0);break;case 6:if(Rt(n,e),Ot(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,s=e.stateNode;try{s.nodeValue=r}catch(W){Le(e,e.return,W)}}break;case 3:if($r=null,u=ln,ln=Wr(n.containerInfo),Rt(n,e),ln=u,Ot(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{$s(n.containerInfo)}catch(W){Le(e,e.return,W)}kc&&(kc=!1,Kg(e));break;case 4:r=ln,ln=Wr(e.stateNode.containerInfo),Rt(n,e),Ot(e),ln=r;break;case 12:Rt(n,e),Ot(e);break;case 31:Rt(n,e),Ot(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,zr(e,r)));break;case 13:Rt(n,e),Ot(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(jr=Ht()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,zr(e,r)));break;case 22:u=e.memoizedState!==null;var b=s!==null&&s.memoizedState!==null,w=In,I=lt;if(In=w||u,lt=I||b,Rt(n,e),lt=I,In=w,Ot(e),r&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(s===null||b||In||lt||ts(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){b=s=n;try{if(f=b.stateNode,u)d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=b.stateNode;var k=b.memoizedProps.style,R=k!=null&&k.hasOwnProperty("display")?k.display:null;_.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(W){Le(b,b.return,W)}}}else if(n.tag===6){if(s===null){b=n;try{b.stateNode.nodeValue=u?"":b.memoizedProps}catch(W){Le(b,b.return,W)}}}else if(n.tag===18){if(s===null){b=n;try{var D=b.stateNode;u?zp(D,!0):zp(b.stateNode,!1)}catch(W){Le(b,b.return,W)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,zr(e,s))));break;case 19:Rt(n,e),Ot(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,zr(e,r)));break;case 30:break;case 21:break;default:Rt(n,e),Ot(e)}}function Ot(e){var n=e.flags;if(n&2){try{for(var s,r=e.return;r!==null;){if(jg(r)){s=r;break}r=r.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var u=s.stateNode,f=Uc(e);kr(e,f,u);break;case 5:var d=s.stateNode;s.flags&32&&(Ss(d,""),s.flags&=-33);var _=Uc(e);kr(e,_,d);break;case 3:case 4:var b=s.stateNode.containerInfo,w=Uc(e);Lc(e,w,b);break;default:throw Error(l(161))}}catch(I){Le(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Kg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ln(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gg(e,n.alternate,n),n=n.sibling}function ts(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ci(4,n,n.return),ts(n);break;case 1:pn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&zg(n,n.return,s),ts(n);break;case 27:rl(n.stateNode);case 26:case 5:pn(n,n.return),ts(n);break;case 22:n.memoizedState===null&&ts(n);break;case 30:ts(n);break;default:ts(n)}e=e.sibling}}function kn(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,u=e,f=n,d=f.flags;switch(f.tag){case 0:case 11:case 15:kn(u,f,s),Wa(4,f);break;case 1:if(kn(u,f,s),r=f,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(w){Le(r,r.return,w)}if(r=f,u=r.updateQueue,u!==null){var _=r.stateNode;try{var b=u.shared.hiddenCallbacks;if(b!==null)for(u.shared.hiddenCallbacks=null,u=0;u<b.length;u++)Am(b[u],_)}catch(w){Le(r,r.return,w)}}s&&d&64&&kg(f),Ja(f,f.return);break;case 27:Bg(f);case 26:case 5:kn(u,f,s),s&&r===null&&d&4&&Hg(f),Ja(f,f.return);break;case 12:kn(u,f,s);break;case 31:kn(u,f,s),s&&d&4&&Pg(u,f);break;case 13:kn(u,f,s),s&&d&4&&Fg(u,f);break;case 22:f.memoizedState===null&&kn(u,f,s),Ja(f,f.return);break;case 30:break;default:kn(u,f,s)}n=n.sibling}}function zc(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ha(s))}function Hc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ha(e))}function rn(e,n,s,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xg(e,n,s,r),n=n.sibling}function Xg(e,n,s,r){var u=n.flags;switch(n.tag){case 0:case 11:case 15:rn(e,n,s,r),u&2048&&Wa(9,n);break;case 1:rn(e,n,s,r);break;case 3:rn(e,n,s,r),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ha(e)));break;case 12:if(u&2048){rn(e,n,s,r),e=n.stateNode;try{var f=n.memoizedProps,d=f.id,_=f.onPostCommit;typeof _=="function"&&_(d,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Le(n,n.return,b)}}else rn(e,n,s,r);break;case 31:rn(e,n,s,r);break;case 13:rn(e,n,s,r);break;case 23:break;case 22:f=n.stateNode,d=n.alternate,n.memoizedState!==null?f._visibility&2?rn(e,n,s,r):$a(e,n):f._visibility&2?rn(e,n,s,r):(f._visibility|=2,Gs(e,n,s,r,(n.subtreeFlags&10256)!==0||!1)),u&2048&&zc(d,n);break;case 24:rn(e,n,s,r),u&2048&&Hc(n.alternate,n);break;default:rn(e,n,s,r)}}function Gs(e,n,s,r,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,d=n,_=s,b=r,w=d.flags;switch(d.tag){case 0:case 11:case 15:Gs(f,d,_,b,u),Wa(8,d);break;case 23:break;case 22:var I=d.stateNode;d.memoizedState!==null?I._visibility&2?Gs(f,d,_,b,u):$a(f,d):(I._visibility|=2,Gs(f,d,_,b,u)),u&&w&2048&&zc(d.alternate,d);break;case 24:Gs(f,d,_,b,u),u&&w&2048&&Hc(d.alternate,d);break;default:Gs(f,d,_,b,u)}n=n.sibling}}function $a(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,r=n,u=r.flags;switch(r.tag){case 22:$a(s,r),u&2048&&zc(r.alternate,r);break;case 24:$a(s,r),u&2048&&Hc(r.alternate,r);break;default:$a(s,r)}n=n.sibling}}var el=8192;function Vs(e,n,s){if(e.subtreeFlags&el)for(e=e.child;e!==null;)Zg(e,n,s),e=e.sibling}function Zg(e,n,s){switch(e.tag){case 26:Vs(e,n,s),e.flags&el&&e.memoizedState!==null&&lS(s,ln,e.memoizedState,e.memoizedProps);break;case 5:Vs(e,n,s);break;case 3:case 4:var r=ln;ln=Wr(e.stateNode.containerInfo),Vs(e,n,s),ln=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=el,el=16777216,Vs(e,n,s),el=r):Vs(e,n,s));break;default:Vs(e,n,s)}}function Wg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function tl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];ct=r,$g(r,e)}Wg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jg(e),e=e.sibling}function Jg(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&ci(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Hr(e)):tl(e);break;default:tl(e)}}function Hr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];ct=r,$g(r,e)}Wg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ci(8,n,n.return),Hr(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Hr(n));break;default:Hr(n)}e=e.sibling}}function $g(e,n){for(;ct!==null;){var s=ct;switch(s.tag){case 0:case 11:case 15:ci(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ha(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,ct=r;else e:for(s=e;ct!==null;){r=ct;var u=r.sibling,f=r.return;if(Vg(r),r===s){ct=null;break e}if(u!==null){u.return=f,ct=u;break e}ct=f}}}var EE={getCacheForType:function(e){var n=pt(it),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return pt(it).controller.signal}},SE=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Ve=null,Ee=null,Ce=0,Ue=0,Pt=null,fi=!1,Ys=!1,jc=!1,zn=0,Je=0,hi=0,ns=0,Bc=0,Ft=0,Ps=0,nl=null,xt=null,qc=!1,jr=0,ep=0,Br=1/0,qr=null,di=null,rt=0,mi=null,Fs=null,Hn=0,Gc=0,Vc=null,tp=null,il=0,Yc=null;function Qt(){return(Oe&2)!==0&&Ce!==0?Ce&-Ce:A.T!==null?Zc():_d()}function np(){if(Ft===0)if((Ce&536870912)===0||Ne){var e=Xl;Xl<<=1,(Xl&3932160)===0&&(Xl=262144),Ft=e}else Ft=536870912;return e=Vt.current,e!==null&&(e.flags|=32),Ft}function Dt(e,n,s){(e===Ve&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(Qs(e,0),gi(e,Ce,Ft,!1)),Ca(e,s),((Oe&2)===0||e!==Ve)&&(e===Ve&&((Oe&2)===0&&(ns|=s),Je===4&&gi(e,Ce,Ft,!1)),_n(e))}function ip(e,n,s){if((Oe&6)!==0)throw Error(l(327));var r=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ta(e,n),u=r?AE(e,n):Fc(e,n,!0),f=r;do{if(u===0){Ys&&!r&&gi(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!TE(s)){u=Fc(e,n,!1),f=!1;continue}if(u===2){if(f=n,e.errorRecoveryDisabledLanes&f)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){n=d;e:{var _=e;u=nl;var b=_.current.memoizedState.isDehydrated;if(b&&(Qs(_,d).flags|=256),d=Fc(_,d,!1),d!==2){if(jc&&!b){_.errorRecoveryDisabledLanes|=f,ns|=f,u=4;break e}f=xt,xt=u,f!==null&&(xt===null?xt=f:xt.push.apply(xt,f))}u=d}if(f=!1,u!==2)continue}}if(u===1){Qs(e,0),gi(e,n,0,!0);break}e:{switch(r=e,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:gi(r,n,Ft,!fi);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(u=jr+300-Ht(),10<u)){if(gi(r,n,Ft,!fi),Wl(r,0,!0)!==0)break e;Hn=n,r.timeoutHandle=Up(sp.bind(null,r,s,xt,qr,qc,n,Ft,ns,Ps,fi,f,"Throttled",-0,0),u);break e}sp(r,s,xt,qr,qc,n,Ft,ns,Ps,fi,f,null,-0,0)}}break}while(!0);_n(e)}function sp(e,n,s,r,u,f,d,_,b,w,I,k,R,D){if(e.timeoutHandle=-1,k=n.subtreeFlags,k&8192||(k&16785408)===16785408){k={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tn},Zg(n,f,k);var W=(f&62914560)===f?jr-Ht():(f&4194048)===f?ep-Ht():0;if(W=rS(k,W),W!==null){Hn=f,e.cancelPendingCommit=W(hp.bind(null,e,n,f,s,r,u,d,_,b,I,k,null,R,D)),gi(e,f,d,!w);return}}hp(e,n,f,s,r,u,d,_,b)}function TE(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var u=s[r],f=u.getSnapshot;u=u.value;try{if(!qt(f(),u))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function gi(e,n,s,r){n&=~Bc,n&=~ns,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var u=n;0<u;){var f=31-Bt(u),d=1<<f;r[f]=-1,u&=~d}s!==0&&md(e,s,n)}function Gr(){return(Oe&6)===0?(sl(0),!1):!0}function Pc(){if(Ee!==null){if(Ue===0)var e=Ee.return;else e=Ee,wn=Qi=null,rc(e),zs=null,Ba=0,e=Ee;for(;e!==null;)Lg(e.alternate,e),e=e.return;Ee=null}}function Qs(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,VE(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Hn=0,Pc(),Ve=e,Ee=s=An(e.current,null),Ce=n,Ue=0,Pt=null,fi=!1,Ys=Ta(e,n),jc=!1,Ps=Ft=Bc=ns=hi=Je=0,xt=nl=null,qc=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var u=31-Bt(r),f=1<<u;n|=e[u],r&=~f}return zn=n,ur(),s}function ap(e,n){he=null,A.H=Ka,n===ks||n===_r?(n=Em(),Ue=3):n===Xu?(n=Em(),Ue=4):Ue=n===Tc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Pt=n,Ee===null&&(Je=1,Dr(e,Wt(n,e.current)))}function lp(){var e=Vt.current;return e===null?!0:(Ce&4194048)===Ce?tn===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?e===tn:!1}function rp(){var e=A.H;return A.H=Ka,e===null?Ka:e}function op(){var e=A.A;return A.A=EE,e}function Vr(){Je=4,fi||(Ce&4194048)!==Ce&&Vt.current!==null||(Ys=!0),(hi&134217727)===0&&(ns&134217727)===0||Ve===null||gi(Ve,Ce,Ft,!1)}function Fc(e,n,s){var r=Oe;Oe|=2;var u=rp(),f=op();(Ve!==e||Ce!==n)&&(qr=null,Qs(e,n)),n=!1;var d=Je;e:do try{if(Ue!==0&&Ee!==null){var _=Ee,b=Pt;switch(Ue){case 8:Pc(),d=6;break e;case 3:case 2:case 9:case 6:Vt.current===null&&(n=!0);var w=Ue;if(Ue=0,Pt=null,Ks(e,_,b,w),s&&Ys){d=0;break e}break;default:w=Ue,Ue=0,Pt=null,Ks(e,_,b,w)}}CE(),d=Je;break}catch(I){ap(e,I)}while(!0);return n&&e.shellSuspendCounter++,wn=Qi=null,Oe=r,A.H=u,A.A=f,Ee===null&&(Ve=null,Ce=0,ur()),d}function CE(){for(;Ee!==null;)up(Ee)}function AE(e,n){var s=Oe;Oe|=2;var r=rp(),u=op();Ve!==e||Ce!==n?(qr=null,Br=Ht()+500,Qs(e,n)):Ys=Ta(e,n);e:do try{if(Ue!==0&&Ee!==null){n=Ee;var f=Pt;t:switch(Ue){case 1:Ue=0,Pt=null,Ks(e,n,f,1);break;case 2:case 9:if(ym(f)){Ue=0,Pt=null,cp(n);break}n=function(){Ue!==2&&Ue!==9||Ve!==e||(Ue=7),_n(e)},f.then(n,n);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:ym(f)?(Ue=0,Pt=null,cp(n)):(Ue=0,Pt=null,Ks(e,n,f,7));break;case 5:var d=null;switch(Ee.tag){case 26:d=Ee.memoizedState;case 5:case 27:var _=Ee;if(d?Xp(d):_.stateNode.complete){Ue=0,Pt=null;var b=_.sibling;if(b!==null)Ee=b;else{var w=_.return;w!==null?(Ee=w,Yr(w)):Ee=null}break t}}Ue=0,Pt=null,Ks(e,n,f,5);break;case 6:Ue=0,Pt=null,Ks(e,n,f,6);break;case 8:Pc(),Je=6;break e;default:throw Error(l(462))}}NE();break}catch(I){ap(e,I)}while(!0);return wn=Qi=null,A.H=r,A.A=u,Oe=s,Ee!==null?0:(Ve=null,Ce=0,ur(),Je)}function NE(){for(;Ee!==null&&!X0();)up(Ee)}function up(e){var n=Ig(e.alternate,e,zn);e.memoizedProps=e.pendingProps,n===null?Yr(e):Ee=n}function cp(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=wg(s,n,n.pendingProps,n.type,void 0,Ce);break;case 11:n=wg(s,n,n.pendingProps,n.type.render,n.ref,Ce);break;case 5:rc(n);default:Lg(s,n),n=Ee=om(n,zn),n=Ig(s,n,zn)}e.memoizedProps=e.pendingProps,n===null?Yr(e):Ee=n}function Ks(e,n,s,r){wn=Qi=null,rc(n),zs=null,Ba=0;var u=n.return;try{if(mE(e,u,n,s,Ce)){Je=1,Dr(e,Wt(s,e.current)),Ee=null;return}}catch(f){if(u!==null)throw Ee=u,f;Je=1,Dr(e,Wt(s,e.current)),Ee=null;return}n.flags&32768?(Ne||r===1?e=!0:Ys||(Ce&536870912)!==0?e=!1:(fi=e=!0,(r===2||r===9||r===3||r===6)&&(r=Vt.current,r!==null&&r.tag===13&&(r.flags|=16384))),fp(n,e)):Yr(n)}function Yr(e){var n=e;do{if((n.flags&32768)!==0){fp(n,fi);return}e=n.return;var s=_E(n.alternate,n,zn);if(s!==null){Ee=s;return}if(n=n.sibling,n!==null){Ee=n;return}Ee=n=e}while(n!==null);Je===0&&(Je=5)}function fp(e,n){do{var s=vE(e.alternate,e);if(s!==null){s.flags&=32767,Ee=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=s}while(e!==null);Je=6,Ee=null}function hp(e,n,s,r,u,f,d,_,b){e.cancelPendingCommit=null;do Pr();while(rt!==0);if((Oe&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(f=n.lanes|n.childLanes,f|=Uu,ab(e,s,f,d,_,b),e===Ve&&(Ee=Ve=null,Ce=0),Fs=n,mi=e,Hn=s,Gc=f,Vc=u,tp=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xE(Ql,function(){return _p(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=A.T,A.T=null,u=B.p,B.p=2,d=Oe,Oe|=4;try{yE(e,n,s)}finally{Oe=d,B.p=u,A.T=r}}rt=1,dp(),mp(),gp()}}function dp(){if(rt===1){rt=0;var e=mi,n=Fs,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=A.T,A.T=null;var r=B.p;B.p=2;var u=Oe;Oe|=4;try{Qg(n,e);var f=af,d=$d(e.containerInfo),_=f.focusedElem,b=f.selectionRange;if(d!==_&&_&&_.ownerDocument&&Jd(_.ownerDocument.documentElement,_)){if(b!==null&&Ou(_)){var w=b.start,I=b.end;if(I===void 0&&(I=w),"selectionStart"in _)_.selectionStart=w,_.selectionEnd=Math.min(I,_.value.length);else{var k=_.ownerDocument||document,R=k&&k.defaultView||window;if(R.getSelection){var D=R.getSelection(),W=_.textContent.length,ae=Math.min(b.start,W),Be=b.end===void 0?ae:Math.min(b.end,W);!D.extend&&ae>Be&&(d=Be,Be=ae,ae=d);var C=Wd(_,ae),S=Wd(_,Be);if(C&&S&&(D.rangeCount!==1||D.anchorNode!==C.node||D.anchorOffset!==C.offset||D.focusNode!==S.node||D.focusOffset!==S.offset)){var N=k.createRange();N.setStart(C.node,C.offset),D.removeAllRanges(),ae>Be?(D.addRange(N),D.extend(S.node,S.offset)):(N.setEnd(S.node,S.offset),D.addRange(N))}}}}for(k=[],D=_;D=D.parentNode;)D.nodeType===1&&k.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<k.length;_++){var U=k[_];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}io=!!sf,af=sf=null}finally{Oe=u,B.p=r,A.T=s}}e.current=n,rt=2}}function mp(){if(rt===2){rt=0;var e=mi,n=Fs,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=A.T,A.T=null;var r=B.p;B.p=2;var u=Oe;Oe|=4;try{Gg(e,n.alternate,n)}finally{Oe=u,B.p=r,A.T=s}}rt=3}}function gp(){if(rt===4||rt===3){rt=0,Z0();var e=mi,n=Fs,s=Hn,r=tp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?rt=5:(rt=0,Fs=mi=null,pp(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(di=null),cu(s),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Sa,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=A.T,u=B.p,B.p=2,A.T=null;try{for(var f=e.onRecoverableError,d=0;d<r.length;d++){var _=r[d];f(_.value,{componentStack:_.stack})}}finally{A.T=n,B.p=u}}(Hn&3)!==0&&Pr(),_n(e),u=e.pendingLanes,(s&261930)!==0&&(u&42)!==0?e===Yc?il++:(il=0,Yc=e):il=0,sl(0)}}function pp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ha(n)))}function Pr(){return dp(),mp(),gp(),_p()}function _p(){if(rt!==5)return!1;var e=mi,n=Gc;Gc=0;var s=cu(Hn),r=A.T,u=B.p;try{B.p=32>s?32:s,A.T=null,s=Vc,Vc=null;var f=mi,d=Hn;if(rt=0,Fs=mi=null,Hn=0,(Oe&6)!==0)throw Error(l(331));var _=Oe;if(Oe|=4,Jg(f.current),Xg(f,f.current,d,s),Oe=_,sl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Sa,f)}catch{}return!0}finally{B.p=u,A.T=r,pp(e,n)}}function vp(e,n,s){n=Wt(s,n),n=Sc(e.stateNode,n,2),e=ri(e,n,2),e!==null&&(Ca(e,2),_n(e))}function Le(e,n,s){if(e.tag===3)vp(e,e,s);else for(;n!==null;){if(n.tag===3){vp(n,e,s);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(di===null||!di.has(r))){e=Wt(s,e),s=yg(2),r=ri(n,s,2),r!==null&&(bg(s,r,n,e),Ca(r,2),_n(r));break}}n=n.return}}function Qc(e,n,s){var r=e.pingCache;if(r===null){r=e.pingCache=new SE;var u=new Set;r.set(n,u)}else u=r.get(n),u===void 0&&(u=new Set,r.set(n,u));u.has(s)||(jc=!0,u.add(s),e=wE.bind(null,e,n,s),n.then(e,e))}function wE(e,n,s){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Ve===e&&(Ce&s)===s&&(Je===4||Je===3&&(Ce&62914560)===Ce&&300>Ht()-jr?(Oe&2)===0&&Qs(e,0):Bc|=s,Ps===Ce&&(Ps=0)),_n(e)}function yp(e,n){n===0&&(n=dd()),e=Yi(e,n),e!==null&&(Ca(e,n),_n(e))}function RE(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),yp(e,s)}function OE(e,n){var s=0;switch(e.tag){case 31:case 13:var r=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(n),yp(e,s)}function xE(e,n){return lu(e,n)}var Fr=null,Xs=null,Kc=!1,Qr=!1,Xc=!1,pi=0;function _n(e){e!==Xs&&e.next===null&&(Xs===null?Fr=Xs=e:Xs=Xs.next=e),Qr=!0,Kc||(Kc=!0,ME())}function sl(e,n){if(!Xc&&Qr){Xc=!0;do for(var s=!1,r=Fr;r!==null;){if(e!==0){var u=r.pendingLanes;if(u===0)var f=0;else{var d=r.suspendedLanes,_=r.pingedLanes;f=(1<<31-Bt(42|e)+1)-1,f&=u&~(d&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Tp(r,f))}else f=Ce,f=Wl(r,r===Ve?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||Ta(r,f)||(s=!0,Tp(r,f));r=r.next}while(s);Xc=!1}}function DE(){bp()}function bp(){Qr=Kc=!1;var e=0;pi!==0&&GE()&&(e=pi);for(var n=Ht(),s=null,r=Fr;r!==null;){var u=r.next,f=Ep(r,n);f===0?(r.next=null,s===null?Fr=u:s.next=u,u===null&&(Xs=s)):(s=r,(e!==0||(f&3)!==0)&&(Qr=!0)),r=u}rt!==0&&rt!==5||sl(e),pi!==0&&(pi=0)}function Ep(e,n){for(var s=e.suspendedLanes,r=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var d=31-Bt(f),_=1<<d,b=u[d];b===-1?((_&s)===0||(_&r)!==0)&&(u[d]=sb(_,n)):b<=n&&(e.expiredLanes|=_),f&=~_}if(n=Ve,s=Ce,s=Wl(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,s===0||e===n&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&ru(r),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ta(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(r!==null&&ru(r),cu(s)){case 2:case 8:s=fd;break;case 32:s=Ql;break;case 268435456:s=hd;break;default:s=Ql}return r=Sp.bind(null,e),s=lu(s,r),e.callbackPriority=n,e.callbackNode=s,n}return r!==null&&r!==null&&ru(r),e.callbackPriority=2,e.callbackNode=null,2}function Sp(e,n){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Pr()&&e.callbackNode!==s)return null;var r=Ce;return r=Wl(e,e===Ve?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(ip(e,r,n),Ep(e,Ht()),e.callbackNode!=null&&e.callbackNode===s?Sp.bind(null,e):null)}function Tp(e,n){if(Pr())return null;ip(e,n,!0)}function ME(){YE(function(){(Oe&6)!==0?lu(cd,DE):bp()})}function Zc(){if(pi===0){var e=Us;e===0&&(e=Kl,Kl<<=1,(Kl&261888)===0&&(Kl=256)),pi=e}return pi}function Cp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:tr(""+e)}function Ap(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function IE(e,n,s,r,u){if(n==="submit"&&s&&s.stateNode===u){var f=Cp((u[At]||null).action),d=r.submitter;d&&(n=(n=d[At]||null)?Cp(n.formAction):d.getAttribute("formAction"),n!==null&&(f=n,d=null));var _=new ar("action","action",null,r,u);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(pi!==0){var b=d?Ap(u,d):new FormData(u);pc(s,{pending:!0,data:b,method:u.method,action:f},null,b)}}else typeof f=="function"&&(_.preventDefault(),b=d?Ap(u,d):new FormData(u),pc(s,{pending:!0,data:b,method:u.method,action:f},f,b))},currentTarget:u}]})}}for(var Wc=0;Wc<Iu.length;Wc++){var Jc=Iu[Wc],UE=Jc.toLowerCase(),LE=Jc[0].toUpperCase()+Jc.slice(1);an(UE,"on"+LE)}an(nm,"onAnimationEnd"),an(im,"onAnimationIteration"),an(sm,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(Wb,"onTransitionRun"),an(Jb,"onTransitionStart"),an($b,"onTransitionCancel"),an(am,"onTransitionEnd"),bs("onMouseEnter",["mouseout","mouseover"]),bs("onMouseLeave",["mouseout","mouseover"]),bs("onPointerEnter",["pointerout","pointerover"]),bs("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Np(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],u=r.event;r=r.listeners;e:{var f=void 0;if(n)for(var d=r.length-1;0<=d;d--){var _=r[d],b=_.instance,w=_.currentTarget;if(_=_.listener,b!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=w;try{f(u)}catch(I){or(I)}u.currentTarget=null,f=b}else for(d=0;d<r.length;d++){if(_=r[d],b=_.instance,w=_.currentTarget,_=_.listener,b!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=w;try{f(u)}catch(I){or(I)}u.currentTarget=null,f=b}}}}function Se(e,n){var s=n[fu];s===void 0&&(s=n[fu]=new Set);var r=e+"__bubble";s.has(r)||(wp(n,e,2,!1),s.add(r))}function $c(e,n,s){var r=0;n&&(r|=4),wp(s,e,r,n)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function ef(e){if(!e[Kr]){e[Kr]=!0,bd.forEach(function(s){s!=="selectionchange"&&(kE.has(s)||$c(s,!1,e),$c(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Kr]||(n[Kr]=!0,$c("selectionchange",!1,n))}}function wp(e,n,s,r){switch(n_(n)){case 2:var u=cS;break;case 8:u=fS;break;default:u=pf}s=u.bind(null,n,s,e),u=void 0,!bu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),r?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function tf(e,n,s,r,u){var f=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var _=r.stateNode.containerInfo;if(_===u)break;if(d===4)for(d=r.return;d!==null;){var b=d.tag;if((b===3||b===4)&&d.stateNode.containerInfo===u)return;d=d.return}for(;_!==null;){if(d=_s(_),d===null)return;if(b=d.tag,b===5||b===6||b===26||b===27){r=f=d;continue e}_=_.parentNode}}r=r.return}Md(function(){var w=f,I=vu(s),k=[];e:{var R=lm.get(e);if(R!==void 0){var D=ar,W=e;switch(e){case"keypress":if(ir(s)===0)break e;case"keydown":case"keyup":D=Ob;break;case"focusin":W="focus",D=Cu;break;case"focusout":W="blur",D=Cu;break;case"beforeblur":case"afterblur":D=Cu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=_b;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=Mb;break;case nm:case im:case sm:D=bb;break;case am:D=Ub;break;case"scroll":case"scrollend":D=gb;break;case"wheel":D=kb;break;case"copy":case"cut":case"paste":D=Sb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=zd;break;case"toggle":case"beforetoggle":D=Hb}var ae=(n&4)!==0,Be=!ae&&(e==="scroll"||e==="scrollend"),C=ae?R!==null?R+"Capture":null:R;ae=[];for(var S=w,N;S!==null;){var U=S;if(N=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||N===null||C===null||(U=wa(S,C),U!=null&&ae.push(ll(S,U,N))),Be)break;S=S.return}0<ae.length&&(R=new D(R,W,null,s,I),k.push({event:R,listeners:ae}))}}if((n&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",R&&s!==_u&&(W=s.relatedTarget||s.fromElement)&&(_s(W)||W[ps]))break e;if((D||R)&&(R=I.window===I?I:(R=I.ownerDocument)?R.defaultView||R.parentWindow:window,D?(W=s.relatedTarget||s.toElement,D=w,W=W?_s(W):null,W!==null&&(Be=c(W),ae=W.tag,W!==Be||ae!==5&&ae!==27&&ae!==6)&&(W=null)):(D=null,W=w),D!==W)){if(ae=Ld,U="onMouseLeave",C="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(ae=zd,U="onPointerLeave",C="onPointerEnter",S="pointer"),Be=D==null?R:Na(D),N=W==null?R:Na(W),R=new ae(U,S+"leave",D,s,I),R.target=Be,R.relatedTarget=N,U=null,_s(I)===w&&(ae=new ae(C,S+"enter",W,s,I),ae.target=N,ae.relatedTarget=Be,U=ae),Be=U,D&&W)t:{for(ae=zE,C=D,S=W,N=0,U=C;U;U=ae(U))N++;U=0;for(var te=S;te;te=ae(te))U++;for(;0<N-U;)C=ae(C),N--;for(;0<U-N;)S=ae(S),U--;for(;N--;){if(C===S||S!==null&&C===S.alternate){ae=C;break t}C=ae(C),S=ae(S)}ae=null}else ae=null;D!==null&&Rp(k,R,D,ae,!1),W!==null&&Be!==null&&Rp(k,Be,W,ae,!0)}}e:{if(R=w?Na(w):window,D=R.nodeName&&R.nodeName.toLowerCase(),D==="select"||D==="input"&&R.type==="file")var we=Pd;else if(Vd(R))if(Fd)we=Kb;else{we=Fb;var J=Pb}else D=R.nodeName,!D||D.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?w&&pu(w.elementType)&&(we=Pd):we=Qb;if(we&&(we=we(e,w))){Yd(k,we,s,I);break e}J&&J(e,R,w),e==="focusout"&&w&&R.type==="number"&&w.memoizedProps.value!=null&&gu(R,"number",R.value)}switch(J=w?Na(w):window,e){case"focusin":(Vd(J)||J.contentEditable==="true")&&(Ns=J,xu=w,La=null);break;case"focusout":La=xu=Ns=null;break;case"mousedown":Du=!0;break;case"contextmenu":case"mouseup":case"dragend":Du=!1,em(k,s,I);break;case"selectionchange":if(Zb)break;case"keydown":case"keyup":em(k,s,I)}var de;if(Nu)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else As?qd(e,s)&&(Ae="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ae="onCompositionStart");Ae&&(Hd&&s.locale!=="ko"&&(As||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&As&&(de=Id()):(ei=I,Eu="value"in ei?ei.value:ei.textContent,As=!0)),J=Xr(w,Ae),0<J.length&&(Ae=new kd(Ae,e,null,s,I),k.push({event:Ae,listeners:J}),de?Ae.data=de:(de=Gd(s),de!==null&&(Ae.data=de)))),(de=Bb?qb(e,s):Gb(e,s))&&(Ae=Xr(w,"onBeforeInput"),0<Ae.length&&(J=new kd("onBeforeInput","beforeinput",null,s,I),k.push({event:J,listeners:Ae}),J.data=de)),IE(k,e,w,s,I)}Np(k,n)})}function ll(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Xr(e,n){for(var s=n+"Capture",r=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=wa(e,s),u!=null&&r.unshift(ll(e,u,f)),u=wa(e,n),u!=null&&r.push(ll(e,u,f))),e.tag===3)return r;e=e.return}return[]}function zE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Rp(e,n,s,r,u){for(var f=n._reactName,d=[];s!==null&&s!==r;){var _=s,b=_.alternate,w=_.stateNode;if(_=_.tag,b!==null&&b===r)break;_!==5&&_!==26&&_!==27||w===null||(b=w,u?(w=wa(s,f),w!=null&&d.unshift(ll(s,w,b))):u||(w=wa(s,f),w!=null&&d.push(ll(s,w,b)))),s=s.return}d.length!==0&&e.push({event:n,listeners:d})}var HE=/\r\n?/g,jE=/\u0000|\uFFFD/g;function Op(e){return(typeof e=="string"?e:""+e).replace(HE,`
`).replace(jE,"")}function xp(e,n){return n=Op(n),Op(e)===n}function je(e,n,s,r,u,f){switch(s){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||Ss(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&Ss(e,""+r);break;case"className":$l(e,"class",r);break;case"tabIndex":$l(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":$l(e,s,r);break;case"style":xd(e,r,f);break;case"data":if(n!=="object"){$l(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=tr(""+r),e.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&je(e,n,"name",u.name,u,null),je(e,n,"formEncType",u.formEncType,u,null),je(e,n,"formMethod",u.formMethod,u,null),je(e,n,"formTarget",u.formTarget,u,null)):(je(e,n,"encType",u.encType,u,null),je(e,n,"method",u.method,u,null),je(e,n,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=tr(""+r),e.setAttribute(s,r);break;case"onClick":r!=null&&(e.onclick=Tn);break;case"onScroll":r!=null&&Se("scroll",e);break;case"onScrollEnd":r!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}s=tr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""+r):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":r===!0?e.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,r):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(s,r):e.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(s):e.setAttribute(s,r);break;case"popover":Se("beforetoggle",e),Se("toggle",e),Jl(e,"popover",r);break;case"xlinkActuate":Sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Sn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Sn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Sn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Sn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Jl(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=db.get(s)||s,Jl(e,s,r))}}function nf(e,n,s,r,u,f){switch(s){case"style":xd(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"children":typeof r=="string"?Ss(e,r):(typeof r=="number"||typeof r=="bigint")&&Ss(e,""+r);break;case"onScroll":r!=null&&Se("scroll",e);break;case"onScrollEnd":r!=null&&Se("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ed.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),n=s.slice(2,u?s.length-7:void 0),f=e[At]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,u),typeof r=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,r,u);break e}s in e?e[s]=r:r===!0?e.setAttribute(s,""):Jl(e,s,r)}}}function vt(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var r=!1,u=!1,f;for(f in s)if(s.hasOwnProperty(f)){var d=s[f];if(d!=null)switch(f){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:je(e,n,f,d,s,null)}}u&&je(e,n,"srcSet",s.srcSet,s,null),r&&je(e,n,"src",s.src,s,null);return;case"input":Se("invalid",e);var _=f=d=u=null,b=null,w=null;for(r in s)if(s.hasOwnProperty(r)){var I=s[r];if(I!=null)switch(r){case"name":u=I;break;case"type":d=I;break;case"checked":b=I;break;case"defaultChecked":w=I;break;case"value":f=I;break;case"defaultValue":_=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(l(137,n));break;default:je(e,n,r,I,s,null)}}Nd(e,f,_,b,w,d,u,!1);return;case"select":Se("invalid",e),r=d=f=null;for(u in s)if(s.hasOwnProperty(u)&&(_=s[u],_!=null))switch(u){case"value":f=_;break;case"defaultValue":d=_;break;case"multiple":r=_;default:je(e,n,u,_,s,null)}n=f,s=d,e.multiple=!!r,n!=null?Es(e,!!r,n,!1):s!=null&&Es(e,!!r,s,!0);return;case"textarea":Se("invalid",e),f=u=r=null;for(d in s)if(s.hasOwnProperty(d)&&(_=s[d],_!=null))switch(d){case"value":r=_;break;case"defaultValue":u=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:je(e,n,d,_,s,null)}Rd(e,r,u,f);return;case"option":for(b in s)if(s.hasOwnProperty(b)&&(r=s[b],r!=null))switch(b){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:je(e,n,b,r,s,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(r=0;r<al.length;r++)Se(al[r],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in s)if(s.hasOwnProperty(w)&&(r=s[w],r!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:je(e,n,w,r,s,null)}return;default:if(pu(n)){for(I in s)s.hasOwnProperty(I)&&(r=s[I],r!==void 0&&nf(e,n,I,r,s,void 0));return}}for(_ in s)s.hasOwnProperty(_)&&(r=s[_],r!=null&&je(e,n,_,r,s,null))}function BE(e,n,s,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,d=null,_=null,b=null,w=null,I=null;for(D in s){var k=s[D];if(s.hasOwnProperty(D)&&k!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":b=k;default:r.hasOwnProperty(D)||je(e,n,D,null,r,k)}}for(var R in r){var D=r[R];if(k=s[R],r.hasOwnProperty(R)&&(D!=null||k!=null))switch(R){case"type":f=D;break;case"name":u=D;break;case"checked":w=D;break;case"defaultChecked":I=D;break;case"value":d=D;break;case"defaultValue":_=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,n));break;default:D!==k&&je(e,n,R,D,r,k)}}mu(e,d,_,b,w,I,f,u);return;case"select":D=d=_=R=null;for(f in s)if(b=s[f],s.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":D=b;default:r.hasOwnProperty(f)||je(e,n,f,null,r,b)}for(u in r)if(f=r[u],b=s[u],r.hasOwnProperty(u)&&(f!=null||b!=null))switch(u){case"value":R=f;break;case"defaultValue":_=f;break;case"multiple":d=f;default:f!==b&&je(e,n,u,f,r,b)}n=_,s=d,r=D,R!=null?Es(e,!!s,R,!1):!!r!=!!s&&(n!=null?Es(e,!!s,n,!0):Es(e,!!s,s?[]:"",!1));return;case"textarea":D=R=null;for(_ in s)if(u=s[_],s.hasOwnProperty(_)&&u!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:je(e,n,_,null,r,u)}for(d in r)if(u=r[d],f=s[d],r.hasOwnProperty(d)&&(u!=null||f!=null))switch(d){case"value":R=u;break;case"defaultValue":D=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&je(e,n,d,u,r,f)}wd(e,R,D);return;case"option":for(var W in s)if(R=s[W],s.hasOwnProperty(W)&&R!=null&&!r.hasOwnProperty(W))switch(W){case"selected":e.selected=!1;break;default:je(e,n,W,null,r,R)}for(b in r)if(R=r[b],D=s[b],r.hasOwnProperty(b)&&R!==D&&(R!=null||D!=null))switch(b){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:je(e,n,b,R,r,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in s)R=s[ae],s.hasOwnProperty(ae)&&R!=null&&!r.hasOwnProperty(ae)&&je(e,n,ae,null,r,R);for(w in r)if(R=r[w],D=s[w],r.hasOwnProperty(w)&&R!==D&&(R!=null||D!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,n));break;default:je(e,n,w,R,r,D)}return;default:if(pu(n)){for(var Be in s)R=s[Be],s.hasOwnProperty(Be)&&R!==void 0&&!r.hasOwnProperty(Be)&&nf(e,n,Be,void 0,r,R);for(I in r)R=r[I],D=s[I],!r.hasOwnProperty(I)||R===D||R===void 0&&D===void 0||nf(e,n,I,R,r,D);return}}for(var C in s)R=s[C],s.hasOwnProperty(C)&&R!=null&&!r.hasOwnProperty(C)&&je(e,n,C,null,r,R);for(k in r)R=r[k],D=s[k],!r.hasOwnProperty(k)||R===D||R==null&&D==null||je(e,n,k,R,r,D)}function Dp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var u=s[r],f=u.transferSize,d=u.initiatorType,_=u.duration;if(f&&_&&Dp(d)){for(d=0,_=u.responseEnd,r+=1;r<s.length;r++){var b=s[r],w=b.startTime;if(w>_)break;var I=b.transferSize,k=b.initiatorType;I&&Dp(k)&&(b=b.responseEnd,d+=I*(b<_?1:(_-w)/(b-w)))}if(--r,n+=8*(f+d)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var sf=null,af=null;function Zr(e){return e.nodeType===9?e:e.ownerDocument}function Mp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ip(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function lf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var rf=null;function GE(){var e=window.event;return e&&e.type==="popstate"?e===rf?!1:(rf=e,!0):(rf=null,!1)}var Up=typeof setTimeout=="function"?setTimeout:void 0,VE=typeof clearTimeout=="function"?clearTimeout:void 0,Lp=typeof Promise=="function"?Promise:void 0,YE=typeof queueMicrotask=="function"?queueMicrotask:typeof Lp<"u"?function(e){return Lp.resolve(null).then(e).catch(PE)}:Up;function PE(e){setTimeout(function(){throw e})}function _i(e){return e==="head"}function kp(e,n){var s=n,r=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"||s==="/&"){if(r===0){e.removeChild(u),$s(n);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")rl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,rl(s);for(var f=s.firstChild;f;){var d=f.nextSibling,_=f.nodeName;f[Aa]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=d}}else s==="body"&&rl(e.ownerDocument.body);s=u}while(s);$s(n)}function zp(e,n){var s=e;e=0;do{var r=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=r}while(s)}function of(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":of(s),hu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function FE(e,n,s,r){for(;e.nodeType===1;){var u=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Aa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=nn(e.nextSibling),e===null)break}return null}function QE(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=nn(e.nextSibling),e===null))return null;return e}function Hp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=nn(e.nextSibling),e===null))return null;return e}function uf(e){return e.data==="$?"||e.data==="$~"}function cf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function KE(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var r=function(){n(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ff=null;function jp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return nn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Bp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function qp(e,n,s){switch(n=Zr(s),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function rl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);hu(e)}var sn=new Map,Gp=new Set;function Wr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var jn=B.d;B.d={f:XE,r:ZE,D:WE,C:JE,L:$E,m:eS,X:nS,S:tS,M:iS};function XE(){var e=jn.f(),n=Gr();return e||n}function ZE(e){var n=vs(e);n!==null&&n.tag===5&&n.type==="form"?ag(n):jn.r(e)}var Zs=typeof document>"u"?null:document;function Vp(e,n,s){var r=Zs;if(r&&typeof n=="string"&&n){var u=Xt(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),Gp.has(u)||(Gp.add(u),e={rel:e,crossOrigin:s,href:n},r.querySelector(u)===null&&(n=r.createElement("link"),vt(n,"link",e),ut(n),r.head.appendChild(n)))}}function WE(e){jn.D(e),Vp("dns-prefetch",e,null)}function JE(e,n){jn.C(e,n),Vp("preconnect",e,n)}function $E(e,n,s){jn.L(e,n,s);var r=Zs;if(r&&e&&n){var u='link[rel="preload"][as="'+Xt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+Xt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+Xt(s.imageSizes)+'"]')):u+='[href="'+Xt(e)+'"]';var f=u;switch(n){case"style":f=Ws(e);break;case"script":f=Js(e)}sn.has(f)||(e=v({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),sn.set(f,e),r.querySelector(u)!==null||n==="style"&&r.querySelector(ol(f))||n==="script"&&r.querySelector(ul(f))||(n=r.createElement("link"),vt(n,"link",e),ut(n),r.head.appendChild(n)))}}function eS(e,n){jn.m(e,n);var s=Zs;if(s&&e){var r=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Xt(r)+'"][href="'+Xt(e)+'"]',f=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Js(e)}if(!sn.has(f)&&(e=v({rel:"modulepreload",href:e},n),sn.set(f,e),s.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ul(f)))return}r=s.createElement("link"),vt(r,"link",e),ut(r),s.head.appendChild(r)}}}function tS(e,n,s){jn.S(e,n,s);var r=Zs;if(r&&e){var u=ys(r).hoistableStyles,f=Ws(e);n=n||"default";var d=u.get(f);if(!d){var _={loading:0,preload:null};if(d=r.querySelector(ol(f)))_.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":n},s),(s=sn.get(f))&&hf(e,s);var b=d=r.createElement("link");ut(b),vt(b,"link",e),b._p=new Promise(function(w,I){b.onload=w,b.onerror=I}),b.addEventListener("load",function(){_.loading|=1}),b.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Jr(d,n,r)}d={type:"stylesheet",instance:d,count:1,state:_},u.set(f,d)}}}function nS(e,n){jn.X(e,n);var s=Zs;if(s&&e){var r=ys(s).hoistableScripts,u=Js(e),f=r.get(u);f||(f=s.querySelector(ul(u)),f||(e=v({src:e,async:!0},n),(n=sn.get(u))&&df(e,n),f=s.createElement("script"),ut(f),vt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function iS(e,n){jn.M(e,n);var s=Zs;if(s&&e){var r=ys(s).hoistableScripts,u=Js(e),f=r.get(u);f||(f=s.querySelector(ul(u)),f||(e=v({src:e,async:!0,type:"module"},n),(n=sn.get(u))&&df(e,n),f=s.createElement("script"),ut(f),vt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function Yp(e,n,s,r){var u=(u=O.current)?Wr(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ws(s.href),s=ys(u).hoistableStyles,r=s.get(n),r||(r={type:"style",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ws(s.href);var f=ys(u).hoistableStyles,d=f.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,d),(f=u.querySelector(ol(e)))&&!f._p&&(d.instance=f,d.state.loading=5),sn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},sn.set(e,s),f||sS(u,e,s,d.state))),n&&r===null)throw Error(l(528,""));return d}if(n&&r!==null)throw Error(l(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Js(s),s=ys(u).hoistableScripts,r=s.get(n),r||(r={type:"script",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Ws(e){return'href="'+Xt(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function Pp(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function sS(e,n,s,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),vt(n,"link",s),ut(n),e.head.appendChild(n))}function Js(e){return'[src="'+Xt(e)+'"]'}function ul(e){return"script[async]"+e}function Fp(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+Xt(s.href)+'"]');if(r)return n.instance=r,ut(r),r;var u=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),ut(r),vt(r,"style",u),Jr(r,s.precedence,e),n.instance=r;case"stylesheet":u=Ws(s.href);var f=e.querySelector(ol(u));if(f)return n.state.loading|=4,n.instance=f,ut(f),f;r=Pp(s),(u=sn.get(u))&&hf(r,u),f=(e.ownerDocument||e).createElement("link"),ut(f);var d=f;return d._p=new Promise(function(_,b){d.onload=_,d.onerror=b}),vt(f,"link",r),n.state.loading|=4,Jr(f,s.precedence,e),n.instance=f;case"script":return f=Js(s.src),(u=e.querySelector(ul(f)))?(n.instance=u,ut(u),u):(r=s,(u=sn.get(f))&&(r=v({},s),df(r,u)),e=e.ownerDocument||e,u=e.createElement("script"),ut(u),vt(u,"link",r),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,Jr(r,s.precedence,e));return n.instance}function Jr(e,n,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,f=u,d=0;d<r.length;d++){var _=r[d];if(_.dataset.precedence===n)f=_;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function hf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function df(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var $r=null;function Qp(e,n,s){if($r===null){var r=new Map,u=$r=new Map;u.set(s,r)}else u=$r,r=u.get(s),r||(r=new Map,u.set(s,r));if(r.has(e))return r;for(r.set(e,null),s=s.getElementsByTagName(e),u=0;u<s.length;u++){var f=s[u];if(!(f[Aa]||f[mt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var d=f.getAttribute(n)||"";d=e+d;var _=r.get(d);_?_.push(f):r.set(d,[f])}}return r}function Kp(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function aS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function lS(e,n,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=Ws(r.href),f=n.querySelector(ol(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=eo.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ut(f);return}f=n.ownerDocument||n,r=Pp(r),(u=sn.get(u))&&hf(r,u),f=f.createElement("link"),ut(f);var d=f;d._p=new Promise(function(_,b){d.onload=_,d.onerror=b}),vt(f,"link",r),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=eo.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var mf=0;function rS(e,n){return e.stylesheets&&e.count===0&&no(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var r=setTimeout(function(){if(e.stylesheets&&no(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&mf===0&&(mf=62500*qE());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&no(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>mf?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(u)}}:null}function eo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)no(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var to=null;function no(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,to=new Map,n.forEach(oS,e),to=null,eo.call(e))}function oS(e,n){if(!(n.state.loading&4)){var s=to.get(e);if(s)var r=s.get(null);else{s=new Map,to.set(e,s);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var d=u[f];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(s.set(d.dataset.precedence,d),r=d)}r&&s.set(null,r)}u=n.instance,d=u.getAttribute("data-precedence"),f=s.get(d)||r,f===r&&s.set(null,u),s.set(d,u),this.count++,r=eo.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var cl={$$typeof:se,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function uS(e,n,s,r,u,f,d,_,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ou(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ou(0),this.hiddenUpdates=ou(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Zp(e,n,s,r,u,f,d,_,b,w,I,k){return e=new uS(e,n,s,d,b,w,I,k,_),n=1,f===!0&&(n|=24),f=Gt(3,null,null,n),e.current=f,f.stateNode=e,n=Fu(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:r,isDehydrated:s,cache:n},Zu(f),e}function Wp(e){return e?(e=Os,e):Os}function Jp(e,n,s,r,u,f){u=Wp(u),r.context===null?r.context=u:r.pendingContext=u,r=li(n),r.payload={element:s},f=f===void 0?null:f,f!==null&&(r.callback=f),s=ri(e,r,n),s!==null&&(Dt(s,e,n),Ga(s,e,n))}function $p(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function gf(e,n){$p(e,n),(e=e.alternate)&&$p(e,n)}function e_(e){if(e.tag===13||e.tag===31){var n=Yi(e,67108864);n!==null&&Dt(n,e,67108864),gf(e,67108864)}}function t_(e){if(e.tag===13||e.tag===31){var n=Qt();n=uu(n);var s=Yi(e,n);s!==null&&Dt(s,e,n),gf(e,n)}}var io=!0;function cS(e,n,s,r){var u=A.T;A.T=null;var f=B.p;try{B.p=2,pf(e,n,s,r)}finally{B.p=f,A.T=u}}function fS(e,n,s,r){var u=A.T;A.T=null;var f=B.p;try{B.p=8,pf(e,n,s,r)}finally{B.p=f,A.T=u}}function pf(e,n,s,r){if(io){var u=_f(r);if(u===null)tf(e,n,r,so,s),i_(e,r);else if(dS(u,e,n,s,r))r.stopPropagation();else if(i_(e,r),n&4&&-1<hS.indexOf(e)){for(;u!==null;){var f=vs(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var d=ji(f.pendingLanes);if(d!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;d;){var b=1<<31-Bt(d);_.entanglements[1]|=b,d&=~b}_n(f),(Oe&6)===0&&(Br=Ht()+500,sl(0))}}break;case 31:case 13:_=Yi(f,2),_!==null&&Dt(_,f,2),Gr(),gf(f,2)}if(f=_f(r),f===null&&tf(e,n,r,so,s),f===u)break;u=f}u!==null&&r.stopPropagation()}else tf(e,n,r,null,s)}}function _f(e){return e=vu(e),vf(e)}var so=null;function vf(e){if(so=null,e=_s(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=h(n),e!==null)return e;e=null}else if(s===31){if(e=m(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return so=e,null}function n_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(W0()){case cd:return 2;case fd:return 8;case Ql:case J0:return 32;case hd:return 268435456;default:return 32}default:return 32}}var yf=!1,vi=null,yi=null,bi=null,fl=new Map,hl=new Map,Ei=[],hS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i_(e,n){switch(e){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(n.pointerId)}}function dl(e,n,s,r,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:r,nativeEvent:f,targetContainers:[u]},n!==null&&(n=vs(n),n!==null&&e_(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function dS(e,n,s,r,u){switch(n){case"focusin":return vi=dl(vi,e,n,s,r,u),!0;case"dragenter":return yi=dl(yi,e,n,s,r,u),!0;case"mouseover":return bi=dl(bi,e,n,s,r,u),!0;case"pointerover":var f=u.pointerId;return fl.set(f,dl(fl.get(f)||null,e,n,s,r,u)),!0;case"gotpointercapture":return f=u.pointerId,hl.set(f,dl(hl.get(f)||null,e,n,s,r,u)),!0}return!1}function s_(e){var n=_s(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){e.blockedOn=n,vd(e.priority,function(){t_(s)});return}}else if(n===31){if(n=m(s),n!==null){e.blockedOn=n,vd(e.priority,function(){t_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ao(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=_f(e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);_u=r,s.target.dispatchEvent(r),_u=null}else return n=vs(s),n!==null&&e_(n),e.blockedOn=s,!1;n.shift()}return!0}function a_(e,n,s){ao(e)&&s.delete(n)}function mS(){yf=!1,vi!==null&&ao(vi)&&(vi=null),yi!==null&&ao(yi)&&(yi=null),bi!==null&&ao(bi)&&(bi=null),fl.forEach(a_),hl.forEach(a_)}function lo(e,n){e.blockedOn===n&&(e.blockedOn=null,yf||(yf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,mS)))}var ro=null;function l_(e){ro!==e&&(ro=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ro===e&&(ro=null);for(var n=0;n<e.length;n+=3){var s=e[n],r=e[n+1],u=e[n+2];if(typeof r!="function"){if(vf(r||s)===null)continue;break}var f=vs(s);f!==null&&(e.splice(n,3),n-=3,pc(f,{pending:!0,data:u,method:s.method,action:r},r,u))}}))}function $s(e){function n(b){return lo(b,e)}vi!==null&&lo(vi,e),yi!==null&&lo(yi,e),bi!==null&&lo(bi,e),fl.forEach(n),hl.forEach(n);for(var s=0;s<Ei.length;s++){var r=Ei[s];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ei.length&&(s=Ei[0],s.blockedOn===null);)s_(s),s.blockedOn===null&&Ei.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var u=s[r],f=s[r+1],d=u[At]||null;if(typeof f=="function")d||l_(s);else if(d){var _=null;if(f&&f.hasAttribute("formAction")){if(u=f,d=f[At]||null)_=d.formAction;else if(vf(u)!==null)continue}else _=d.action;typeof _=="function"?s[r+1]=_:(s.splice(r,3),r-=3),l_(s)}}}function r_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(d){return u=d})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function bf(e){this._internalRoot=e}oo.prototype.render=bf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var s=n.current,r=Qt();Jp(s,r,e,n,null,null)},oo.prototype.unmount=bf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Jp(e.current,2,null,e,null,null),Gr(),n[ps]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var n=_d();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ei.length&&n!==0&&n<Ei[s].priority;s++);Ei.splice(s,0,e),s===0&&s_(e)}};var o_=t.version;if(o_!=="19.2.1")throw Error(l(527,o_,"19.2.1"));B.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var gS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uo.isDisabled&&uo.supportsFiber)try{Sa=uo.inject(gS),jt=uo}catch{}}return gl.createRoot=function(e,n){if(!o(e))throw Error(l(299));var s=!1,r="",u=gg,f=pg,d=_g;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Zp(e,1,!1,null,null,s,r,null,u,f,d,r_),e[ps]=n.current,ef(e),new bf(n)},gl.hydrateRoot=function(e,n,s){if(!o(e))throw Error(l(299));var r=!1,u="",f=gg,d=pg,_=_g,b=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.formState!==void 0&&(b=s.formState)),n=Zp(e,1,!0,n,s??null,r,u,b,f,d,_,r_),n.context=Wp(null),s=n.current,r=Qt(),r=uu(r),u=li(r),u.callback=null,ri(s,u,r),s=r,n.current.lanes=s,Ca(n,s),_n(n),e[ps]=n.current,ef(e),new oo(n)},gl.version="19.2.1",gl}var v_;function AS(){if(v_)return Tf.exports;v_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Tf.exports=CS(),Tf.exports}var NS=AS();const wS=Iv(NS);function RS(a={}){const{nonce:t,onScriptLoadSuccess:i,onScriptLoadError:l}=a,[o,c]=P.useState(!1),h=P.useRef(i);h.current=i;const m=P.useRef(l);return m.current=l,P.useEffect(()=>{const g=document.createElement("script");return g.src="https://accounts.google.com/gsi/client",g.async=!0,g.defer=!0,g.nonce=t,g.onload=()=>{var p;c(!0),(p=h.current)===null||p===void 0||p.call(h)},g.onerror=()=>{var p;c(!1),(p=m.current)===null||p===void 0||p.call(m)},document.body.appendChild(g),()=>{document.body.removeChild(g)}},[t]),o}const Uv=P.createContext(null);function OS({clientId:a,nonce:t,onScriptLoadSuccess:i,onScriptLoadError:l,children:o}){const c=RS({nonce:t,onScriptLoadSuccess:i,onScriptLoadError:l}),h=P.useMemo(()=>({clientId:a,scriptLoadedSuccessfully:c}),[a,c]);return fh.createElement(Uv.Provider,{value:h},o)}function xS(){const a=P.useContext(Uv);if(!a)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return a}function DS(a){var t;return(t=a==null?void 0:a.clientId)!==null&&t!==void 0?t:a==null?void 0:a.client_id}const MS={large:40,medium:32,small:20};function IS({onSuccess:a,onError:t,useOneTap:i,promptMomentNotification:l,type:o="standard",theme:c="outline",size:h="large",text:m,shape:g,logo_alignment:p,width:E,locale:v,click_listener:T,containerProps:j,...H}){const L=P.useRef(null),{clientId:V,scriptLoadedSuccessfully:X}=xS(),pe=P.useRef(a);pe.current=a;const se=P.useRef(t);se.current=t;const ee=P.useRef(l);return ee.current=l,P.useEffect(()=>{var ke,be,le,ze,Fe,Ge,De,Me,et;if(X)return(le=(be=(ke=window==null?void 0:window.google)===null||ke===void 0?void 0:ke.accounts)===null||be===void 0?void 0:be.id)===null||le===void 0||le.initialize({client_id:V,callback:me=>{var Ie;if(!(me!=null&&me.credential))return(Ie=se.current)===null||Ie===void 0?void 0:Ie.call(se);const{credential:A,select_by:B}=me;pe.current({credential:A,clientId:DS(me),select_by:B})},...H}),(Ge=(Fe=(ze=window==null?void 0:window.google)===null||ze===void 0?void 0:ze.accounts)===null||Fe===void 0?void 0:Fe.id)===null||Ge===void 0||Ge.renderButton(L.current,{type:o,theme:c,size:h,text:m,shape:g,logo_alignment:p,width:E,locale:v,click_listener:T}),i&&((et=(Me=(De=window==null?void 0:window.google)===null||De===void 0?void 0:De.accounts)===null||Me===void 0?void 0:Me.id)===null||et===void 0||et.prompt(ee.current)),()=>{var me,Ie,A;i&&((A=(Ie=(me=window==null?void 0:window.google)===null||me===void 0?void 0:me.accounts)===null||Ie===void 0?void 0:Ie.id)===null||A===void 0||A.cancel())}},[V,X,i,o,c,h,m,g,p,E,v]),fh.createElement("div",{...j,ref:L,style:{height:MS[h],...j==null?void 0:j.style}})}const US=["husiieen@gmail.com","hussienal.ambaree@gmail.com","kadum.j.r@gmail.com"],LS="314929620446-g3lbivjp4nog1t78al9lo316e17vgcij.apps.googleusercontent.com",y_="Cairo, Arial, sans-serif",b_=24,E_="#000000",S_="normal",Lv=["Amiri Quran","Cairo","19304-alqabas-bold","Asir 2 Normal","DG-Modal3at-Bold","Mj_Titr Collage","PTBLDHAD","Yaser 1","Arial","Verdana","Tahoma","Times New Roman","Georgia","Courier New"],kv=[{label:"",value:"#000000"},{label:"",value:"#FF0000"},{label:"",value:"#0000FF"},{label:"",value:"#008000"},{label:"",value:"#FFFF00"},{label:"",value:"#FFFFFF"},{label:"",value:"#808080"}],Ai=1200,Ni=1200;var T_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(a,t){if(!a)throw ga(t)},ga=function(a){return new Error("Firebase Database ("+zv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=function(a){const t=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&l+1<a.length&&(a.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++l)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},kS=function(a){const t=[];let i=0,l=0;for(;i<a.length;){const o=a[i++];if(o<128)t[l++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];t[l++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],h=a[i++],m=a[i++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;t[l++]=String.fromCharCode(55296+(g>>10)),t[l++]=String.fromCharCode(56320+(g&1023))}else{const c=a[i++],h=a[i++];t[l++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return t.join("")},hh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<a.length;o+=3){const c=a[o],h=o+1<a.length,m=h?a[o+1]:0,g=o+2<a.length,p=g?a[o+2]:0,E=c>>2,v=(c&3)<<4|m>>4;let T=(m&15)<<2|p>>6,j=p&63;g||(j=64,h||(T=64)),l.push(i[E],i[v],i[T],i[j])}return l.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Hv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):kS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],m=o<a.length?i[a.charAt(o)]:0;++o;const p=o<a.length?i[a.charAt(o)]:64;++o;const v=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||m==null||p==null||v==null)throw new zS;const T=c<<2|m>>4;if(l.push(T),p!==64){const j=m<<4&240|p>>2;if(l.push(j),v!==64){const H=p<<6&192|v;l.push(H)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class zS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jv=function(a){const t=Hv(a);return hh.encodeByteArray(t,!0)},bo=function(a){return jv(a).replace(/\./g,"")},Eo=function(a){try{return hh.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(a){return Bv(void 0,a)}function Bv(a,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!jS(i)||(a[i]=Bv(a[i],t[i]));return a}function jS(a){return a!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=()=>BS().__FIREBASE_DEFAULTS__,GS=()=>{if(typeof process>"u"||typeof T_>"u")return;const a=T_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},VS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Eo(a[1]);return t&&JSON.parse(t)},dh=()=>{try{return qS()||GS()||VS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},qv=a=>{var t,i;return(i=(t=dh())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[a]},YS=a=>{const t=qv(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const l=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),l]:[t.substring(0,i),l]},Gv=()=>{var a;return(a=dh())===null||a===void 0?void 0:a.config},Vv=a=>{var t;return(t=dh())===null||t===void 0?void 0:t[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,l)=>{i?this.reject(i):this.resolve(l),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,l))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},l=t||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${l}`,aud:l,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},a);return[bo(JSON.stringify(i)),bo(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function FS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function Yv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QS(){const a=St();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function KS(){return zv.NODE_ADMIN===!0}function XS(){try{return typeof indexedDB=="object"}catch{return!1}}function ZS(){return new Promise((a,t)=>{try{let i=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(l),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="FirebaseError";class zi extends Error{constructor(t,i,l){super(i),this.code=t,this.customData=l,this.name=WS,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(t,i,l){this.service=t,this.serviceName=i,this.errors=l}create(t,...i){const l=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],h=c?JS(c,l):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new zi(o,m,l)}}function JS(a,t){return a.replace($S,(i,l)=>{const o=t[l];return o!=null?String(o):`<${l}?>`})}const $S=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(a){return JSON.parse(a)}function dt(a){return JSON.stringify(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=function(a){let t={},i={},l={},o="";try{const c=a.split(".");t=Rl(Eo(c[0])||""),i=Rl(Eo(c[1])||""),o=c[2],l=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:l,signature:o}},eT=function(a){const t=Pv(a),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},tT=function(a){const t=Pv(a).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(a,t){return Object.prototype.hasOwnProperty.call(a,t)}function ua(a,t){if(Object.prototype.hasOwnProperty.call(a,t))return a[t]}function Gf(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function So(a,t,i){const l={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(l[o]=t.call(i,a[o],o,a));return l}function To(a,t){if(a===t)return!0;const i=Object.keys(a),l=Object.keys(t);for(const o of i){if(!l.includes(o))return!1;const c=a[o],h=t[o];if(C_(c)&&C_(h)){if(!To(c,h))return!1}else if(c!==h)return!1}for(const o of l)if(!i.includes(o))return!1;return!0}function C_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(a){const t=[];for(const[i,l]of Object.entries(a))Array.isArray(l)?l.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(l));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const l=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)l[v]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let v=0;v<16;v++)l[v]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let v=16;v<80;v++){const T=l[v-3]^l[v-8]^l[v-14]^l[v-16];l[v]=(T<<1|T>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],h=this.chain_[2],m=this.chain_[3],g=this.chain_[4],p,E;for(let v=0;v<80;v++){v<40?v<20?(p=m^c&(h^m),E=1518500249):(p=c^h^m,E=1859775393):v<60?(p=c&h|m&(c|h),E=2400959708):(p=c^h^m,E=3395469782);const T=(o<<5|o>>>27)+p+g+E+l[v]&4294967295;g=m,m=h,h=(c<<30|c>>>2)&4294967295,c=o,o=T}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const l=i-this.blockSize;let o=0;const c=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=l;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(c[h]=t.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}else for(;o<i;)if(c[h]=t[o],++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let l=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)t[l]=this.chain_[o]>>c&255,++l;return t}}function iT(a,t){const i=new sT(a,t);return i.subscribe.bind(i)}class sT{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(l=>{this.error(l)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,l){let o;if(t===void 0&&i===void 0&&l===void 0)throw new Error("Missing Observer.");aT(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:l},o.next===void 0&&(o.next=wf),o.error===void 0&&(o.error=wf),o.complete===void 0&&(o.complete=wf);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(l){typeof console<"u"&&console.error&&console.error(l)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aT(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function wf(){}function gh(a,t){return`${a} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=function(a){const t=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);if(o>=55296&&o<=56319){const c=o-55296;l++,G(l<a.length,"Surrogate pair missing trail surrogate.");const h=a.charCodeAt(l)-56320;o=65536+(c<<10)+h}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Fo=function(a){let t=0;for(let i=0;i<a.length;i++){const l=a.charCodeAt(i);l<128?t++:l<2048?t+=2:l>=55296&&l<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(a){return a&&a._delegate?a._delegate:a}class os{constructor(t,i,l){this.name=t,this.instanceFactory=i,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const l=new Po;if(this.instancesDeferred.set(i,l),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&l.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const l=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uT(t))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});l.resolve(c)}catch{}}}}clearInstance(t=is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=is){return this.instances.has(t)}getOptions(t=is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,l=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:l,options:i});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);l===m&&h.resolve(o)}return o}onInit(t,i){var l;const o=this.normalizeInstanceIdentifier(i),c=(l=this.onInitCallbacks.get(o))!==null&&l!==void 0?l:new Set;c.add(t),this.onInitCallbacks.set(o,c);const h=this.instances.get(o);return h&&t(h,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const l=this.onInitCallbacks.get(i);if(l)for(const o of l)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let l=this.instances.get(t);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:oT(t),options:i}),this.instances.set(t,l),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(l,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,l)}catch{}return l||null}normalizeInstanceIdentifier(t=is){return this.component?this.component.multipleInstances?t:is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oT(a){return a===is?void 0:a}function uT(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new rT(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(qe||(qe={}));const fT={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},hT=qe.INFO,dT={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},mT=(a,t,...i)=>{if(t<a.logLevel)return;const l=new Date().toISOString(),o=dT[t];if(o)console[o](`[${l}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ph{constructor(t){this.name=t,this._logLevel=hT,this._logHandler=mT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...t),this._logHandler(this,qe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...t),this._logHandler(this,qe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...t),this._logHandler(this,qe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...t),this._logHandler(this,qe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...t),this._logHandler(this,qe.ERROR,...t)}}const gT=(a,t)=>t.some(i=>a instanceof i);let A_,N_;function pT(){return A_||(A_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _T(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fv=new WeakMap,Vf=new WeakMap,Qv=new WeakMap,Rf=new WeakMap,_h=new WeakMap;function vT(a){const t=new Promise((i,l)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",h)},c=()=>{i(Di(a.result)),o()},h=()=>{l(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&Fv.set(i,a)}).catch(()=>{}),_h.set(t,a),t}function yT(a){if(Vf.has(a))return;const t=new Promise((i,l)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",h),a.removeEventListener("abort",h)},c=()=>{i(),o()},h=()=>{l(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",h),a.addEventListener("abort",h)});Vf.set(a,t)}let Yf={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Vf.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Qv.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Di(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function bT(a){Yf=a(Yf)}function ET(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const l=a.call(Of(this),t,...i);return Qv.set(l,t.sort?t.sort():[t]),Di(l)}:_T().includes(a)?function(...t){return a.apply(Of(this),t),Di(Fv.get(this))}:function(...t){return Di(a.apply(Of(this),t))}}function ST(a){return typeof a=="function"?ET(a):(a instanceof IDBTransaction&&yT(a),gT(a,pT())?new Proxy(a,Yf):a)}function Di(a){if(a instanceof IDBRequest)return vT(a);if(Rf.has(a))return Rf.get(a);const t=ST(a);return t!==a&&(Rf.set(a,t),_h.set(t,a)),t}const Of=a=>_h.get(a);function TT(a,t,{blocked:i,upgrade:l,blocking:o,terminated:c}={}){const h=indexedDB.open(a,t),m=Di(h);return l&&h.addEventListener("upgradeneeded",g=>{l(Di(h.result),g.oldVersion,g.newVersion,Di(h.transaction),g)}),i&&h.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const CT=["get","getKey","getAll","getAllKeys","count"],AT=["put","add","delete","clear"],xf=new Map;function w_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(xf.get(t))return xf.get(t);const i=t.replace(/FromIndex$/,""),l=t!==i,o=AT.includes(i);if(!(i in(l?IDBIndex:IDBObjectStore).prototype)||!(o||CT.includes(i)))return;const c=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return l&&(p=p.index(m.shift())),(await Promise.all([p[i](...m),o&&g.done]))[0]};return xf.set(t,c),c}bT(a=>({...a,get:(t,i,l)=>w_(t,i)||a.get(t,i,l),has:(t,i)=>!!w_(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(wT(i)){const l=i.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(i=>i).join(" ")}}function wT(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Pf="@firebase/app",R_="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new ph("@firebase/app"),RT="@firebase/app-compat",OT="@firebase/analytics-compat",xT="@firebase/analytics",DT="@firebase/app-check-compat",MT="@firebase/app-check",IT="@firebase/auth",UT="@firebase/auth-compat",LT="@firebase/database",kT="@firebase/database-compat",zT="@firebase/functions",HT="@firebase/functions-compat",jT="@firebase/installations",BT="@firebase/installations-compat",qT="@firebase/messaging",GT="@firebase/messaging-compat",VT="@firebase/performance",YT="@firebase/performance-compat",PT="@firebase/remote-config",FT="@firebase/remote-config-compat",QT="@firebase/storage",KT="@firebase/storage-compat",XT="@firebase/firestore",ZT="@firebase/vertexai-preview",WT="@firebase/firestore-compat",JT="firebase",$T="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="[DEFAULT]",eC={[Pf]:"fire-core",[RT]:"fire-core-compat",[xT]:"fire-analytics",[OT]:"fire-analytics-compat",[MT]:"fire-app-check",[DT]:"fire-app-check-compat",[IT]:"fire-auth",[UT]:"fire-auth-compat",[LT]:"fire-rtdb",[kT]:"fire-rtdb-compat",[zT]:"fire-fn",[HT]:"fire-fn-compat",[jT]:"fire-iid",[BT]:"fire-iid-compat",[qT]:"fire-fcm",[GT]:"fire-fcm-compat",[VT]:"fire-perf",[YT]:"fire-perf-compat",[PT]:"fire-rc",[FT]:"fire-rc-compat",[QT]:"fire-gcs",[KT]:"fire-gcs-compat",[XT]:"fire-fst",[WT]:"fire-fst-compat",[ZT]:"fire-vertex","fire-js":"fire-js",[JT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new Map,tC=new Map,Qf=new Map;function O_(a,t){try{a.container.addComponent(t)}catch(i){us.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function ca(a){const t=a.name;if(Qf.has(t))return us.debug(`There were multiple attempts to register component ${t}.`),!1;Qf.set(t,a);for(const i of Co.values())O_(i,a);for(const i of tC.values())O_(i,a);return!0}function vh(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function xi(a){return a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new Hl("app","Firebase",nC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t,i,l){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=$T;function Kv(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const l=Object.assign({name:Ff,automaticDataCollectionEnabled:!1},t),o=l.name;if(typeof o!="string"||!o)throw Mi.create("bad-app-name",{appName:String(o)});if(i||(i=Gv()),!i)throw Mi.create("no-options");const c=Co.get(o);if(c){if(To(i,c.options)&&To(l,c.config))return c;throw Mi.create("duplicate-app",{appName:o})}const h=new cT(o);for(const g of Qf.values())h.addComponent(g);const m=new iC(i,l,h);return Co.set(o,m),m}function Xv(a=Ff){const t=Co.get(a);if(!t&&a===Ff&&Gv())return Kv();if(!t)throw Mi.create("no-app",{appName:a});return t}function Ii(a,t,i){var l;let o=(l=eC[a])!==null&&l!==void 0?l:a;i&&(o+=`-${i}`);const c=o.match(/\s|\//),h=t.match(/\s|\//);if(c||h){const m=[`Unable to register library "${o}" with version "${t}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),us.warn(m.join(" "));return}ca(new os(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="firebase-heartbeat-database",aC=1,Ol="firebase-heartbeat-store";let Df=null;function Zv(){return Df||(Df=TT(sC,aC,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Ol)}catch(i){console.warn(i)}}}}).catch(a=>{throw Mi.create("idb-open",{originalErrorMessage:a.message})})),Df}async function lC(a){try{const i=(await Zv()).transaction(Ol),l=await i.objectStore(Ol).get(Wv(a));return await i.done,l}catch(t){if(t instanceof zi)us.warn(t.message);else{const i=Mi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});us.warn(i.message)}}}async function x_(a,t){try{const l=(await Zv()).transaction(Ol,"readwrite");await l.objectStore(Ol).put(t,Wv(a)),await l.done}catch(i){if(i instanceof zi)us.warn(i.message);else{const l=Mi.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});us.warn(l.message)}}}function Wv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=1024,oC=720*60*60*1e3;class uC{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fC(i),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){var t,i;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=D_();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c)))return this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const m=new Date(h.date).valueOf();return Date.now()-m<=oC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=D_(),{heartbeatsToSend:l,unsentEntries:o}=cC(this._heartbeatsCache.heartbeats),c=bo(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}}function D_(){return new Date().toISOString().substring(0,10)}function cC(a,t=rC){const i=[];let l=a.slice();for(const o of a){const c=i.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),M_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),M_(i)>t){i.pop();break}l=l.slice(1)}return{heartbeatsToSend:i,unsentEntries:l}}class fC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XS()?ZS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await lC(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return x_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return x_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function M_(a){return bo(JSON.stringify({version:2,heartbeats:a})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(a){ca(new os("platform-logger",t=>new NT(t),"PRIVATE")),ca(new os("heartbeat",t=>new uC(t),"PRIVATE")),Ii(Pf,R_,a),Ii(Pf,R_,"esm2017"),Ii("fire-js","")}hC("");var I_={};const U_="@firebase/database",L_="1.0.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jv="";function dC(a){Jv=a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),dt(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Rl(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return Zn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const t=window[a];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new mC(t)}}catch{}return new gC},as=$v("localStorage"),pC=$v("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new ph("@firebase/database"),_C=(function(){let a=1;return function(){return a++}})(),ey=function(a){const t=lT(a),i=new nT;i.update(t);const l=i.digest();return hh.encodeByteArray(l)},jl=function(...a){let t="";for(let i=0;i<a.length;i++){const l=a[i];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?t+=jl.apply(null,l):typeof l=="object"?t+=dt(l):t+=l,t+=" "}return t};let Sl=null,k_=!0;const vC=function(a,t){G(!0,"Can't turn on custom loggers persistently."),ia.logLevel=qe.VERBOSE,Sl=ia.log.bind(ia)},Et=function(...a){if(k_===!0&&(k_=!1,Sl===null&&pC.get("logging_enabled")===!0&&vC()),Sl){const t=jl.apply(null,a);Sl(t)}},Bl=function(a){return function(...t){Et(a,...t)}},Kf=function(...a){const t="FIREBASE INTERNAL ERROR: "+jl(...a);ia.error(t)},Fn=function(...a){const t=`FIREBASE FATAL ERROR: ${jl(...a)}`;throw ia.error(t),new Error(t)},Lt=function(...a){const t="FIREBASE WARNING: "+jl(...a);ia.warn(t)},yC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Lt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ty=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},bC=function(a){if(document.readyState==="complete")a();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},fa="[MIN_NAME]",cs="[MAX_NAME]",va=function(a,t){if(a===t)return 0;if(a===fa||t===cs)return-1;if(t===fa||a===cs)return 1;{const i=z_(a),l=z_(t);return i!==null?l!==null?i-l===0?a.length-t.length:i-l:-1:l!==null?1:a<t?-1:1}},EC=function(a,t){return a===t?0:a<t?-1:1},pl=function(a,t){if(t&&a in t)return t[a];throw new Error("Missing required key ("+a+") in object: "+dt(t))},yh=function(a){if(typeof a!="object"||a===null)return dt(a);const t=[];for(const l in a)t.push(l);t.sort();let i="{";for(let l=0;l<t.length;l++)l!==0&&(i+=","),i+=dt(t[l]),i+=":",i+=yh(a[t[l]]);return i+="}",i},ny=function(a,t){const i=a.length;if(i<=t)return[a];const l=[];for(let o=0;o<i;o+=t)o+t>i?l.push(a.substring(o,i)):l.push(a.substring(o,o+t));return l};function kt(a,t){for(const i in a)a.hasOwnProperty(i)&&t(i,a[i])}const iy=function(a){G(!ty(a),"Invalid JSON number");const t=11,i=52,l=(1<<t-1)-1;let o,c,h,m,g;a===0?(c=0,h=0,o=1/a===-1/0?1:0):(o=a<0,a=Math.abs(a),a>=Math.pow(2,1-l)?(m=Math.min(Math.floor(Math.log(a)/Math.LN2),l),c=m+l,h=Math.round(a*Math.pow(2,i-m)-Math.pow(2,i))):(c=0,h=Math.round(a/Math.pow(2,1-l-i))));const p=[];for(g=i;g;g-=1)p.push(h%2?1:0),h=Math.floor(h/2);for(g=t;g;g-=1)p.push(c%2?1:0),c=Math.floor(c/2);p.push(o?1:0),p.reverse();const E=p.join("");let v="";for(g=0;g<64;g+=8){let T=parseInt(E.substr(g,8),2).toString(16);T.length===1&&(T="0"+T),v=v+T}return v.toLowerCase()},SC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},TC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function CC(a,t){let i="Unknown Error";a==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?i="Client doesn't have permission to access the desired data.":a==="unavailable"&&(i="The service is unavailable");const l=new Error(a+" at "+t._path.toString()+": "+i);return l.code=a.toUpperCase(),l}const AC=new RegExp("^-?(0*)\\d{1,10}$"),NC=-2147483648,wC=2147483647,z_=function(a){if(AC.test(a)){const t=Number(a);if(t>=NC&&t<=wC)return t}return null},ya=function(a){try{a()}catch(t){setTimeout(()=>{const i=t.stack||"";throw Lt("Exception was thrown by user callback.",i),t},Math.floor(0))}},RC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Tl=function(a,t){const i=setTimeout(a,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t,i){this.appName_=t,this.appCheckProvider=i,this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(l=>this.appCheck=l)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((i,l)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(l=>l.addTokenListener(t))}notifyForInvalidToken(){Lt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t,i,l){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(Et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,l)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Lt(t)}}class go{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}go.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh="5",sy="v",ay="s",ly="r",ry="f",oy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,uy="ls",cy="p",Xf="ac",fy="websocket",hy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(t,i,l,o,c=!1,h="",m=!1,g=!1){this.secure=i,this.namespace=l,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=as.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&as.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function DC(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function my(a,t,i){G(typeof t=="string","typeof type must == string"),G(typeof i=="object","typeof params must == object");let l;if(t===fy)l=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(t===hy)l=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);DC(a)&&(i.ns=a.namespace);const o=[];return kt(i,(c,h)=>{o.push(c+"="+h)}),l+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.counters_={}}incrementCounter(t,i=1){Zn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return HS(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf={},If={};function Eh(a){const t=a.toString();return Mf[t]||(Mf[t]=new MC),Mf[t]}function IC(a,t){const i=a.toString();return If[i]||(If[i]=t()),If[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<l.length;++o)l[o]&&ya(()=>{this.onMessage_(l[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="start",LC="close",kC="pLPCommand",zC="pRTLPCB",gy="id",py="pw",_y="ser",HC="cb",jC="seg",BC="ts",qC="d",GC="dframe",vy=1870,yy=30,VC=vy-yy,YC=25e3,PC=3e4;class ta{constructor(t,i,l,o,c,h,m){this.connId=t,this.repoInfo=i,this.applicationId=l,this.appCheckToken=o,this.authToken=c,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bl(t),this.stats_=Eh(i),this.urlFn=g=>(this.appCheckToken&&(g[Xf]=this.appCheckToken),my(i,hy,g))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new UC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(PC)),bC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Sh((...c)=>{const[h,m,g,p,E]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===H_)this.id=m,this.password=g;else if(h===LC)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...c)=>{const[h,m]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const l={};l[H_]="t",l[_y]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[HC]=this.scriptTagHolder.uniqueCallbackIdentifier),l[sy]=bh,this.transportSessionId&&(l[ay]=this.transportSessionId),this.lastSessionId&&(l[uy]=this.lastSessionId),this.applicationId&&(l[cy]=this.applicationId),this.appCheckToken&&(l[Xf]=this.appCheckToken),typeof location<"u"&&location.hostname&&oy.test(location.hostname)&&(l[ly]=ry);const o=this.urlFn(l);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ta.forceAllow_=!0}static forceDisallow(){ta.forceDisallow_=!0}static isAvailable(){return ta.forceAllow_?!0:!ta.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!SC()&&!TC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=dt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=jv(i),o=ny(l,VC);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const l={};l[GC]="t",l[gy]=t,l[py]=i,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=dt(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Sh{constructor(t,i,l,o){this.onDisconnect=l,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=_C(),window[kC+this.uniqueCallbackIdentifier]=t,window[zC+this.uniqueCallbackIdentifier]=i,this.myIFrame=Sh.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){Et("frame writing exception"),m.stack&&Et(m.stack),Et(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Et("No IE domain setting required")}catch{const l=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[gy]=this.myID,t[py]=this.myPW,t[_y]=this.currentSerial;let i=this.urlFn(t),l="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+yy+l.length<=vy;){const h=this.pendingSegs.shift();l=l+"&"+jC+o+"="+h.seg+"&"+BC+o+"="+h.ts+"&"+qC+o+"="+h.d,o++}return i=i+l,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,l){this.pendingSegs.push({seg:t,ts:i,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const l=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(l,Math.floor(YC)),c=()=>{clearTimeout(o),l()};this.addTag(t,c)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=t,l.onload=l.onreadystatechange=function(){const o=l.readyState;(!o||o==="loaded"||o==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),i())},l.onerror=()=>{Et("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=16384,QC=45e3;let Ao=null;typeof MozWebSocket<"u"?Ao=MozWebSocket:typeof WebSocket<"u"&&(Ao=WebSocket);class un{constructor(t,i,l,o,c,h,m){this.connId=t,this.applicationId=l,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bl(this.connId),this.stats_=Eh(i),this.connURL=un.connectionURL_(i,h,m,o,l),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,l,o,c){const h={};return h[sy]=bh,typeof location<"u"&&location.hostname&&oy.test(location.hostname)&&(h[ly]=ry),i&&(h[ay]=i),l&&(h[uy]=l),o&&(h[Xf]=o),c&&(h[cy]=c),my(t,fy,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,as.set("previous_websocket_failure",!0);try{let l;KS(),this.mySock=new Ao(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){un.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(i);l&&l.length>1&&parseFloat(l[1])<4.4&&(t=!0)}return!t&&Ao!==null&&!un.forceDisallow_}static previouslyFailed(){return as.isInMemoryStorage||as.get("previous_websocket_failure")===!0}markConnectionHealthy(){as.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const l=Rl(i);this.onMessage(l)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(G(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const l=this.extractFrameCount_(i);l!==null&&this.appendFrame_(l)}}send(t){this.resetKeepAlive();const i=dt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=ny(i,FC);l.length>1&&this.sendString_(String(l.length));for(let o=0;o<l.length;o++)this.sendString_(l[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(QC))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}un.responsesRequiredToBeHealthy=2;un.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ta,un]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=un&&un.isAvailable();let l=i&&!un.previouslyFailed();if(t.webSocketOnly&&(i||Lt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[un];else{const o=this.transports_=[];for(const c of xl.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);xl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}xl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=6e4,XC=5e3,ZC=10*1024,WC=100*1024,Uf="t",j_="d",JC="s",B_="r",$C="e",q_="o",G_="a",V_="n",Y_="p",eA="h";class tA{constructor(t,i,l,o,c,h,m,g,p,E){this.id=t,this.repoInfo_=i,this.applicationId_=l,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bl("c:"+this.id+":"),this.transportManager_=new xl(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,l)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Tl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>WC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ZC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Uf in t){const i=t[Uf];i===G_?this.upgradeIfSecondaryHealthy_():i===B_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===q_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=pl("t",t),l=pl("d",t);if(i==="c")this.onSecondaryControl_(l);else if(i==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Y_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:G_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:V_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=pl("t",t),l=pl("d",t);i==="c"?this.onControl_(l):i==="d"&&this.onDataMessage_(l)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=pl(Uf,t);if(j_ in t){const l=t[j_];if(i===eA){const o=Object.assign({},l);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===V_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===JC?this.onConnectionShutdown_(l):i===B_?this.onReset_(l):i===$C?Kf("Server Error: "+l):i===q_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Kf("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,l=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),bh!==l&&Lt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,l),Tl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(KC))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Tl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(XC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Y_,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(as.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{put(t,i,l,o){}merge(t,i,l,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,l){}onDisconnectMerge(t,i,l){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(t){this.allowedEvents_=t,this.listeners_={},G(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const l=[...this.listeners_[t]];for(let o=0;o<l.length;o++)l[o].callback.apply(l[o].context,i)}}on(t,i,l){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:l});const o=this.getInitialEvent(t);o&&i.apply(l,o)}off(t,i,l){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let c=0;c<o.length;c++)if(o[c].callback===i&&(!l||l===o[c].context)){o.splice(c,1);return}}validateEventType_(t){G(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Ey{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!mh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new No}getInitialEvent(t){return G(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=32,F_=768;class Ye{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let l=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[l]=this.pieces_[o],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function xe(){return new Ye("")}function ve(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function Li(a){return a.pieces_.length-a.pieceNum_}function Pe(a){let t=a.pieceNum_;return t<a.pieces_.length&&t++,new Ye(a.pieces_,t)}function Sy(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function nA(a){let t="";for(let i=a.pieceNum_;i<a.pieces_.length;i++)a.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(a.pieces_[i])));return t||"/"}function Ty(a,t=0){return a.pieces_.slice(a.pieceNum_+t)}function Cy(a){if(a.pieceNum_>=a.pieces_.length)return null;const t=[];for(let i=a.pieceNum_;i<a.pieces_.length-1;i++)t.push(a.pieces_[i]);return new Ye(t,0)}function ot(a,t){const i=[];for(let l=a.pieceNum_;l<a.pieces_.length;l++)i.push(a.pieces_[l]);if(t instanceof Ye)for(let l=t.pieceNum_;l<t.pieces_.length;l++)i.push(t.pieces_[l]);else{const l=t.split("/");for(let o=0;o<l.length;o++)l[o].length>0&&i.push(l[o])}return new Ye(i,0)}function Te(a){return a.pieceNum_>=a.pieces_.length}function It(a,t){const i=ve(a),l=ve(t);if(i===null)return t;if(i===l)return It(Pe(a),Pe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+a+")")}function Th(a,t){if(Li(a)!==Li(t))return!1;for(let i=a.pieceNum_,l=t.pieceNum_;i<=a.pieces_.length;i++,l++)if(a.pieces_[i]!==t.pieces_[l])return!1;return!0}function cn(a,t){let i=a.pieceNum_,l=t.pieceNum_;if(Li(a)>Li(t))return!1;for(;i<a.pieces_.length;){if(a.pieces_[i]!==t.pieces_[l])return!1;++i,++l}return!0}class iA{constructor(t,i){this.errorPrefix_=i,this.parts_=Ty(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=Fo(this.parts_[l]);Ay(this)}}function sA(a,t){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(t),a.byteLength_+=Fo(t),Ay(a)}function aA(a){const t=a.parts_.pop();a.byteLength_-=Fo(t),a.parts_.length>0&&(a.byteLength_-=1)}function Ay(a){if(a.byteLength_>F_)throw new Error(a.errorPrefix_+"has a key path longer than "+F_+" bytes ("+a.byteLength_+").");if(a.parts_.length>P_)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+P_+") or object contains a cycle "+ss(a))}function ss(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends Ey{constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const l=!document[t];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}static getInstance(){return new Ch}getInitialEvent(t){return G(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=1e3,lA=300*1e3,Q_=30*1e3,rA=1.3,oA=3e4,uA="server_kill",K_=3;class Pn extends by{constructor(t,i,l,o,c,h,m,g){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=l,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=g,this.id=Pn.nextPersistentConnectionId_++,this.log_=Bl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_l,this.maxReconnectDelay_=lA,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ch.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&No.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,l){const o=++this.requestNumber_,c={r:o,a:t,b:i};this.log_(dt(c)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),l&&(this.requestCBHash_[o]=l)}get(t){this.initConnection_();const i=new Po,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),i.promise}listen(t,i,l,o){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),G(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:t,tag:l};this.listens.get(h).set(c,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,l=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(l)})}sendListen_(t){const i=t.query,l=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+l+" for "+o);const c={p:l},h="q";t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(h,c,m=>{const g=m.d,p=m.s;Pn.warnOnListenWarnings_(g,i),(this.listens.get(l)&&this.listens.get(l).get(o))===t&&(this.log_("listen response",m),p!=="ok"&&this.removeListen_(l,o),t.onComplete&&t.onComplete(p,g))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Zn(t,"w")){const l=ua(t,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Lt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||tT(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Q_)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=eT(t)?"auth":"gauth",l={cred:t};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(i,l,o=>{const c=o.s,h=o.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,l=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,l)})}unlisten(t,i){const l=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+l+" "+o),G(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,o)&&this.connected_&&this.sendUnlisten_(l,o,t._queryObject,i)}sendUnlisten_(t,i,l,o){this.log_("Unlisten on "+t+" for "+i);const c={p:t},h="n";o&&(c.q=l,c.t=o),this.sendRequest(h,c)}onDisconnectPut(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:l})}onDisconnectMerge(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:l})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,l,o){const c={p:i,d:l};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,l,o){this.putInternal("p",t,i,l,o)}merge(t,i,l,o){this.putInternal("m",t,i,l,o)}putInternal(t,i,l,o,c){this.initConnection_();const h={p:i,d:l};c!==void 0&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,l=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,l,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,l=>{if(l.s!=="ok"){const c=l.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+dt(t));const i=t.r,l=this.requestCBHash_[i];l&&(delete this.requestCBHash_[i],l(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Kf("Unrecognized action received from server: "+dt(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_l,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=_l,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>oA&&(this.reconnectDelay_=_l),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*rA)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Pn.nextConnectionId_++,c=this.lastSessionId;let h=!1,m=null;const g=function(){m?m.close():(h=!0,l())},p=function(v){G(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(v)};this.realtime_={close:g,sendRequest:p};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,T]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);h?Et("getToken() completed but was canceled"):(Et("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=T&&T.token,m=new tA(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,l,j=>{Lt(j+" ("+this.repoInfo_.toString()+")"),this.interrupt(uA)},c))}catch(v){this.log_("Failed to get token: "+v),h||(this.repoInfo_.nodeAdmin&&Lt(v),g())}}}interrupt(t){Et("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Et("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Gf(this.interruptReasons_)&&(this.reconnectDelay_=_l,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let l;i?l=i.map(c=>yh(c)).join("$"):l="default";const o=this.removeListen_(t,l);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const l=new Ye(t).toString();let o;if(this.listens.has(l)){const c=this.listens.get(l);o=c.get(i),c.delete(i),c.size===0&&this.listens.delete(l)}else o=void 0;return o}onAuthRevoked_(t,i){Et("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=K_&&(this.reconnectDelay_=Q_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Et("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=K_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+Jv.replace(/\./g,"-")]=1,mh()?t["framework.cordova"]=1:Yv()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=No.getInstance().currentlyOnline();return Gf(this.interruptReasons_)&&t}}Pn.nextPersistentConnectionId_=0;Pn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new ye(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const l=new ye(fa,t),o=new ye(fa,i);return this.compare(l,o)!==0}minPost(){return ye.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co;class Ny extends Qo{static get __EMPTY_NODE(){return co}static set __EMPTY_NODE(t){co=t}compare(t,i){return va(t.name,i.name)}isDefinedOn(t){throw ga("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return ye.MIN}maxPost(){return new ye(cs,co)}makePost(t,i){return G(typeof t=="string","KeyIndex indexValue must always be a string."),new ye(t,co)}toString(){return".key"}}const sa=new Ny;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t,i,l,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=i?l(t.key,i):1,o&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class ht{constructor(t,i,l,o,c){this.key=t,this.value=i,this.color=l??ht.RED,this.left=o??Ut.EMPTY_NODE,this.right=c??Ut.EMPTY_NODE}copy(t,i,l,o,c){return new ht(t??this.key,i??this.value,l??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,l){let o=this;const c=l(t,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(t,i,l),null):c===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,l)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ut.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let l,o;if(l=this,i(t,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),i(t,l.key)===0){if(l.right.isEmpty())return Ut.EMPTY_NODE;o=l.right.min_(),l=l.copy(o.key,o.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}ht.RED=!0;ht.BLACK=!1;class cA{copy(t,i,l,o,c){return this}insert(t,i,l){return new ht(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ut{constructor(t,i=Ut.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new Ut(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,ht.BLACK,null,null))}remove(t){return new Ut(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ht.BLACK,null,null))}get(t){let i,l=this.root_;for(;!l.isEmpty();){if(i=this.comparator_(t,l.key),i===0)return l.value;i<0?l=l.left:i>0&&(l=l.right)}return null}getPredecessorKey(t){let i,l=this.root_,o=null;for(;!l.isEmpty();)if(i=this.comparator_(t,l.key),i===0){if(l.left.isEmpty())return o?o.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else i<0?l=l.left:i>0&&(o=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new fo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new fo(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new fo(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new fo(this.root_,null,this.comparator_,!0,t)}}Ut.EMPTY_NODE=new cA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(a,t){return va(a.name,t.name)}function Ah(a,t){return va(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf;function hA(a){Zf=a}const wy=function(a){return typeof a=="number"?"number:"+iy(a):"string:"+a},Ry=function(a){if(a.isLeafNode()){const t=a.val();G(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Zn(t,".sv"),"Priority must be a string or number.")}else G(a===Zf||a.isEmpty(),"priority of unexpected type.");G(a===Zf||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X_;class ft{constructor(t,i=ft.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ry(this.priorityNode_)}static set __childrenNodeConstructor(t){X_=t}static get __childrenNodeConstructor(){return X_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new ft(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:ft.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Te(t)?this:ve(t)===".priority"?this.priorityNode_:ft.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:ft.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const l=ve(t);return l===null?i:i.isEmpty()&&l!==".priority"?this:(G(l!==".priority"||Li(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,ft.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pe(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+wy(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=iy(this.value_):t+=this.value_,this.lazyHash_=ey(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===ft.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof ft.__childrenNodeConstructor?-1:(G(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,l=typeof this.value_,o=ft.VALUE_TYPE_ORDER.indexOf(i),c=ft.VALUE_TYPE_ORDER.indexOf(l);return G(o>=0,"Unknown leaf type: "+i),G(c>=0,"Unknown leaf type: "+l),o===c?l==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}ft.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oy,xy;function dA(a){Oy=a}function mA(a){xy=a}class gA extends Qo{compare(t,i){const l=t.node.getPriority(),o=i.node.getPriority(),c=l.compareTo(o);return c===0?va(t.name,i.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return ye.MIN}maxPost(){return new ye(cs,new ft("[PRIORITY-POST]",xy))}makePost(t,i){const l=Oy(t);return new ye(i,new ft("[PRIORITY-POST]",l))}toString(){return".priority"}}const $e=new gA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=Math.log(2);class _A{constructor(t){const i=c=>parseInt(Math.log(c)/pA,10),l=c=>parseInt(Array(c+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=l(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const wo=function(a,t,i,l){a.sort(t);const o=function(g,p){const E=p-g;let v,T;if(E===0)return null;if(E===1)return v=a[g],T=i?i(v):v,new ht(T,v.node,ht.BLACK,null,null);{const j=parseInt(E/2,10)+g,H=o(g,j),L=o(j+1,p);return v=a[j],T=i?i(v):v,new ht(T,v.node,ht.BLACK,H,L)}},c=function(g){let p=null,E=null,v=a.length;const T=function(H,L){const V=v-H,X=v;v-=H;const pe=o(V+1,X),se=a[V],ee=i?i(se):se;j(new ht(ee,se.node,L,null,pe))},j=function(H){p?(p.left=H,p=H):(E=H,p=H)};for(let H=0;H<g.count;++H){const L=g.nextBitIsOne(),V=Math.pow(2,g.count-(H+1));L?T(V,ht.BLACK):(T(V,ht.BLACK),T(V,ht.RED))}return E},h=new _A(a.length),m=c(h);return new Ut(l||t,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf;const ea={};class qn{constructor(t,i){this.indexes_=t,this.indexSet_=i}static get Default(){return G(ea&&$e,"ChildrenNode.ts has not been loaded"),Lf=Lf||new qn({".priority":ea},{".priority":$e}),Lf}get(t){const i=ua(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof Ut?i:null}hasIndex(t){return Zn(this.indexSet_,t.toString())}addIndex(t,i){G(t!==sa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let o=!1;const c=i.getIterator(ye.Wrap);let h=c.getNext();for(;h;)o=o||t.isDefinedOn(h.node),l.push(h),h=c.getNext();let m;o?m=wo(l,t.getCompare()):m=ea;const g=t.toString(),p=Object.assign({},this.indexSet_);p[g]=t;const E=Object.assign({},this.indexes_);return E[g]=m,new qn(E,p)}addToIndexes(t,i){const l=So(this.indexes_,(o,c)=>{const h=ua(this.indexSet_,c);if(G(h,"Missing index implementation for "+c),o===ea)if(h.isDefinedOn(t.node)){const m=[],g=i.getIterator(ye.Wrap);let p=g.getNext();for(;p;)p.name!==t.name&&m.push(p),p=g.getNext();return m.push(t),wo(m,h.getCompare())}else return ea;else{const m=i.get(t.name);let g=o;return m&&(g=g.remove(new ye(t.name,m))),g.insert(t,t.node)}});return new qn(l,this.indexSet_)}removeFromIndexes(t,i){const l=So(this.indexes_,o=>{if(o===ea)return o;{const c=i.get(t.name);return c?o.remove(new ye(t.name,c)):o}});return new qn(l,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl;class re{constructor(t,i,l){this.children_=t,this.priorityNode_=i,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&Ry(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return vl||(vl=new re(new Ut(Ah),null,qn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vl}updatePriority(t){return this.children_.isEmpty()?this:new re(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?vl:i}}getChild(t){const i=ve(t);return i===null?this:this.getImmediateChild(i).getChild(Pe(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(G(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const l=new ye(t,i);let o,c;i.isEmpty()?(o=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(l,this.children_)):(o=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(l,this.children_));const h=o.isEmpty()?vl:this.priorityNode_;return new re(o,h,c)}}updateChild(t,i){const l=ve(t);if(l===null)return i;{G(ve(t)!==".priority"||Li(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(l).updateChild(Pe(t),i);return this.updateImmediateChild(l,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let l=0,o=0,c=!0;if(this.forEachChild($e,(h,m)=>{i[h]=m.val(t),l++,c&&re.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):c=!1}),!t&&c&&o<2*l){const h=[];for(const m in i)h[m]=i[m];return h}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+wy(this.getPriority().val())+":"),this.forEachChild($e,(i,l)=>{const o=l.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":ey(t)}return this.lazyHash_}getPredecessorChildName(t,i,l){const o=this.resolveIndex_(l);if(o){const c=o.getPredecessorKey(new ye(t,i));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new ye(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new ye(i,this.children_.get(i)):null}forEachChild(t,i){const l=this.resolveIndex_(t);return l?l.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,ye.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,t)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,ye.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,t)>0;)o.getNext(),c=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ql?-1:0}withIndex(t){if(t===sa||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new re(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===sa||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const l=this.getIterator($e),o=i.getIterator($e);let c=l.getNext(),h=o.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=l.getNext(),h=o.getNext()}return c===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===sa?null:this.indexMap_.get(t.toString())}}re.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vA extends re{constructor(){super(new Ut(Ah),re.EMPTY_NODE,qn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return re.EMPTY_NODE}isEmpty(){return!1}}const ql=new vA;Object.defineProperties(ye,{MIN:{value:new ye(fa,re.EMPTY_NODE)},MAX:{value:new ye(cs,ql)}});Ny.__EMPTY_NODE=re.EMPTY_NODE;ft.__childrenNodeConstructor=re;hA(ql);mA(ql);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=!0;function yt(a,t=null){if(a===null)return re.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(t=a[".priority"]),G(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const i=a;return new ft(i,yt(t))}if(!(a instanceof Array)&&yA){const i=[];let l=!1;if(kt(a,(h,m)=>{if(h.substring(0,1)!=="."){const g=yt(m);g.isEmpty()||(l=l||!g.getPriority().isEmpty(),i.push(new ye(h,g)))}}),i.length===0)return re.EMPTY_NODE;const c=wo(i,fA,h=>h.name,Ah);if(l){const h=wo(i,$e.getCompare());return new re(c,yt(t),new qn({".priority":h},{".priority":$e}))}else return new re(c,yt(t),qn.Default)}else{let i=re.EMPTY_NODE;return kt(a,(l,o)=>{if(Zn(a,l)&&l.substring(0,1)!=="."){const c=yt(o);(c.isLeafNode()||!c.isEmpty())&&(i=i.updateImmediateChild(l,c))}}),i.updatePriority(yt(t))}}dA(yt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA extends Qo{constructor(t){super(),this.indexPath_=t,G(!Te(t)&&ve(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const l=this.extractChild(t.node),o=this.extractChild(i.node),c=l.compareTo(o);return c===0?va(t.name,i.name):c}makePost(t,i){const l=yt(t),o=re.EMPTY_NODE.updateChild(this.indexPath_,l);return new ye(i,o)}maxPost(){const t=re.EMPTY_NODE.updateChild(this.indexPath_,ql);return new ye(cs,t)}toString(){return Ty(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA extends Qo{compare(t,i){const l=t.node.compareTo(i.node);return l===0?va(t.name,i.name):l}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return ye.MIN}maxPost(){return ye.MAX}makePost(t,i){const l=yt(t);return new ye(i,l)}toString(){return".value"}}const SA=new EA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(a){return{type:"value",snapshotNode:a}}function ha(a,t){return{type:"child_added",snapshotNode:t,childName:a}}function Dl(a,t){return{type:"child_removed",snapshotNode:t,childName:a}}function Ml(a,t,i){return{type:"child_changed",snapshotNode:t,childName:a,oldSnap:i}}function TA(a,t){return{type:"child_moved",snapshotNode:t,childName:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t){this.index_=t}updateChild(t,i,l,o,c,h){G(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(i);return m.getChild(o).equals(l.getChild(o))&&m.isEmpty()===l.isEmpty()||(h!=null&&(l.isEmpty()?t.hasChild(i)?h.trackChildChange(Dl(i,m)):G(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(ha(i,l)):h.trackChildChange(Ml(i,l,m))),t.isLeafNode()&&l.isEmpty())?t:t.updateImmediateChild(i,l).withIndex(this.index_)}updateFullNode(t,i,l){return l!=null&&(t.isLeafNode()||t.forEachChild($e,(o,c)=>{i.hasChild(o)||l.trackChildChange(Dl(o,c))}),i.isLeafNode()||i.forEachChild($e,(o,c)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(c)||l.trackChildChange(Ml(o,c,h))}else l.trackChildChange(ha(o,c))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?re.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(t){this.indexedFilter_=new Nh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Il.getStartPost_(t),this.endPost_=Il.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,l=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&l}updateChild(t,i,l,o,c,h){return this.matches(new ye(i,l))||(l=re.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,l,o,c,h)}updateFullNode(t,i,l){i.isLeafNode()&&(i=re.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(re.EMPTY_NODE);const c=this;return i.forEachChild($e,(h,m)=>{c.matches(new ye(h,m))||(o=o.updateImmediateChild(h,re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=i=>{const l=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new Il(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,l,o,c,h){return this.rangedFilter_.matches(new ye(i,l))||(l=re.EMPTY_NODE),t.getImmediateChild(i).equals(l)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,l,o,c,h):this.fullLimitUpdateChild_(t,i,l,c,h)}updateFullNode(t,i,l){let o;if(i.isLeafNode()||i.isEmpty())o=re.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=re.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;c.hasNext()&&h<this.limit_;){const m=c.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(re.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let h=0;for(;c.hasNext();){const m=c.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:o=o.updateImmediateChild(m.name,re.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,l,o,c){let h;if(this.reverse_){const v=this.index_.getCompare();h=(T,j)=>v(j,T)}else h=this.index_.getCompare();const m=t;G(m.numChildren()===this.limit_,"");const g=new ye(i,l),p=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),E=this.rangedFilter_.matches(g);if(m.hasChild(i)){const v=m.getImmediateChild(i);let T=o.getChildAfterChild(this.index_,p,this.reverse_);for(;T!=null&&(T.name===i||m.hasChild(T.name));)T=o.getChildAfterChild(this.index_,T,this.reverse_);const j=T==null?1:h(T,g);if(E&&!l.isEmpty()&&j>=0)return c!=null&&c.trackChildChange(Ml(i,l,v)),m.updateImmediateChild(i,l);{c!=null&&c.trackChildChange(Dl(i,v));const L=m.updateImmediateChild(i,re.EMPTY_NODE);return T!=null&&this.rangedFilter_.matches(T)?(c!=null&&c.trackChildChange(ha(T.name,T.node)),L.updateImmediateChild(T.name,T.node)):L}}else return l.isEmpty()?t:E&&h(p,g)>=0?(c!=null&&(c.trackChildChange(Dl(p.name,p.node)),c.trackChildChange(ha(i,l))),m.updateImmediateChild(i,l).updateImmediateChild(p.name,re.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$e}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fa}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===$e}copy(){const t=new wh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function AA(a){return a.loadsAllData()?new Nh(a.getIndex()):a.hasLimit()?new CA(a):new Il(a)}function Z_(a){const t={};if(a.isDefault())return t;let i;if(a.index_===$e?i="$priority":a.index_===SA?i="$value":a.index_===sa?i="$key":(G(a.index_ instanceof bA,"Unrecognized index type!"),i=a.index_.toString()),t.orderBy=dt(i),a.startSet_){const l=a.startAfterSet_?"startAfter":"startAt";t[l]=dt(a.indexStartValue_),a.startNameSet_&&(t[l]+=","+dt(a.indexStartName_))}if(a.endSet_){const l=a.endBeforeSet_?"endBefore":"endAt";t[l]=dt(a.indexEndValue_),a.endNameSet_&&(t[l]+=","+dt(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?t.limitToFirst=a.limit_:t.limitToLast=a.limit_),t}function W_(a){const t={};if(a.startSet_&&(t.sp=a.indexStartValue_,a.startNameSet_&&(t.sn=a.indexStartName_),t.sin=!a.startAfterSet_),a.endSet_&&(t.ep=a.indexEndValue_,a.endNameSet_&&(t.en=a.indexEndName_),t.ein=!a.endBeforeSet_),a.limitSet_){t.l=a.limit_;let i=a.viewFrom_;i===""&&(a.isViewFromLeft()?i="l":i="r"),t.vf=i}return a.index_!==$e&&(t.i=a.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends by{constructor(t,i,l,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=o,this.log_=Bl("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(G(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,i,l,o){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const h=Ro.getListenId_(t,l),m={};this.listens_[h]=m;const g=Z_(t._queryParams);this.restRequest_(c+".json",g,(p,E)=>{let v=E;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(c,v,!1,l),ua(this.listens_,h)===m){let T;p?p===401?T="permission_denied":T="rest_error:"+p:T="ok",o(T,null)}})}unlisten(t,i){const l=Ro.getListenId_(t,i);delete this.listens_[l]}get(t){const i=Z_(t._queryParams),l=t._path.toString(),o=new Po;return this.restRequest_(l+".json",i,(c,h)=>{let m=h;c===404&&(m=null,c=null),c===null?(this.onDataUpdate_(l,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},l){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(i.auth=o.accessToken),c&&c.token&&(i.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+pa(i);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(l&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let g=null;if(m.status>=200&&m.status<300){try{g=Rl(m.responseText)}catch{Lt("Failed to parse JSON response for "+h+": "+m.responseText)}l(null,g)}else m.status!==401&&m.status!==404&&Lt("Got unsuccessful REST response for "+h+" Status: "+m.status),l(m.status);l=null}},m.open("GET",h,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.rootNode_=re.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(){return{value:null,children:new Map}}function My(a,t,i){if(Te(t))a.value=i,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(t,i);else{const l=ve(t);a.children.has(l)||a.children.set(l,Oo());const o=a.children.get(l);t=Pe(t),My(o,t,i)}}function Wf(a,t,i){a.value!==null?i(t,a.value):wA(a,(l,o)=>{const c=new Ye(t.toString()+"/"+l);Wf(o,c,i)})}function wA(a,t){a.children.forEach((i,l)=>{t(l,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i=Object.assign({},t);return this.last_&&kt(this.last_,(l,o)=>{i[l]=i[l]-o}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=10*1e3,OA=30*1e3,xA=300*1e3;class DA{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new RA(t);const l=J_+(OA-J_)*Math.random();Tl(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const t=this.statsListener_.get(),i={};let l=!1;kt(t,(o,c)=>{c>0&&Zn(this.statsToReport_,o)&&(i[o]=c,l=!0)}),l&&this.server_.reportStats(i),Tl(this.reportStats_.bind(this),Math.floor(Math.random()*2*xA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(fn||(fn={}));function Iy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Rh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Oh(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t,i,l){this.path=t,this.affectedTree=i,this.revert=l,this.type=fn.ACK_USER_WRITE,this.source=Iy()}operationForChild(t){if(Te(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Ye(t));return new xo(xe(),i,this.revert)}}else return G(ve(this.path)===t,"operationForChild called for unrelated child."),new xo(Pe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,i){this.source=t,this.path=i,this.type=fn.LISTEN_COMPLETE}operationForChild(t){return Te(this.path)?new Ul(this.source,xe()):new Ul(this.source,Pe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t,i,l){this.source=t,this.path=i,this.snap=l,this.type=fn.OVERWRITE}operationForChild(t){return Te(this.path)?new fs(this.source,xe(),this.snap.getImmediateChild(t)):new fs(this.source,Pe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t,i,l){this.source=t,this.path=i,this.children=l,this.type=fn.MERGE}operationForChild(t){if(Te(this.path)){const i=this.children.subtree(new Ye(t));return i.isEmpty()?null:i.value?new fs(this.source,xe(),i.value):new Ll(this.source,xe(),i)}else return G(ve(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ll(this.source,Pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t,i,l){this.node_=t,this.fullyInitialized_=i,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Te(t))return this.isFullyInitialized()&&!this.filtered_;const i=ve(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function IA(a,t,i,l){const o=[],c=[];return t.forEach(h=>{h.type==="child_changed"&&a.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(TA(h.childName,h.snapshotNode))}),yl(a,o,"child_removed",t,l,i),yl(a,o,"child_added",t,l,i),yl(a,o,"child_moved",c,l,i),yl(a,o,"child_changed",t,l,i),yl(a,o,"value",t,l,i),o}function yl(a,t,i,l,o,c){const h=l.filter(m=>m.type===i);h.sort((m,g)=>LA(a,m,g)),h.forEach(m=>{const g=UA(a,m,c);o.forEach(p=>{p.respondsTo(m.type)&&t.push(p.createEvent(g,a.query_))})})}function UA(a,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,a.index_)),t}function LA(a,t,i){if(t.childName==null||i.childName==null)throw ga("Should only compare child_ events.");const l=new ye(t.childName,t.snapshotNode),o=new ye(i.childName,i.snapshotNode);return a.index_.compare(l,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(a,t){return{eventCache:a,serverCache:t}}function Cl(a,t,i,l){return Ko(new hs(t,i,l),a.serverCache)}function Uy(a,t,i,l){return Ko(a.eventCache,new hs(t,i,l))}function Jf(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function ds(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf;const kA=()=>(kf||(kf=new Ut(EC)),kf);class Xe{constructor(t,i=kA()){this.value=t,this.children=i}static fromObject(t){let i=new Xe(null);return kt(t,(l,o)=>{i=i.set(new Ye(l),o)}),i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:xe(),value:this.value};if(Te(t))return null;{const l=ve(t),o=this.children.get(l);if(o!==null){const c=o.findRootMostMatchingPathAndValue(Pe(t),i);return c!=null?{path:ot(new Ye(l),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Te(t))return this;{const i=ve(t),l=this.children.get(i);return l!==null?l.subtree(Pe(t)):new Xe(null)}}set(t,i){if(Te(t))return new Xe(i,this.children);{const l=ve(t),c=(this.children.get(l)||new Xe(null)).set(Pe(t),i),h=this.children.insert(l,c);return new Xe(this.value,h)}}remove(t){if(Te(t))return this.children.isEmpty()?new Xe(null):new Xe(null,this.children);{const i=ve(t),l=this.children.get(i);if(l){const o=l.remove(Pe(t));let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),this.value===null&&c.isEmpty()?new Xe(null):new Xe(this.value,c)}else return this}}get(t){if(Te(t))return this.value;{const i=ve(t),l=this.children.get(i);return l?l.get(Pe(t)):null}}setTree(t,i){if(Te(t))return i;{const l=ve(t),c=(this.children.get(l)||new Xe(null)).setTree(Pe(t),i);let h;return c.isEmpty()?h=this.children.remove(l):h=this.children.insert(l,c),new Xe(this.value,h)}}fold(t){return this.fold_(xe(),t)}fold_(t,i){const l={};return this.children.inorderTraversal((o,c)=>{l[o]=c.fold_(ot(t,o),i)}),i(t,this.value,l)}findOnPath(t,i){return this.findOnPath_(t,xe(),i)}findOnPath_(t,i,l){const o=this.value?l(i,this.value):!1;if(o)return o;if(Te(t))return null;{const c=ve(t),h=this.children.get(c);return h?h.findOnPath_(Pe(t),ot(i,c),l):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,xe(),i)}foreachOnPath_(t,i,l){if(Te(t))return this;{this.value&&l(i,this.value);const o=ve(t),c=this.children.get(o);return c?c.foreachOnPath_(Pe(t),ot(i,o),l):new Xe(null)}}foreach(t){this.foreach_(xe(),t)}foreach_(t,i){this.children.inorderTraversal((l,o)=>{o.foreach_(ot(t,l),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,l)=>{l.value&&t(i,l.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.writeTree_=t}static empty(){return new hn(new Xe(null))}}function Al(a,t,i){if(Te(t))return new hn(new Xe(i));{const l=a.writeTree_.findRootMostValueAndPath(t);if(l!=null){const o=l.path;let c=l.value;const h=It(o,t);return c=c.updateChild(h,i),new hn(a.writeTree_.set(o,c))}else{const o=new Xe(i),c=a.writeTree_.setTree(t,o);return new hn(c)}}}function $_(a,t,i){let l=a;return kt(i,(o,c)=>{l=Al(l,ot(t,o),c)}),l}function ev(a,t){if(Te(t))return hn.empty();{const i=a.writeTree_.setTree(t,new Xe(null));return new hn(i)}}function $f(a,t){return gs(a,t)!=null}function gs(a,t){const i=a.writeTree_.findRootMostValueAndPath(t);return i!=null?a.writeTree_.get(i.path).getChild(It(i.path,t)):null}function tv(a){const t=[],i=a.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild($e,(l,o)=>{t.push(new ye(l,o))}):a.writeTree_.children.inorderTraversal((l,o)=>{o.value!=null&&t.push(new ye(l,o.value))}),t}function Ui(a,t){if(Te(t))return a;{const i=gs(a,t);return i!=null?new hn(new Xe(i)):new hn(a.writeTree_.subtree(t))}}function eh(a){return a.writeTree_.isEmpty()}function da(a,t){return Ly(xe(),a.writeTree_,t)}function Ly(a,t,i){if(t.value!=null)return i.updateChild(a,t.value);{let l=null;return t.children.inorderTraversal((o,c)=>{o===".priority"?(G(c.value!==null,"Priority writes must always be leaf nodes"),l=c.value):i=Ly(ot(a,o),c,i)}),!i.getChild(a).isEmpty()&&l!==null&&(i=i.updateChild(ot(a,".priority"),l)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(a,t){return jy(t,a)}function zA(a,t,i,l,o){G(l>a.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),a.allWrites.push({path:t,snap:i,writeId:l,visible:o}),o&&(a.visibleWrites=Al(a.visibleWrites,t,i)),a.lastWriteId=l}function HA(a,t){for(let i=0;i<a.allWrites.length;i++){const l=a.allWrites[i];if(l.writeId===t)return l}return null}function jA(a,t){const i=a.allWrites.findIndex(m=>m.writeId===t);G(i>=0,"removeWrite called with nonexistent writeId.");const l=a.allWrites[i];a.allWrites.splice(i,1);let o=l.visible,c=!1,h=a.allWrites.length-1;for(;o&&h>=0;){const m=a.allWrites[h];m.visible&&(h>=i&&BA(m,l.path)?o=!1:cn(l.path,m.path)&&(c=!0)),h--}if(o){if(c)return qA(a),!0;if(l.snap)a.visibleWrites=ev(a.visibleWrites,l.path);else{const m=l.children;kt(m,g=>{a.visibleWrites=ev(a.visibleWrites,ot(l.path,g))})}return!0}else return!1}function BA(a,t){if(a.snap)return cn(a.path,t);for(const i in a.children)if(a.children.hasOwnProperty(i)&&cn(ot(a.path,i),t))return!0;return!1}function qA(a){a.visibleWrites=ky(a.allWrites,GA,xe()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function GA(a){return a.visible}function ky(a,t,i){let l=hn.empty();for(let o=0;o<a.length;++o){const c=a[o];if(t(c)){const h=c.path;let m;if(c.snap)cn(i,h)?(m=It(i,h),l=Al(l,m,c.snap)):cn(h,i)&&(m=It(h,i),l=Al(l,xe(),c.snap.getChild(m)));else if(c.children){if(cn(i,h))m=It(i,h),l=$_(l,m,c.children);else if(cn(h,i))if(m=It(h,i),Te(m))l=$_(l,xe(),c.children);else{const g=ua(c.children,ve(m));if(g){const p=g.getChild(Pe(m));l=Al(l,xe(),p)}}}else throw ga("WriteRecord should have .snap or .children")}}return l}function zy(a,t,i,l,o){if(!l&&!o){const c=gs(a.visibleWrites,t);if(c!=null)return c;{const h=Ui(a.visibleWrites,t);if(eh(h))return i;if(i==null&&!$f(h,xe()))return null;{const m=i||re.EMPTY_NODE;return da(h,m)}}}else{const c=Ui(a.visibleWrites,t);if(!o&&eh(c))return i;if(!o&&i==null&&!$f(c,xe()))return null;{const h=function(p){return(p.visible||o)&&(!l||!~l.indexOf(p.writeId))&&(cn(p.path,t)||cn(t,p.path))},m=ky(a.allWrites,h,t),g=i||re.EMPTY_NODE;return da(m,g)}}}function VA(a,t,i){let l=re.EMPTY_NODE;const o=gs(a.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild($e,(c,h)=>{l=l.updateImmediateChild(c,h)}),l;if(i){const c=Ui(a.visibleWrites,t);return i.forEachChild($e,(h,m)=>{const g=da(Ui(c,new Ye(h)),m);l=l.updateImmediateChild(h,g)}),tv(c).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}else{const c=Ui(a.visibleWrites,t);return tv(c).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}}function YA(a,t,i,l,o){G(l||o,"Either existingEventSnap or existingServerSnap must exist");const c=ot(t,i);if($f(a.visibleWrites,c))return null;{const h=Ui(a.visibleWrites,c);return eh(h)?o.getChild(i):da(h,o.getChild(i))}}function PA(a,t,i,l){const o=ot(t,i),c=gs(a.visibleWrites,o);if(c!=null)return c;if(l.isCompleteForChild(i)){const h=Ui(a.visibleWrites,o);return da(h,l.getNode().getImmediateChild(i))}else return null}function FA(a,t){return gs(a.visibleWrites,t)}function QA(a,t,i,l,o,c,h){let m;const g=Ui(a.visibleWrites,t),p=gs(g,xe());if(p!=null)m=p;else if(i!=null)m=da(g,i);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const E=[],v=h.getCompare(),T=c?m.getReverseIteratorFrom(l,h):m.getIteratorFrom(l,h);let j=T.getNext();for(;j&&E.length<o;)v(j,l)!==0&&E.push(j),j=T.getNext();return E}else return[]}function KA(){return{visibleWrites:hn.empty(),allWrites:[],lastWriteId:-1}}function Do(a,t,i,l){return zy(a.writeTree,a.treePath,t,i,l)}function Dh(a,t){return VA(a.writeTree,a.treePath,t)}function nv(a,t,i,l){return YA(a.writeTree,a.treePath,t,i,l)}function Mo(a,t){return FA(a.writeTree,ot(a.treePath,t))}function XA(a,t,i,l,o,c){return QA(a.writeTree,a.treePath,t,i,l,o,c)}function Mh(a,t,i){return PA(a.writeTree,a.treePath,t,i)}function Hy(a,t){return jy(ot(a.treePath,t),a.writeTree)}function jy(a,t){return{treePath:a,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,l=t.childName;G(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),G(l!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(l);if(o){const c=o.type;if(i==="child_added"&&c==="child_removed")this.changeMap.set(l,Ml(l,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&c==="child_added")this.changeMap.delete(l);else if(i==="child_removed"&&c==="child_changed")this.changeMap.set(l,Dl(l,o.oldSnap));else if(i==="child_changed"&&c==="child_added")this.changeMap.set(l,ha(l,t.snapshotNode));else if(i==="child_changed"&&c==="child_changed")this.changeMap.set(l,Ml(l,t.snapshotNode,o.oldSnap));else throw ga("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(l,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{getCompleteChild(t){return null}getChildAfterChild(t,i,l){return null}}const By=new WA;class Ih{constructor(t,i,l=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=l}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const l=this.optCompleteServerCache_!=null?new hs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mh(this.writes_,t,l)}}getChildAfterChild(t,i,l){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ds(this.viewCache_),c=XA(this.writes_,o,i,1,l,t);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(a){return{filter:a}}function $A(a,t){G(t.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),G(t.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function eN(a,t,i,l,o){const c=new ZA;let h,m;if(i.type===fn.OVERWRITE){const p=i;p.source.fromUser?h=th(a,t,p.path,p.snap,l,o,c):(G(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered()&&!Te(p.path),h=Io(a,t,p.path,p.snap,l,o,m,c))}else if(i.type===fn.MERGE){const p=i;p.source.fromUser?h=nN(a,t,p.path,p.children,l,o,c):(G(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered(),h=nh(a,t,p.path,p.children,l,o,m,c))}else if(i.type===fn.ACK_USER_WRITE){const p=i;p.revert?h=aN(a,t,p.path,l,o,c):h=iN(a,t,p.path,p.affectedTree,l,o,c)}else if(i.type===fn.LISTEN_COMPLETE)h=sN(a,t,i.path,l,c);else throw ga("Unknown operation type: "+i.type);const g=c.getChanges();return tN(t,h,g),{viewCache:h,changes:g}}function tN(a,t,i){const l=t.eventCache;if(l.isFullyInitialized()){const o=l.getNode().isLeafNode()||l.getNode().isEmpty(),c=Jf(a);(i.length>0||!a.eventCache.isFullyInitialized()||o&&!l.getNode().equals(c)||!l.getNode().getPriority().equals(c.getPriority()))&&i.push(Dy(Jf(t)))}}function qy(a,t,i,l,o,c){const h=t.eventCache;if(Mo(l,i)!=null)return t;{let m,g;if(Te(i))if(G(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=ds(t),E=p instanceof re?p:re.EMPTY_NODE,v=Dh(l,E);m=a.filter.updateFullNode(t.eventCache.getNode(),v,c)}else{const p=Do(l,ds(t));m=a.filter.updateFullNode(t.eventCache.getNode(),p,c)}else{const p=ve(i);if(p===".priority"){G(Li(i)===1,"Can't have a priority with additional path components");const E=h.getNode();g=t.serverCache.getNode();const v=nv(l,i,E,g);v!=null?m=a.filter.updatePriority(E,v):m=h.getNode()}else{const E=Pe(i);let v;if(h.isCompleteForChild(p)){g=t.serverCache.getNode();const T=nv(l,i,h.getNode(),g);T!=null?v=h.getNode().getImmediateChild(p).updateChild(E,T):v=h.getNode().getImmediateChild(p)}else v=Mh(l,p,t.serverCache);v!=null?m=a.filter.updateChild(h.getNode(),p,v,E,o,c):m=h.getNode()}}return Cl(t,m,h.isFullyInitialized()||Te(i),a.filter.filtersNodes())}}function Io(a,t,i,l,o,c,h,m){const g=t.serverCache;let p;const E=h?a.filter:a.filter.getIndexedFilter();if(Te(i))p=E.updateFullNode(g.getNode(),l,null);else if(E.filtersNodes()&&!g.isFiltered()){const j=g.getNode().updateChild(i,l);p=E.updateFullNode(g.getNode(),j,null)}else{const j=ve(i);if(!g.isCompleteForPath(i)&&Li(i)>1)return t;const H=Pe(i),V=g.getNode().getImmediateChild(j).updateChild(H,l);j===".priority"?p=E.updatePriority(g.getNode(),V):p=E.updateChild(g.getNode(),j,V,H,By,null)}const v=Uy(t,p,g.isFullyInitialized()||Te(i),E.filtersNodes()),T=new Ih(o,v,c);return qy(a,v,i,o,T,m)}function th(a,t,i,l,o,c,h){const m=t.eventCache;let g,p;const E=new Ih(o,t,c);if(Te(i))p=a.filter.updateFullNode(t.eventCache.getNode(),l,h),g=Cl(t,p,!0,a.filter.filtersNodes());else{const v=ve(i);if(v===".priority")p=a.filter.updatePriority(t.eventCache.getNode(),l),g=Cl(t,p,m.isFullyInitialized(),m.isFiltered());else{const T=Pe(i),j=m.getNode().getImmediateChild(v);let H;if(Te(T))H=l;else{const L=E.getCompleteChild(v);L!=null?Sy(T)===".priority"&&L.getChild(Cy(T)).isEmpty()?H=L:H=L.updateChild(T,l):H=re.EMPTY_NODE}if(j.equals(H))g=t;else{const L=a.filter.updateChild(m.getNode(),v,H,T,E,h);g=Cl(t,L,m.isFullyInitialized(),a.filter.filtersNodes())}}}return g}function iv(a,t){return a.eventCache.isCompleteForChild(t)}function nN(a,t,i,l,o,c,h){let m=t;return l.foreach((g,p)=>{const E=ot(i,g);iv(t,ve(E))&&(m=th(a,m,E,p,o,c,h))}),l.foreach((g,p)=>{const E=ot(i,g);iv(t,ve(E))||(m=th(a,m,E,p,o,c,h))}),m}function sv(a,t,i){return i.foreach((l,o)=>{t=t.updateChild(l,o)}),t}function nh(a,t,i,l,o,c,h,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g=t,p;Te(i)?p=l:p=new Xe(null).setTree(i,l);const E=t.serverCache.getNode();return p.children.inorderTraversal((v,T)=>{if(E.hasChild(v)){const j=t.serverCache.getNode().getImmediateChild(v),H=sv(a,j,T);g=Io(a,g,new Ye(v),H,o,c,h,m)}}),p.children.inorderTraversal((v,T)=>{const j=!t.serverCache.isCompleteForChild(v)&&T.value===null;if(!E.hasChild(v)&&!j){const H=t.serverCache.getNode().getImmediateChild(v),L=sv(a,H,T);g=Io(a,g,new Ye(v),L,o,c,h,m)}}),g}function iN(a,t,i,l,o,c,h){if(Mo(o,i)!=null)return t;const m=t.serverCache.isFiltered(),g=t.serverCache;if(l.value!=null){if(Te(i)&&g.isFullyInitialized()||g.isCompleteForPath(i))return Io(a,t,i,g.getNode().getChild(i),o,c,m,h);if(Te(i)){let p=new Xe(null);return g.getNode().forEachChild(sa,(E,v)=>{p=p.set(new Ye(E),v)}),nh(a,t,i,p,o,c,m,h)}else return t}else{let p=new Xe(null);return l.foreach((E,v)=>{const T=ot(i,E);g.isCompleteForPath(T)&&(p=p.set(E,g.getNode().getChild(T)))}),nh(a,t,i,p,o,c,m,h)}}function sN(a,t,i,l,o){const c=t.serverCache,h=Uy(t,c.getNode(),c.isFullyInitialized()||Te(i),c.isFiltered());return qy(a,h,i,l,By,o)}function aN(a,t,i,l,o,c){let h;if(Mo(l,i)!=null)return t;{const m=new Ih(l,t,o),g=t.eventCache.getNode();let p;if(Te(i)||ve(i)===".priority"){let E;if(t.serverCache.isFullyInitialized())E=Do(l,ds(t));else{const v=t.serverCache.getNode();G(v instanceof re,"serverChildren would be complete if leaf node"),E=Dh(l,v)}E=E,p=a.filter.updateFullNode(g,E,c)}else{const E=ve(i);let v=Mh(l,E,t.serverCache);v==null&&t.serverCache.isCompleteForChild(E)&&(v=g.getImmediateChild(E)),v!=null?p=a.filter.updateChild(g,E,v,Pe(i),m,c):t.eventCache.getNode().hasChild(E)?p=a.filter.updateChild(g,E,re.EMPTY_NODE,Pe(i),m,c):p=g,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Do(l,ds(t)),h.isLeafNode()&&(p=a.filter.updateFullNode(p,h,c)))}return h=t.serverCache.isFullyInitialized()||Mo(l,xe())!=null,Cl(t,p,h,a.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const l=this.query_._queryParams,o=new Nh(l.getIndex()),c=AA(l);this.processor_=JA(c);const h=i.serverCache,m=i.eventCache,g=o.updateFullNode(re.EMPTY_NODE,h.getNode(),null),p=c.updateFullNode(re.EMPTY_NODE,m.getNode(),null),E=new hs(g,h.isFullyInitialized(),o.filtersNodes()),v=new hs(p,m.isFullyInitialized(),c.filtersNodes());this.viewCache_=Ko(v,E),this.eventGenerator_=new MA(this.query_)}get query(){return this.query_}}function rN(a){return a.viewCache_.serverCache.getNode()}function oN(a,t){const i=ds(a.viewCache_);return i&&(a.query._queryParams.loadsAllData()||!Te(t)&&!i.getImmediateChild(ve(t)).isEmpty())?i.getChild(t):null}function av(a){return a.eventRegistrations_.length===0}function uN(a,t){a.eventRegistrations_.push(t)}function lv(a,t,i){const l=[];if(i){G(t==null,"A cancel should cancel all event registrations.");const o=a.query._path;a.eventRegistrations_.forEach(c=>{const h=c.createCancelEvent(i,o);h&&l.push(h)})}if(t){let o=[];for(let c=0;c<a.eventRegistrations_.length;++c){const h=a.eventRegistrations_[c];if(!h.matches(t))o.push(h);else if(t.hasAnyCallback()){o=o.concat(a.eventRegistrations_.slice(c+1));break}}a.eventRegistrations_=o}else a.eventRegistrations_=[];return l}function rv(a,t,i,l){t.type===fn.MERGE&&t.source.queryId!==null&&(G(ds(a.viewCache_),"We should always have a full cache before handling merges"),G(Jf(a.viewCache_),"Missing event cache, even though we have a server cache"));const o=a.viewCache_,c=eN(a.processor_,o,t,i,l);return $A(a.processor_,c.viewCache),G(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=c.viewCache,Gy(a,c.changes,c.viewCache.eventCache.getNode(),null)}function cN(a,t){const i=a.viewCache_.eventCache,l=[];return i.getNode().isLeafNode()||i.getNode().forEachChild($e,(c,h)=>{l.push(ha(c,h))}),i.isFullyInitialized()&&l.push(Dy(i.getNode())),Gy(a,l,i.getNode(),t)}function Gy(a,t,i,l){const o=l?[l]:a.eventRegistrations_;return IA(a.eventGenerator_,t,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo;class fN{constructor(){this.views=new Map}}function hN(a){G(!Uo,"__referenceConstructor has already been defined"),Uo=a}function dN(){return G(Uo,"Reference.ts has not been loaded"),Uo}function mN(a){return a.views.size===0}function Uh(a,t,i,l){const o=t.source.queryId;if(o!==null){const c=a.views.get(o);return G(c!=null,"SyncTree gave us an op for an invalid query."),rv(c,t,i,l)}else{let c=[];for(const h of a.views.values())c=c.concat(rv(h,t,i,l));return c}}function gN(a,t,i,l,o){const c=t._queryIdentifier,h=a.views.get(c);if(!h){let m=Do(i,o?l:null),g=!1;m?g=!0:l instanceof re?(m=Dh(i,l),g=!1):(m=re.EMPTY_NODE,g=!1);const p=Ko(new hs(m,g,!1),new hs(l,o,!1));return new lN(t,p)}return h}function pN(a,t,i,l,o,c){const h=gN(a,t,l,o,c);return a.views.has(t._queryIdentifier)||a.views.set(t._queryIdentifier,h),uN(h,i),cN(h,i)}function _N(a,t,i,l){const o=t._queryIdentifier,c=[];let h=[];const m=ki(a);if(o==="default")for(const[g,p]of a.views.entries())h=h.concat(lv(p,i,l)),av(p)&&(a.views.delete(g),p.query._queryParams.loadsAllData()||c.push(p.query));else{const g=a.views.get(o);g&&(h=h.concat(lv(g,i,l)),av(g)&&(a.views.delete(o),g.query._queryParams.loadsAllData()||c.push(g.query)))}return m&&!ki(a)&&c.push(new(dN())(t._repo,t._path)),{removed:c,events:h}}function Vy(a){const t=[];for(const i of a.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function aa(a,t){let i=null;for(const l of a.views.values())i=i||oN(l,t);return i}function Yy(a,t){if(t._queryParams.loadsAllData())return Xo(a);{const l=t._queryIdentifier;return a.views.get(l)}}function Py(a,t){return Yy(a,t)!=null}function ki(a){return Xo(a)!=null}function Xo(a){for(const t of a.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo;function vN(a){G(!Lo,"__referenceConstructor has already been defined"),Lo=a}function yN(){return G(Lo,"Reference.ts has not been loaded"),Lo}let bN=1;class ov{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Xe(null),this.pendingWriteTree_=KA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Fy(a,t,i,l,o){return zA(a.pendingWriteTree_,t,i,l,o),o?Gl(a,new fs(Iy(),t,i)):[]}function ls(a,t,i=!1){const l=HA(a.pendingWriteTree_,t);if(jA(a.pendingWriteTree_,t)){let c=new Xe(null);return l.snap!=null?c=c.set(xe(),!0):kt(l.children,h=>{c=c.set(new Ye(h),!0)}),Gl(a,new xo(l.path,c,i))}else return[]}function Zo(a,t,i){return Gl(a,new fs(Rh(),t,i))}function EN(a,t,i){const l=Xe.fromObject(i);return Gl(a,new Ll(Rh(),t,l))}function SN(a,t){return Gl(a,new Ul(Rh(),t))}function TN(a,t,i){const l=kh(a,i);if(l){const o=zh(l),c=o.path,h=o.queryId,m=It(c,t),g=new Ul(Oh(h),m);return Hh(a,c,g)}else return[]}function ih(a,t,i,l,o=!1){const c=t._path,h=a.syncPointTree_.get(c);let m=[];if(h&&(t._queryIdentifier==="default"||Py(h,t))){const g=_N(h,t,i,l);mN(h)&&(a.syncPointTree_=a.syncPointTree_.remove(c));const p=g.removed;if(m=g.events,!o){const E=p.findIndex(T=>T._queryParams.loadsAllData())!==-1,v=a.syncPointTree_.findOnPath(c,(T,j)=>ki(j));if(E&&!v){const T=a.syncPointTree_.subtree(c);if(!T.isEmpty()){const j=NN(T);for(let H=0;H<j.length;++H){const L=j[H],V=L.query,X=Xy(a,L);a.listenProvider_.startListening(Nl(V),ko(a,V),X.hashFn,X.onComplete)}}}!v&&p.length>0&&!l&&(E?a.listenProvider_.stopListening(Nl(t),null):p.forEach(T=>{const j=a.queryToTagMap.get(Wo(T));a.listenProvider_.stopListening(Nl(T),j)}))}wN(a,p)}return m}function CN(a,t,i,l){const o=kh(a,l);if(o!=null){const c=zh(o),h=c.path,m=c.queryId,g=It(h,t),p=new fs(Oh(m),g,i);return Hh(a,h,p)}else return[]}function AN(a,t,i,l){const o=kh(a,l);if(o){const c=zh(o),h=c.path,m=c.queryId,g=It(h,t),p=Xe.fromObject(i),E=new Ll(Oh(m),g,p);return Hh(a,h,E)}else return[]}function uv(a,t,i,l=!1){const o=t._path;let c=null,h=!1;a.syncPointTree_.foreachOnPath(o,(T,j)=>{const H=It(T,o);c=c||aa(j,H),h=h||ki(j)});let m=a.syncPointTree_.get(o);m?(h=h||ki(m),c=c||aa(m,xe())):(m=new fN,a.syncPointTree_=a.syncPointTree_.set(o,m));let g;c!=null?g=!0:(g=!1,c=re.EMPTY_NODE,a.syncPointTree_.subtree(o).foreachChild((j,H)=>{const L=aa(H,xe());L&&(c=c.updateImmediateChild(j,L))}));const p=Py(m,t);if(!p&&!t._queryParams.loadsAllData()){const T=Wo(t);G(!a.queryToTagMap.has(T),"View does not exist, but we have a tag");const j=RN();a.queryToTagMap.set(T,j),a.tagToQueryMap.set(j,T)}const E=xh(a.pendingWriteTree_,o);let v=pN(m,t,i,E,c,g);if(!p&&!h&&!l){const T=Yy(m,t);v=v.concat(ON(a,t,T))}return v}function Lh(a,t,i){const o=a.pendingWriteTree_,c=a.syncPointTree_.findOnPath(t,(h,m)=>{const g=It(h,t),p=aa(m,g);if(p)return p});return zy(o,t,c,i,!0)}function Gl(a,t){return Qy(t,a.syncPointTree_,null,xh(a.pendingWriteTree_,xe()))}function Qy(a,t,i,l){if(Te(a.path))return Ky(a,t,i,l);{const o=t.get(xe());i==null&&o!=null&&(i=aa(o,xe()));let c=[];const h=ve(a.path),m=a.operationForChild(h),g=t.children.get(h);if(g&&m){const p=i?i.getImmediateChild(h):null,E=Hy(l,h);c=c.concat(Qy(m,g,p,E))}return o&&(c=c.concat(Uh(o,a,l,i))),c}}function Ky(a,t,i,l){const o=t.get(xe());i==null&&o!=null&&(i=aa(o,xe()));let c=[];return t.children.inorderTraversal((h,m)=>{const g=i?i.getImmediateChild(h):null,p=Hy(l,h),E=a.operationForChild(h);E&&(c=c.concat(Ky(E,m,g,p)))}),o&&(c=c.concat(Uh(o,a,l,i))),c}function Xy(a,t){const i=t.query,l=ko(a,i);return{hashFn:()=>(rN(t)||re.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return l?TN(a,i._path,l):SN(a,i._path);{const c=CC(o,i);return ih(a,i,null,c)}}}}function ko(a,t){const i=Wo(t);return a.queryToTagMap.get(i)}function Wo(a){return a._path.toString()+"$"+a._queryIdentifier}function kh(a,t){return a.tagToQueryMap.get(t)}function zh(a){const t=a.indexOf("$");return G(t!==-1&&t<a.length-1,"Bad queryKey."),{queryId:a.substr(t+1),path:new Ye(a.substr(0,t))}}function Hh(a,t,i){const l=a.syncPointTree_.get(t);G(l,"Missing sync point for query tag that we're tracking");const o=xh(a.pendingWriteTree_,t);return Uh(l,i,o,null)}function NN(a){return a.fold((t,i,l)=>{if(i&&ki(i))return[Xo(i)];{let o=[];return i&&(o=Vy(i)),kt(l,(c,h)=>{o=o.concat(h)}),o}})}function Nl(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(yN())(a._repo,a._path):a}function wN(a,t){for(let i=0;i<t.length;++i){const l=t[i];if(!l._queryParams.loadsAllData()){const o=Wo(l),c=a.queryToTagMap.get(o);a.queryToTagMap.delete(o),a.tagToQueryMap.delete(c)}}}function RN(){return bN++}function ON(a,t,i){const l=t._path,o=ko(a,t),c=Xy(a,i),h=a.listenProvider_.startListening(Nl(t),o,c.hashFn,c.onComplete),m=a.syncPointTree_.subtree(l);if(o)G(!ki(m.value),"If we're adding a query, it shouldn't be shadowed");else{const g=m.fold((p,E,v)=>{if(!Te(p)&&E&&ki(E))return[Xo(E).query];{let T=[];return E&&(T=T.concat(Vy(E).map(j=>j.query))),kt(v,(j,H)=>{T=T.concat(H)}),T}});for(let p=0;p<g.length;++p){const E=g[p];a.listenProvider_.stopListening(Nl(E),ko(a,E))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new jh(i)}node(){return this.node_}}class Bh{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=ot(this.path_,t);return new Bh(this.syncTree_,i)}node(){return Lh(this.syncTree_,this.path_)}}const xN=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},cv=function(a,t,i){if(!a||typeof a!="object")return a;if(G(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return DN(a[".sv"],t,i);if(typeof a[".sv"]=="object")return MN(a[".sv"],t);G(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},DN=function(a,t,i){switch(a){case"timestamp":return i.timestamp;default:G(!1,"Unexpected server value: "+a)}},MN=function(a,t,i){a.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const l=a.increment;typeof l!="number"&&G(!1,"Unexpected increment value: "+l);const o=t.node();if(G(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return l;const h=o.getValue();return typeof h!="number"?l:h+l},IN=function(a,t,i,l){return qh(t,new Bh(i,a),l)},Zy=function(a,t,i){return qh(a,new jh(t),i)};function qh(a,t,i){const l=a.getPriority().val(),o=cv(l,t.getImmediateChild(".priority"),i);let c;if(a.isLeafNode()){const h=a,m=cv(h.getValue(),t,i);return m!==h.getValue()||o!==h.getPriority().val()?new ft(m,yt(o)):a}else{const h=a;return c=h,o!==h.getPriority().val()&&(c=c.updatePriority(new ft(o))),h.forEachChild($e,(m,g)=>{const p=qh(g,t.getImmediateChild(m),i);p!==g&&(c=c.updateImmediateChild(m,p))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t="",i=null,l={children:{},childCount:0}){this.name=t,this.parent=i,this.node=l}}function Vh(a,t){let i=t instanceof Ye?t:new Ye(t),l=a,o=ve(i);for(;o!==null;){const c=ua(l.node.children,o)||{children:{},childCount:0};l=new Gh(o,l,c),i=Pe(i),o=ve(i)}return l}function ba(a){return a.node.value}function Wy(a,t){a.node.value=t,sh(a)}function Jy(a){return a.node.childCount>0}function UN(a){return ba(a)===void 0&&!Jy(a)}function Jo(a,t){kt(a.node.children,(i,l)=>{t(new Gh(i,a,l))})}function $y(a,t,i,l){i&&t(a),Jo(a,o=>{$y(o,t,!0)})}function LN(a,t,i){let l=a.parent;for(;l!==null;){if(t(l))return!0;l=l.parent}return!1}function Vl(a){return new Ye(a.parent===null?a.name:Vl(a.parent)+"/"+a.name)}function sh(a){a.parent!==null&&kN(a.parent,a.name,a)}function kN(a,t,i){const l=UN(i),o=Zn(a.node.children,t);l&&o?(delete a.node.children[t],a.node.childCount--,sh(a)):!l&&!o&&(a.node.children[t]=i.node,a.node.childCount++,sh(a))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=/[\[\].#$\/\u0000-\u001F\u007F]/,HN=/[\[\].#$\u0000-\u001F\u007F]/,zf=10*1024*1024,e0=function(a){return typeof a=="string"&&a.length!==0&&!zN.test(a)},t0=function(a){return typeof a=="string"&&a.length!==0&&!HN.test(a)},jN=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),t0(a)},n0=function(a,t,i,l){l&&t===void 0||Yh(gh(a,"value"),t,i)},Yh=function(a,t,i){const l=i instanceof Ye?new iA(i,a):i;if(t===void 0)throw new Error(a+"contains undefined "+ss(l));if(typeof t=="function")throw new Error(a+"contains a function "+ss(l)+" with contents = "+t.toString());if(ty(t))throw new Error(a+"contains "+t.toString()+" "+ss(l));if(typeof t=="string"&&t.length>zf/3&&Fo(t)>zf)throw new Error(a+"contains a string greater than "+zf+" utf8 bytes "+ss(l)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,c=!1;if(kt(t,(h,m)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(c=!0,!e0(h)))throw new Error(a+" contains an invalid key ("+h+") "+ss(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);sA(l,h),Yh(a,m,l),aA(l)}),o&&c)throw new Error(a+' contains ".value" child '+ss(l)+" in addition to actual children.")}},i0=function(a,t,i,l){if(!t0(i))throw new Error(gh(a,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},BN=function(a,t,i,l){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),i0(a,t,i)},Ph=function(a,t){if(ve(t)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},qN=function(a,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!e0(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!jN(i))throw new Error(gh(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Fh(a,t){let i=null;for(let l=0;l<t.length;l++){const o=t[l],c=o.getPath();i!==null&&!Th(c,i.path)&&(a.eventLists_.push(i),i=null),i===null&&(i={events:[],path:c}),i.events.push(o)}i&&a.eventLists_.push(i)}function s0(a,t,i){Fh(a,i),a0(a,l=>Th(l,t))}function Qn(a,t,i){Fh(a,i),a0(a,l=>cn(l,t)||cn(t,l))}function a0(a,t){a.recursionDepth_++;let i=!0;for(let l=0;l<a.eventLists_.length;l++){const o=a.eventLists_[l];if(o){const c=o.path;t(c)?(VN(a.eventLists_[l]),a.eventLists_[l]=null):i=!1}}i&&(a.eventLists_=[]),a.recursionDepth_--}function VN(a){for(let t=0;t<a.events.length;t++){const i=a.events[t];if(i!==null){a.events[t]=null;const l=i.getEventRunner();Sl&&Et("event: "+i.toString()),ya(l)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="repo_interrupt",PN=25;class FN{constructor(t,i,l,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=l,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new GN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Oo(),this.transactionQueueTree_=new Gh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function QN(a,t,i){if(a.stats_=Eh(a.repoInfo_),a.forceRestClient_||RC())a.server_=new Ro(a.repoInfo_,(l,o,c,h)=>{fv(a,l,o,c,h)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>hv(a,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{dt(i)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}a.persistentConnection_=new Pn(a.repoInfo_,t,(l,o,c,h)=>{fv(a,l,o,c,h)},l=>{hv(a,l)},l=>{KN(a,l)},a.authTokenProvider_,a.appCheckProvider_,i),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(l=>{a.server_.refreshAuthToken(l)}),a.appCheckProvider_.addTokenChangeListener(l=>{a.server_.refreshAppCheckToken(l.token)}),a.statsReporter_=IC(a.repoInfo_,()=>new DA(a.stats_,a.server_)),a.infoData_=new NA,a.infoSyncTree_=new ov({startListening:(l,o,c,h)=>{let m=[];const g=a.infoData_.getNode(l._path);return g.isEmpty()||(m=Zo(a.infoSyncTree_,l._path,g),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),Kh(a,"connected",!1),a.serverSyncTree_=new ov({startListening:(l,o,c,h)=>(a.server_.listen(l,c,o,(m,g)=>{const p=h(m,g);Qn(a.eventQueue_,l._path,p)}),[]),stopListening:(l,o)=>{a.server_.unlisten(l,o)}})}function l0(a){const i=a.infoData_.getNode(new Ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Qh(a){return xN({timestamp:l0(a)})}function fv(a,t,i,l,o){a.dataUpdateCount++;const c=new Ye(t);i=a.interceptServerDataCallback_?a.interceptServerDataCallback_(t,i):i;let h=[];if(o)if(l){const g=So(i,p=>yt(p));h=AN(a.serverSyncTree_,c,g,o)}else{const g=yt(i);h=CN(a.serverSyncTree_,c,g,o)}else if(l){const g=So(i,p=>yt(p));h=EN(a.serverSyncTree_,c,g)}else{const g=yt(i);h=Zo(a.serverSyncTree_,c,g)}let m=c;h.length>0&&(m=$o(a,c)),Qn(a.eventQueue_,m,h)}function hv(a,t){Kh(a,"connected",t),t===!1&&ZN(a)}function KN(a,t){kt(t,(i,l)=>{Kh(a,i,l)})}function Kh(a,t,i){const l=new Ye("/.info/"+t),o=yt(i);a.infoData_.updateSnapshot(l,o);const c=Zo(a.infoSyncTree_,l,o);Qn(a.eventQueue_,l,c)}function r0(a){return a.nextWriteId_++}function XN(a,t,i,l,o){Xh(a,"set",{path:t.toString(),value:i,priority:l});const c=Qh(a),h=yt(i,l),m=Lh(a.serverSyncTree_,t),g=Zy(h,m,c),p=r0(a),E=Fy(a.serverSyncTree_,t,g,p,!0);Fh(a.eventQueue_,E),a.server_.put(t.toString(),h.val(!0),(T,j)=>{const H=T==="ok";H||Lt("set at "+t+" failed: "+T);const L=ls(a.serverSyncTree_,p,!H);Qn(a.eventQueue_,t,L),$N(a,o,T,j)});const v=h0(a,t);$o(a,v),Qn(a.eventQueue_,v,[])}function ZN(a){Xh(a,"onDisconnectEvents");const t=Qh(a),i=Oo();Wf(a.onDisconnect_,xe(),(o,c)=>{const h=IN(o,c,a.serverSyncTree_,t);My(i,o,h)});let l=[];Wf(i,xe(),(o,c)=>{l=l.concat(Zo(a.serverSyncTree_,o,c));const h=h0(a,o);$o(a,h)}),a.onDisconnect_=Oo(),Qn(a.eventQueue_,xe(),l)}function WN(a,t,i){let l;ve(t._path)===".info"?l=uv(a.infoSyncTree_,t,i):l=uv(a.serverSyncTree_,t,i),s0(a.eventQueue_,t._path,l)}function ah(a,t,i){let l;ve(t._path)===".info"?l=ih(a.infoSyncTree_,t,i):l=ih(a.serverSyncTree_,t,i),s0(a.eventQueue_,t._path,l)}function JN(a){a.persistentConnection_&&a.persistentConnection_.interrupt(YN)}function Xh(a,...t){let i="";a.persistentConnection_&&(i=a.persistentConnection_.id+":"),Et(i,...t)}function $N(a,t,i,l){t&&ya(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let c=o;l&&(c+=": "+l);const h=new Error(c);h.code=o,t(h)}})}function o0(a,t,i){return Lh(a.serverSyncTree_,t,i)||re.EMPTY_NODE}function Zh(a,t=a.transactionQueueTree_){if(t||eu(a,t),ba(t)){const i=c0(a,t);G(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&e1(a,Vl(t),i)}else Jy(t)&&Jo(t,i=>{Zh(a,i)})}function e1(a,t,i){const l=i.map(p=>p.currentWriteId),o=o0(a,t,l);let c=o;const h=o.hash();for(let p=0;p<i.length;p++){const E=i[p];G(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const v=It(t,E.path);c=c.updateChild(v,E.currentOutputSnapshotRaw)}const m=c.val(!0),g=t;a.server_.put(g.toString(),m,p=>{Xh(a,"transaction put response",{path:g.toString(),status:p});let E=[];if(p==="ok"){const v=[];for(let T=0;T<i.length;T++)i[T].status=2,E=E.concat(ls(a.serverSyncTree_,i[T].currentWriteId)),i[T].onComplete&&v.push(()=>i[T].onComplete(null,!0,i[T].currentOutputSnapshotResolved)),i[T].unwatcher();eu(a,Vh(a.transactionQueueTree_,t)),Zh(a,a.transactionQueueTree_),Qn(a.eventQueue_,t,E);for(let T=0;T<v.length;T++)ya(v[T])}else{if(p==="datastale")for(let v=0;v<i.length;v++)i[v].status===3?i[v].status=4:i[v].status=0;else{Lt("transaction at "+g.toString()+" failed: "+p);for(let v=0;v<i.length;v++)i[v].status=4,i[v].abortReason=p}$o(a,t)}},h)}function $o(a,t){const i=u0(a,t),l=Vl(i),o=c0(a,i);return t1(a,o,l),l}function t1(a,t,i){if(t.length===0)return;const l=[];let o=[];const h=t.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const g=t[m],p=It(i,g.path);let E=!1,v;if(G(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)E=!0,v=g.abortReason,o=o.concat(ls(a.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=PN)E=!0,v="maxretry",o=o.concat(ls(a.serverSyncTree_,g.currentWriteId,!0));else{const T=o0(a,g.path,h);g.currentInputSnapshot=T;const j=t[m].update(T.val());if(j!==void 0){Yh("transaction failed: Data returned ",j,g.path);let H=yt(j);typeof j=="object"&&j!=null&&Zn(j,".priority")||(H=H.updatePriority(T.getPriority()));const V=g.currentWriteId,X=Qh(a),pe=Zy(H,T,X);g.currentOutputSnapshotRaw=H,g.currentOutputSnapshotResolved=pe,g.currentWriteId=r0(a),h.splice(h.indexOf(V),1),o=o.concat(Fy(a.serverSyncTree_,g.path,pe,g.currentWriteId,g.applyLocally)),o=o.concat(ls(a.serverSyncTree_,V,!0))}else E=!0,v="nodata",o=o.concat(ls(a.serverSyncTree_,g.currentWriteId,!0))}Qn(a.eventQueue_,i,o),o=[],E&&(t[m].status=2,(function(T){setTimeout(T,Math.floor(0))})(t[m].unwatcher),t[m].onComplete&&(v==="nodata"?l.push(()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot)):l.push(()=>t[m].onComplete(new Error(v),!1,null))))}eu(a,a.transactionQueueTree_);for(let m=0;m<l.length;m++)ya(l[m]);Zh(a,a.transactionQueueTree_)}function u0(a,t){let i,l=a.transactionQueueTree_;for(i=ve(t);i!==null&&ba(l)===void 0;)l=Vh(l,i),t=Pe(t),i=ve(t);return l}function c0(a,t){const i=[];return f0(a,t,i),i.sort((l,o)=>l.order-o.order),i}function f0(a,t,i){const l=ba(t);if(l)for(let o=0;o<l.length;o++)i.push(l[o]);Jo(t,o=>{f0(a,o,i)})}function eu(a,t){const i=ba(t);if(i){let l=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[l]=i[o],l++);i.length=l,Wy(t,i.length>0?i:void 0)}Jo(t,l=>{eu(a,l)})}function h0(a,t){const i=Vl(u0(a,t)),l=Vh(a.transactionQueueTree_,t);return LN(l,o=>{Hf(a,o)}),Hf(a,l),$y(l,o=>{Hf(a,o)}),i}function Hf(a,t){const i=ba(t);if(i){const l=[];let o=[],c=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(G(c===h-1,"All SENT items should be at beginning of queue."),c=h,i[h].status=3,i[h].abortReason="set"):(G(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(ls(a.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&l.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));c===-1?Wy(t,void 0):i.length=c+1,Qn(a.eventQueue_,Vl(t),o);for(let h=0;h<l.length;h++)ya(l[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(a){let t="";const i=a.split("/");for(let l=0;l<i.length;l++)if(i[l].length>0){let o=i[l];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function i1(a){const t={};a.charAt(0)==="?"&&(a=a.substring(1));for(const i of a.split("&")){if(i.length===0)continue;const l=i.split("=");l.length===2?t[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Lt(`Invalid query segment '${i}' in query '${a}'`)}return t}const dv=function(a,t){const i=s1(a),l=i.namespace;i.domain==="firebase.com"&&Fn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&i.domain!=="localhost"&&Fn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||yC();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new dy(i.host,i.secure,l,o,t,"",l!==i.subdomain),path:new Ye(i.pathString)}},s1=function(a){let t="",i="",l="",o="",c="",h=!0,m="https",g=443;if(typeof a=="string"){let p=a.indexOf("//");p>=0&&(m=a.substring(0,p-1),a=a.substring(p+2));let E=a.indexOf("/");E===-1&&(E=a.length);let v=a.indexOf("?");v===-1&&(v=a.length),t=a.substring(0,Math.min(E,v)),E<v&&(o=n1(a.substring(E,v)));const T=i1(a.substring(Math.min(a.length,v)));p=t.indexOf(":"),p>=0?(h=m==="https"||m==="wss",g=parseInt(t.substring(p+1),10)):p=t.length;const j=t.slice(0,p);if(j.toLowerCase()==="localhost")i="localhost";else if(j.split(".").length<=2)i=j;else{const H=t.indexOf(".");l=t.substring(0,H).toLowerCase(),i=t.substring(H+1),c=l}"ns"in T&&(c=T.ns)}return{host:t,port:g,domain:i,subdomain:l,secure:h,scheme:m,pathString:o,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",a1=(function(){let a=0;const t=[];return function(i){const l=i===a;a=i;let o;const c=new Array(8);for(o=7;o>=0;o--)c[o]=mv.charAt(i%64),i=Math.floor(i/64);G(i===0,"Cannot push at time == 0");let h=c.join("");if(l){for(o=11;o>=0&&t[o]===63;o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)h+=mv.charAt(t[o]);return G(h.length===20,"nextPushId: Length should be 20."),h}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t,i,l,o){this.eventType=t,this.eventRegistration=i,this.snapshot=l,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+dt(this.snapshot.exportVal())}}class r1{constructor(t,i,l){this.eventRegistration=t,this.error=i,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t,i,l,o){this._repo=t,this._path=i,this._queryParams=l,this._orderByCalled=o}get key(){return Te(this._path)?null:Sy(this._path)}get ref(){return new Hi(this._repo,this._path)}get _queryIdentifier(){const t=W_(this._queryParams),i=yh(t);return i==="{}"?"default":i}get _queryObject(){return W_(this._queryParams)}isEqual(t){if(t=zt(t),!(t instanceof Wh))return!1;const i=this._repo===t._repo,l=Th(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&l&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+nA(this._path)}}class Hi extends Wh{constructor(t,i){super(t,i,new wh,!1)}get parent(){const t=Cy(this._path);return t===null?null:new Hi(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class zo{constructor(t,i,l){this._node=t,this.ref=i,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Ye(t),l=kl(this.ref,t);return new zo(this._node.getChild(i),l,$e)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(l,o)=>t(new zo(o,kl(this.ref,l),$e)))}hasChild(t){const i=new Ye(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function bl(a,t){return a=zt(a),a._checkNotDeleted("ref"),t!==void 0?kl(a._root,t):a._root}function kl(a,t){return a=zt(a),ve(a._path)===null?BN("child","path",t):i0("child","path",t),new Hi(a._repo,ot(a._path,t))}function u1(a,t){a=zt(a),Ph("push",a._path),n0("push",t,a._path,!0);const i=l0(a._repo),l=a1(i),o=kl(a,l),c=kl(a,l);let h;return t!=null?h=Jh(c,t).then(()=>c):h=Promise.resolve(c),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function c1(a){return Ph("remove",a._path),Jh(a,null)}function Jh(a,t){a=zt(a),Ph("set",a._path),n0("set",t,a._path,!1);const i=new Po;return XN(a._repo,a._path,t,null,i.wrapCallback(()=>{})),i.promise}class $h{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const l=i._queryParams.getIndex();return new l1("value",this,new zo(t.snapshotNode,new Hi(i._repo,i._path),l))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new r1(this,t,i):null}matches(t){return t instanceof $h?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function f1(a,t,i,l,o){let c;if(typeof l=="object"&&(c=void 0,o=l),typeof l=="function"&&(c=l),o&&o.onlyOnce){const g=i,p=(E,v)=>{ah(a._repo,a,m),g(E,v)};p.userCallback=i.userCallback,p.context=i.context,i=p}const h=new o1(i,c||void 0),m=new $h(h);return WN(a._repo,a,m),()=>ah(a._repo,a,m)}function h1(a,t,i,l){return f1(a,"value",t,i,l)}function gv(a,t,i){ah(a._repo,a,null)}hN(Hi);vN(Hi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="FIREBASE_DATABASE_EMULATOR_HOST",lh={};let m1=!1;function g1(a,t,i,l){a.repoInfo_=new dy(`${t}:${i}`,!1,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0),l&&(a.authTokenProvider_=l)}function p1(a,t,i,l,o){let c=l||a.options.databaseURL;c===void 0&&(a.options.projectId||Fn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Et("Using default host for project ",a.options.projectId),c=`${a.options.projectId}-default-rtdb.firebaseio.com`);let h=dv(c,o),m=h.repoInfo,g;typeof process<"u"&&I_&&(g=I_[d1]),g?(c=`http://${g}?ns=${m.namespace}`,h=dv(c,o),m=h.repoInfo):h.repoInfo.secure;const p=new xC(a.name,a.options,t);qN("Invalid Firebase Database URL",h),Te(h.path)||Fn("Database URL must point to the root of a Firebase Database (not including a child path).");const E=v1(m,a,p,new OC(a.name,i));return new y1(E,a)}function _1(a,t){const i=lh[t];(!i||i[a.key]!==a)&&Fn(`Database ${t}(${a.repoInfo_}) has already been deleted.`),JN(a),delete i[a.key]}function v1(a,t,i,l){let o=lh[t.name];o||(o={},lh[t.name]=o);let c=o[a.toURLString()];return c&&Fn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new FN(a,m1,i,l),o[a.toURLString()]=c,c}class y1{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(QN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hi(this._repo,xe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Fn("Cannot call "+t+" on a deleted database.")}}function El(a=Xv(),t){const i=vh(a,"database").getImmediate({identifier:t});if(!i._instanceStarted){const l=YS("database");l&&b1(i,...l)}return i}function b1(a,t,i,l={}){a=zt(a),a._checkNotDeleted("useEmulator"),a._instanceStarted&&Fn("Cannot call useEmulator() after instance has already been initialized.");const o=a._repoInternal;let c;if(o.repoInfo_.nodeAdmin)l.mockUserToken&&Fn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new go(go.OWNER);else if(l.mockUserToken){const h=typeof l.mockUserToken=="string"?l.mockUserToken:PS(l.mockUserToken,a.app.options.projectId);c=new go(h)}g1(o,t,i,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(a){dC(_a),ca(new os("database",(t,{instanceIdentifier:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return p1(l,o,c,i)},"PUBLIC").setMultipleInstances(!0)),Ii(U_,L_,a),Ii(U_,L_,"esm2017")}Pn.prototype.simpleListen=function(a,t){this.sendRequest("q",{p:a},t)};Pn.prototype.echo=function(a,t){this.sendRequest("echo",{d:a},t)};E1();function ed(a,t){var i={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&t.indexOf(l)<0&&(i[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(a);o<l.length;o++)t.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(a,l[o])&&(i[l[o]]=a[l[o]]);return i}function d0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S1=d0,m0=new Hl("auth","Firebase",d0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new ph("@firebase/auth");function T1(a,...t){Ho.logLevel<=qe.WARN&&Ho.warn(`Auth (${_a}): ${a}`,...t)}function po(a,...t){Ho.logLevel<=qe.ERROR&&Ho.error(`Auth (${_a}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(a,...t){throw td(a,...t)}function yn(a,...t){return td(a,...t)}function g0(a,t,i){const l=Object.assign(Object.assign({},S1()),{[t]:i});return new Hl("auth","Firebase",l).create(t,{appName:a.name})}function rs(a){return g0(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function td(a,...t){if(typeof a!="string"){const i=t[0],l=[...t.slice(1)];return l[0]&&(l[0].appName=a.name),a._errorFactory.create(i,...l)}return m0.create(a,...t)}function oe(a,t,...i){if(!a)throw td(t,...i)}function Gn(a){const t="INTERNAL ASSERTION FAILED: "+a;throw po(t),new Error(t)}function Xn(a,t){a||Gn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.href)||""}function C1(){return pv()==="http:"||pv()==="https:"}function pv(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C1()||FS()||"connection"in navigator)?navigator.onLine:!0}function N1(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Xn(i>t,"Short delay should be less than long delay!"),this.isMobile=mh()||Yv()}get(){return A1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(a,t){Xn(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{static initialize(t,i,l){this.fetchImpl=t,i&&(this.headersImpl=i),l&&(this.responseImpl=l)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=new Yl(3e4,6e4);function id(a,t){return a.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:a.tenantId}):t}async function Ea(a,t,i,l,o={}){return _0(a,o,async()=>{let c={},h={};l&&(t==="GET"?h=l:c={body:JSON.stringify(l)});const m=pa(Object.assign({key:a.config.apiKey},h)).slice(1),g=await a._getAdditionalHeaders();return g["Content-Type"]="application/json",a.languageCode&&(g["X-Firebase-Locale"]=a.languageCode),p0.fetch()(v0(a,a.config.apiHost,i,m),Object.assign({method:t,headers:g,referrerPolicy:"no-referrer"},c))})}async function _0(a,t,i){a._canInitEmulator=!1;const l=Object.assign(Object.assign({},w1),t);try{const o=new x1(a),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw ho(a,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ho(a,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw ho(a,"email-already-in-use",h);if(g==="USER_DISABLED")throw ho(a,"user-disabled",h);const E=l[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw g0(a,E,p);Kn(a,E)}}catch(o){if(o instanceof zi)throw o;Kn(a,"network-request-failed",{message:String(o)})}}async function O1(a,t,i,l,o={}){const c=await Ea(a,t,i,l,o);return"mfaPendingCredential"in c&&Kn(a,"multi-factor-auth-required",{_serverResponse:c}),c}function v0(a,t,i,l){const o=`${t}${i}?${l}`;return a.config.emulator?nd(a.config,o):`${a.config.apiScheme}://${o}`}class x1{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,l)=>{this.timer=setTimeout(()=>l(yn(this.auth,"network-request-failed")),R1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ho(a,t,i){const l={appName:a.name};i.email&&(l.email=i.email),i.phoneNumber&&(l.phoneNumber=i.phoneNumber);const o=yn(a,t,l);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(a,t){return Ea(a,"POST","/v1/accounts:delete",t)}async function y0(a,t){return Ea(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function M1(a,t=!1){const i=zt(a),l=await i.getIdToken(t),o=sd(l);oe(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:o,token:l,authTime:wl(jf(o.auth_time)),issuedAtTime:wl(jf(o.iat)),expirationTime:wl(jf(o.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function jf(a){return Number(a)*1e3}function sd(a){const[t,i,l]=a.split(".");if(t===void 0||i===void 0||l===void 0)return po("JWT malformed, contained fewer than 3 sections"),null;try{const o=Eo(i);return o?JSON.parse(o):(po("Failed to decode base64 JWT payload"),null)}catch(o){return po("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function _v(a){const t=sd(a);return oe(t,"internal-error"),oe(typeof t.exp<"u","internal-error"),oe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(a,t,i=!1){if(i)return t;try{return await t}catch(l){throw l instanceof zi&&I1(l)&&a.auth.currentUser===a&&await a.auth.signOut(),l}}function I1({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const l=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),l}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(a){var t;const i=a.auth,l=await a.getIdToken(),o=await zl(a,y0(i,{idToken:l}));oe(o==null?void 0:o.users.length,i,"internal-error");const c=o.users[0];a._notifyReloadListener(c);const h=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?b0(c.providerUserInfo):[],m=k1(a.providerData,h),g=a.isAnonymous,p=!(a.email&&c.passwordHash)&&!(m!=null&&m.length),E=g?p:!1,v={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new oh(c.createdAt,c.lastLoginAt),isAnonymous:E};Object.assign(a,v)}async function L1(a){const t=zt(a);await jo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function k1(a,t){return[...a.filter(l=>!t.some(o=>o.providerId===l.providerId)),...t]}function b0(a){return a.map(t=>{var{providerId:i}=t,l=ed(t,["providerId"]);return{providerId:i,uid:l.rawId||"",displayName:l.displayName||null,email:l.email||null,phoneNumber:l.phoneNumber||null,photoURL:l.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(a,t){const i=await _0(a,{},async()=>{const l=pa({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=a.config,h=v0(a,o,"/v1/token",`key=${c}`),m=await a._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",p0.fetch()(h,{method:"POST",headers:m,body:l})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function H1(a,t){return Ea(a,"POST","/v2/accounts:revokeToken",id(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){oe(t.idToken,"internal-error"),oe(typeof t.idToken<"u","internal-error"),oe(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_v(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){oe(t.length!==0,"internal-error");const i=_v(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:l,refreshToken:o,expiresIn:c}=await z1(t,i);this.updateTokensAndExpiration(l,o,Number(c))}updateTokensAndExpiration(t,i,l){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+l*1e3}static fromJSON(t,i){const{refreshToken:l,accessToken:o,expirationTime:c}=i,h=new la;return l&&(oe(typeof l=="string","internal-error",{appName:t}),h.refreshToken=l),o&&(oe(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),c&&(oe(typeof c=="number","internal-error",{appName:t}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new la,this.toJSON())}_performRefresh(){return Gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(a,t){oe(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Vn{constructor(t){var{uid:i,auth:l,stsTokenManager:o}=t,c=ed(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new U1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=l,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new oh(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await zl(this,this.stsTokenManager.getToken(this.auth,t));return oe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return M1(this,t)}reload(){return L1(this)}_assign(t){this!==t&&(oe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Vn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let l=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),l=!0),i&&await jo(this),await this.auth._persistUserIfCurrent(this),l&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xi(this.auth.app))return Promise.reject(rs(this.auth));const t=await this.getIdToken();return await zl(this,D1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var l,o,c,h,m,g,p,E;const v=(l=i.displayName)!==null&&l!==void 0?l:void 0,T=(o=i.email)!==null&&o!==void 0?o:void 0,j=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,H=(h=i.photoURL)!==null&&h!==void 0?h:void 0,L=(m=i.tenantId)!==null&&m!==void 0?m:void 0,V=(g=i._redirectEventId)!==null&&g!==void 0?g:void 0,X=(p=i.createdAt)!==null&&p!==void 0?p:void 0,pe=(E=i.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:se,emailVerified:ee,isAnonymous:ke,providerData:be,stsTokenManager:le}=i;oe(se&&le,t,"internal-error");const ze=la.fromJSON(this.name,le);oe(typeof se=="string",t,"internal-error"),Ti(v,t.name),Ti(T,t.name),oe(typeof ee=="boolean",t,"internal-error"),oe(typeof ke=="boolean",t,"internal-error"),Ti(j,t.name),Ti(H,t.name),Ti(L,t.name),Ti(V,t.name),Ti(X,t.name),Ti(pe,t.name);const Fe=new Vn({uid:se,auth:t,email:T,emailVerified:ee,displayName:v,isAnonymous:ke,photoURL:H,phoneNumber:j,tenantId:L,stsTokenManager:ze,createdAt:X,lastLoginAt:pe});return be&&Array.isArray(be)&&(Fe.providerData=be.map(Ge=>Object.assign({},Ge))),V&&(Fe._redirectEventId=V),Fe}static async _fromIdTokenResponse(t,i,l=!1){const o=new la;o.updateFromServerResponse(i);const c=new Vn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:l});return await jo(c),c}static async _fromGetAccountInfoResponse(t,i,l){const o=i.users[0];oe(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?b0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),m=new la;m.updateFromIdToken(l);const g=new Vn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new oh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=new Map;function Yn(a){Xn(a instanceof Function,"Expected a class definition");let t=vv.get(a);return t?(Xn(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,vv.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}E0.type="NONE";const yv=E0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(a,t,i){return`firebase:${a}:${t}:${i}`}class ra{constructor(t,i,l){this.persistence=t,this.auth=i,this.userKey=l;const{config:o,name:c}=this.auth;this.fullUserKey=_o(this.userKey,o.apiKey,c),this.fullPersistenceKey=_o("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Vn._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,l="authUser"){if(!i.length)return new ra(Yn(yv),t,l);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||Yn(yv);const h=_o(l,t.config.apiKey,t.name);let m=null;for(const p of i)try{const E=await p._get(h);if(E){const v=Vn._fromJSON(t,E);p!==c&&(m=v),c=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new ra(c,t,l):(c=g[0],m&&await c._set(h,m.toJSON()),await Promise.all(i.map(async p=>{if(p!==c)try{await p._remove(h)}catch{}})),new ra(c,t,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(C0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(S0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(N0(t))return"Blackberry";if(w0(t))return"Webos";if(ad(t))return"Safari";if((t.includes("chrome/")||T0(t))&&!t.includes("edge/"))return"Chrome";if(A0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,l=a.match(i);if((l==null?void 0:l.length)===2)return l[1]}return"Other"}function S0(a=St()){return/firefox\//i.test(a)}function ad(a=St()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function T0(a=St()){return/crios\//i.test(a)}function C0(a=St()){return/iemobile/i.test(a)}function A0(a=St()){return/android/i.test(a)}function N0(a=St()){return/blackberry/i.test(a)}function w0(a=St()){return/webos/i.test(a)}function tu(a=St()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function j1(a=St()){var t;return tu(a)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function B1(){return QS()&&document.documentMode===10}function R0(a=St()){return tu(a)||A0(a)||w0(a)||N0(a)||/windows phone/i.test(a)||C0(a)}function q1(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(a,t=[]){let i;switch(a){case"Browser":i=bv(St());break;case"Worker":i=`${bv(St())}-${a}`;break;default:i=a}const l=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${_a}/${l}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const l=c=>new Promise((h,m)=>{try{const g=t(c);h(g)}catch(g){m(g)}});l.onAbort=i,this.queue.push(l);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const l of this.queue)await l(t),l.onAbort&&i.push(l.onAbort)}catch(l){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:l==null?void 0:l.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(a,t={}){return Ea(a,"GET","/v2/passwordPolicy",id(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=6;class P1{constructor(t){var i,l,o,c;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=h.minPasswordLength)!==null&&i!==void 0?i:Y1,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(l=t.allowedNonAlphanumericCharacters)===null||l===void 0?void 0:l.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,l,o,c,h,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(i=g.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(l=g.meetsMaxPasswordLength)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(c=g.containsUppercaseLetter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(t,i){const l=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;l&&(i.meetsMinPasswordLength=t.length>=l),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let l;for(let o=0;o<t.length;o++)l=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,l>="a"&&l<="z",l>="A"&&l<="Z",l>="0"&&l<="9",this.allowedNonAlphanumericCharacters.includes(l))}updatePasswordCharacterOptionsStatuses(t,i,l,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=l)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t,i,l,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=l,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ev(this),this.idTokenSubscription=new Ev(this),this.beforeStateQueue=new G1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Yn(i)),this._initializationPromise=this.queue(async()=>{var l,o;if(!this._deleted&&(this.persistenceManager=await ra.create(this,t),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await y0(this,{idToken:t}),l=await Vn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(l)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(xi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const l=await this.assertedPersistence.getCurrentUser();let o=l,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===m)&&(g!=null&&g.user)&&(o=g.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=l,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await jo(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=N1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(xi(this.app))return Promise.reject(rs(this));const i=t?zt(t):null;return i&&oe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&oe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return xi(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return xi(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await V1(this),i=new P1(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Hl("auth","Firebase",t())}onAuthStateChanged(t,i,l){return this.registerStateListener(this.authStateSubscription,t,i,l)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,l){return this.registerStateListener(this.idTokenSubscription,t,i,l)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const l=this.onAuthStateChanged(()=>{l(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),l={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(l.tenantId=this.tenantId),await H1(this,l)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const l=await this.getOrInitRedirectPersistenceManager(i);return t===null?l.removeCurrentUser():l.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Yn(t)||this._popupRedirectResolver;oe(i,this,"argument-error"),this.redirectPersistenceManager=await ra.create(this,[Yn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,l;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((l=this.redirectUser)===null||l===void 0?void 0:l._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const l=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==l&&(this.lastNotifiedUid=l,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,l,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,l,o);return()=>{h=!0,g()}}else{const g=t.addObserver(i);return()=>{h=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=O0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const l=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());l&&(i["X-Firebase-Client"]=l);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var t;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&T1(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function nu(a){return zt(a)}class Ev{constructor(t){this.auth=t,this.observer=null,this.addObserver=iT(i=>this.observer=i)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q1(a){ld=a}function K1(a){return ld.loadJS(a)}function X1(){return ld.gapiScript}function Z1(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(a,t){const i=vh(a,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(To(c,t??{}))return o;Kn(o,"already-initialized")}return i.initialize({options:t})}function J1(a,t){const i=(t==null?void 0:t.persistence)||[],l=(Array.isArray(i)?i:[i]).map(Yn);t!=null&&t.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(l,t==null?void 0:t.popupRedirectResolver)}function $1(a,t,i){const l=nu(a);oe(l._canInitEmulator,l,"emulator-config-failed"),oe(/^https?:\/\//.test(t),l,"invalid-emulator-scheme");const o=!1,c=x0(t),{host:h,port:m}=ew(t),g=m===null?"":`:${m}`;l.config.emulator={url:`${c}//${h}${g}/`},l.settings.appVerificationDisabledForTesting=!0,l.emulatorConfig=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})}),tw()}function x0(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function ew(a){const t=x0(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const l=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(l);if(o){const c=o[1];return{host:c,port:Sv(l.substr(c.length+1))}}else{const[c,h]=l.split(":");return{host:c,port:Sv(h)}}}function Sv(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function tw(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Gn("not implemented")}_getIdTokenResponse(t){return Gn("not implemented")}_linkToIdToken(t,i){return Gn("not implemented")}_getReauthenticationResolver(t){return Gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(a,t){return O1(a,"POST","/v1/accounts:signInWithIdp",id(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="http://localhost";class ms extends D0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ms(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Kn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:l,signInMethod:o}=i,c=ed(i,["providerId","signInMethod"]);if(!l||!o)return null;const h=new ms(l,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return oa(t,i)}_linkToIdToken(t,i){const l=this.buildRequest();return l.idToken=i,oa(t,l)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,oa(t,i)}buildRequest(){const t={requestUri:nw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=pa(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends M0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Pl{constructor(){super("facebook.com")}static credential(t){return ms._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wi.credentialFromTaggedObject(t)}static credentialFromError(t){return wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wi.credential(t.oauthAccessToken)}catch{return null}}}wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn extends Pl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ms._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Bn.credentialFromTaggedObject(t)}static credentialFromError(t){return Bn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:l}=t;if(!i&&!l)return null;try{return Bn.credential(i,l)}catch{return null}}}Bn.GOOGLE_SIGN_IN_METHOD="google.com";Bn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Pl{constructor(){super("github.com")}static credential(t){return ms._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ri.credentialFromTaggedObject(t)}static credentialFromError(t){return Ri.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ri.credential(t.oauthAccessToken)}catch{return null}}}Ri.GITHUB_SIGN_IN_METHOD="github.com";Ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Pl{constructor(){super("twitter.com")}static credential(t,i){return ms._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Oi.credentialFromTaggedObject(t)}static credentialFromError(t){return Oi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:l}=t;if(!i||!l)return null;try{return Oi.credential(i,l)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,l,o=!1){const c=await Vn._fromIdTokenResponse(t,l,o),h=Tv(l);return new ma({user:c,providerId:h,_tokenResponse:l,operationType:i})}static async _forOperation(t,i,l){await t._updateTokensIfNecessary(l,!0);const o=Tv(l);return new ma({user:t,providerId:o,_tokenResponse:l,operationType:i})}}function Tv(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends zi{constructor(t,i,l,o){var c;super(i.code,i.message),this.operationType=l,this.user=o,Object.setPrototypeOf(this,Bo.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:l}}static _fromErrorAndOperation(t,i,l,o){return new Bo(t,i,l,o)}}function I0(a,t,i,l){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Bo._fromErrorAndOperation(a,c,t,l):c})}async function iw(a,t,i=!1){const l=await zl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return ma._forOperation(a,"link",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sw(a,t,i=!1){const{auth:l}=a;if(xi(l.app))return Promise.reject(rs(l));const o="reauthenticate";try{const c=await zl(a,I0(l,o,t,a),i);oe(c.idToken,l,"internal-error");const h=sd(c.idToken);oe(h,l,"internal-error");const{sub:m}=h;return oe(a.uid===m,l,"user-mismatch"),ma._forOperation(a,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Kn(l,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U0(a,t,i=!1){if(xi(a.app))return Promise.reject(rs(a));const l="signIn",o=await I0(a,l,t),c=await ma._fromIdTokenResponse(a,l,o);return i||await a._updateCurrentUser(c.user),c}async function aw(a,t){return U0(nu(a),t)}function lw(a,t,i,l){return zt(a).onIdTokenChanged(t,i,l)}function rw(a,t,i){return zt(a).beforeAuthStateChanged(t,i)}function ow(a,t,i,l){return zt(a).onAuthStateChanged(t,i,l)}function uw(a){return zt(a).signOut()}const qo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(qo,"1"),this.storage.removeItem(qo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(){const a=St();return ad(a)||tu(a)}const fw=1e3,hw=10;class k0 extends L0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=cw()&&q1(),this.fallbackToPolling=R0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const l=this.storage.getItem(i),o=this.localCache[i];l!==o&&t(i,o,l)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const l=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const h=this.storage.getItem(l);if(t.newValue!==h)t.newValue!==null?this.storage.setItem(l,t.newValue):this.storage.removeItem(l);else if(this.localCache[l]===t.newValue&&!i)return}const o=()=>{const h=this.storage.getItem(l);!i&&this.localCache[l]===h||this.notifyListeners(l,h)},c=this.storage.getItem(l);B1()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,hw):o()}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,l)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:l}),!0)})},fw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}k0.type="LOCAL";const dw=k0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends L0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}z0.type="SESSION";const H0=z0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const l=new iu(t);return this.receivers.push(l),l}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:l,eventType:o,data:c}=i.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;i.ports[0].postMessage({status:"ack",eventId:l,eventType:o});const m=Array.from(h).map(async p=>p(i.origin,c)),g=await mw(m);i.ports[0].postMessage({status:"done",eventId:l,eventType:o,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}iu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(a="",t=10){let i="";for(let l=0;l<t;l++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,l=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((m,g)=>{const p=rd("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},l);h={messageChannel:o,onMessage(v){const T=v;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(T.data.response);break;default:clearTimeout(E),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:p,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return window}function pw(a){bn().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(){return typeof bn().WorkerGlobalScope<"u"&&typeof bn().importScripts=="function"}async function _w(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vw(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)===null||a===void 0?void 0:a.controller)||null}function yw(){return j0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="firebaseLocalStorageDb",bw=1,Go="firebaseLocalStorage",q0="fbase_key";class Fl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function su(a,t){return a.transaction([Go],t?"readwrite":"readonly").objectStore(Go)}function Ew(){const a=indexedDB.deleteDatabase(B0);return new Fl(a).toPromise()}function uh(){const a=indexedDB.open(B0,bw);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const l=a.result;try{l.createObjectStore(Go,{keyPath:q0})}catch(o){i(o)}}),a.addEventListener("success",async()=>{const l=a.result;l.objectStoreNames.contains(Go)?t(l):(l.close(),await Ew(),t(await uh()))})})}async function Cv(a,t,i){const l=su(a,!0).put({[q0]:t,value:i});return new Fl(l).toPromise()}async function Sw(a,t){const i=su(a,!1).get(t),l=await new Fl(i).toPromise();return l===void 0?null:l.value}function Av(a,t){const i=su(a,!0).delete(t);return new Fl(i).toPromise()}const Tw=800,Cw=3;class G0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uh(),this.db)}async _withRetries(t){let i=0;for(;;)try{const l=await this._openDb();return await t(l)}catch(l){if(i++>Cw)throw l;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=iu._getInstance(yw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await _w(),!this.activeServiceWorker)return;this.sender=new gw(this.activeServiceWorker);const l=await this.sender._send("ping",{},800);l&&!((t=l[0])===null||t===void 0)&&t.fulfilled&&!((i=l[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||vw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await uh();return await Cv(t,qo,"1"),await Av(t,qo),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(l=>Cv(l,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(l=>Sw(l,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Av(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=su(o,!1).getAll();return new Fl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],l=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)l.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!l.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Tw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G0.type="LOCAL";const Aw=G0;new Yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(a,t){return t?Yn(t):(oe(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends D0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return oa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return oa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return oa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function ww(a){return U0(a.auth,new od(a),a.bypassAuthState)}function Rw(a){const{auth:t,user:i}=a;return oe(i,t,"internal-error"),sw(i,new od(a),a.bypassAuthState)}async function Ow(a){const{auth:t,user:i}=a;return oe(i,t,"internal-error"),iw(i,new od(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(t,i,l,o,c=!1){this.auth=t,this.resolver=l,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(l){this.reject(l)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:l,postBody:o,tenantId:c,error:h,type:m}=t;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:i,sessionId:l,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ww;case"linkViaPopup":case"linkViaRedirect":return Ow;case"reauthViaPopup":case"reauthViaRedirect":return Rw;default:Kn(this.auth,"internal-error")}}resolve(t){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=new Yl(2e3,1e4);class na extends V0{constructor(t,i,l,o,c){super(t,i,o,c),this.provider=l,this.authWindow=null,this.pollId=null,na.currentPopupAction&&na.currentPopupAction.cancel(),na.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return oe(t,this.auth,"internal-error"),t}async onExecution(){Xn(this.filter.length===1,"Popup operations only handle one event");const t=rd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,na.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,l;if(!((l=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||l===void 0)&&l.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,xw.get())};t()}}na.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="pendingRedirect",vo=new Map;class Mw extends V0{constructor(t,i,l=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,l),this.eventId=null}async execute(){let t=vo.get(this.auth._key());if(!t){try{const l=await Iw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(l)}catch(i){t=()=>Promise.reject(i)}vo.set(this.auth._key(),t)}return this.bypassAuthState||vo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Iw(a,t){const i=kw(t),l=Lw(a);if(!await l._isAvailable())return!1;const o=await l._get(i)==="true";return await l._remove(i),o}function Uw(a,t){vo.set(a._key(),t)}function Lw(a){return Yn(a._redirectPersistence)}function kw(a){return _o(Dw,a.config.apiKey,a.name)}async function zw(a,t,i=!1){if(xi(a.app))return Promise.reject(rs(a));const l=nu(a),o=Nw(l,t),h=await new Mw(l,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await l._persistUserIfCurrent(h.user),await l._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=600*1e3;class jw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(l=>{this.isEventForConsumer(t,l)&&(i=!0,this.sendToConsumer(t,l),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Bw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var l;if(t.error&&!Y0(t)){const o=((l=t.error.code)===null||l===void 0?void 0:l.split("auth/")[1])||"internal-error";i.onError(yn(this.auth,o))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const l=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&l}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Hw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nv(t))}saveEventToCache(t){this.cachedEventUids.add(Nv(t)),this.lastProcessedEventTime=Date.now()}}function Nv(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function Y0({type:a,error:t}){return a==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Bw(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y0(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qw(a,t={}){return Ea(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vw=/^https?/;async function Yw(a){if(a.config.emulator)return;const{authorizedDomains:t}=await qw(a);for(const i of t)try{if(Pw(i))return}catch{}Kn(a,"unauthorized-domain")}function Pw(a){const t=rh(),{protocol:i,hostname:l}=new URL(t);if(a.startsWith("chrome-extension://")){const h=new URL(a);return h.hostname===""&&l===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===l}if(!Vw.test(i))return!1;if(Gw.test(a))return l===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(l)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Yl(3e4,6e4);function wv(){const a=bn().___jsl;if(a!=null&&a.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function Qw(a){return new Promise((t,i)=>{var l,o,c;function h(){wv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{wv(),i(yn(a,"network-request-failed"))},timeout:Fw.get()})}if(!((o=(l=bn().gapi)===null||l===void 0?void 0:l.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((c=bn().gapi)===null||c===void 0)&&c.load)h();else{const m=Z1("iframefcb");return bn()[m]=()=>{gapi.load?h():i(yn(a,"network-request-failed"))},K1(`${X1()}?onload=${m}`).catch(g=>i(g))}}).catch(t=>{throw yo=null,t})}let yo=null;function Kw(a){return yo=yo||Qw(a),yo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=new Yl(5e3,15e3),Zw="__/auth/iframe",Ww="emulator/auth/iframe",Jw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$w=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eR(a){const t=a.config;oe(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?nd(t,Ww):`https://${a.config.authDomain}/${Zw}`,l={apiKey:t.apiKey,appName:a.name,v:_a},o=$w.get(a.config.apiHost);o&&(l.eid=o);const c=a._getFrameworks();return c.length&&(l.fw=c.join(",")),`${i}?${pa(l).slice(1)}`}async function tR(a){const t=await Kw(a),i=bn().gapi;return oe(i,a,"internal-error"),t.open({where:document.body,url:eR(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jw,dontclear:!0},l=>new Promise(async(o,c)=>{await l.restyle({setHideOnLeave:!1});const h=yn(a,"network-request-failed"),m=bn().setTimeout(()=>{c(h)},Xw.get());function g(){bn().clearTimeout(m),o(l)}l.ping(g).then(g,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iR=500,sR=600,aR="_blank",lR="http://localhost";class Rv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rR(a,t,i,l=iR,o=sR){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-l)/2,0).toString();let m="";const g=Object.assign(Object.assign({},nR),{width:l.toString(),height:o.toString(),top:c,left:h}),p=St().toLowerCase();i&&(m=T0(p)?aR:i),S0(p)&&(t=t||lR,g.scrollbars="yes");const E=Object.entries(g).reduce((T,[j,H])=>`${T}${j}=${H},`,"");if(j1(p)&&m!=="_self")return oR(t||"",m),new Rv(null);const v=window.open(t||"",m,E);oe(v,a,"popup-blocked");try{v.focus()}catch{}return new Rv(v)}function oR(a,t){const i=document.createElement("a");i.href=a,i.target=t;const l=document.createEvent("MouseEvent");l.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="__/auth/handler",cR="emulator/auth/handler",fR=encodeURIComponent("fac");async function Ov(a,t,i,l,o,c){oe(a.config.authDomain,a,"auth-domain-config-required"),oe(a.config.apiKey,a,"invalid-api-key");const h={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:l,v:_a,eventId:o};if(t instanceof M0){t.setDefaultLanguage(a.languageCode),h.providerId=t.providerId||"",Gf(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,v]of Object.entries({}))h[E]=v}if(t instanceof Pl){const E=t.getScopes().filter(v=>v!=="");E.length>0&&(h.scopes=E.join(","))}a.tenantId&&(h.tid=a.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await a._getAppCheckToken(),p=g?`#${fR}=${encodeURIComponent(g)}`:"";return`${hR(a)}?${pa(m).slice(1)}${p}`}function hR({config:a}){return a.emulator?nd(a,cR):`https://${a.authDomain}/${uR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="webStorageSupport";class dR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H0,this._completeRedirectFn=zw,this._overrideRedirectResult=Uw}async _openPopup(t,i,l,o){var c;Xn((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const h=await Ov(t,i,l,rh(),o);return rR(t,h,rd())}async _openRedirect(t,i,l,o){await this._originValidation(t);const c=await Ov(t,i,l,rh(),o);return pw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Xn(c,"If manager is not set, promise should be"),c)}const l=this.initAndGetManager(t);return this.eventManagers[i]={promise:l},l.catch(()=>{delete this.eventManagers[i]}),l}async initAndGetManager(t){const i=await tR(t),l=new jw(t);return i.register("authEvent",o=>(oe(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:l.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:l},this.iframes[t._key()]=i,l}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Bf,{type:Bf},o=>{var c;const h=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[Bf];h!==void 0&&i(!!h),Kn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Yw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return R0()||ad()||tu()}}const mR=dR;var xv="@firebase/auth",Dv="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(l=>{t((l==null?void 0:l.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _R(a){ca(new os("auth",(t,{options:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=l.options;oe(h&&!h.includes(":"),"invalid-api-key",{appName:l.name});const g={apiKey:h,authDomain:m,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O0(a)},p=new F1(l,o,c,g);return J1(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,l)=>{t.getProvider("auth-internal").initialize()})),ca(new os("auth-internal",t=>{const i=nu(t.getProvider("auth").getImmediate());return(l=>new gR(l))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(xv,Dv,pR(a)),Ii(xv,Dv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=300,yR=Vv("authIdTokenMaxAge")||vR;let Mv=null;const bR=a=>async t=>{const i=t&&await t.getIdTokenResult(),l=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(l&&l>yR)return;const o=i==null?void 0:i.token;Mv!==o&&(Mv=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function qf(a=Xv()){const t=vh(a,"auth");if(t.isInitialized())return t.getImmediate();const i=W1(a,{popupRedirectResolver:mR,persistence:[Aw,dw,H0]}),l=Vv("authTokenSyncURL");if(l&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(l,location.origin);if(location.origin===c.origin){const h=bR(c.toString());rw(i,h,()=>h(i.currentUser)),lw(i,m=>h(m))}}const o=qv("auth");return o&&$1(i,`http://${o}`),i}function ER(){var a,t;return(t=(a=document.getElementsByTagName("head"))===null||a===void 0?void 0:a[0])!==null&&t!==void 0?t:document}Q1({loadJS(a){return new Promise((t,i)=>{const l=document.createElement("script");l.setAttribute("src",a),l.onload=t,l.onerror=o=>{const c=yn("internal-error");c.customData=o,i(c)},l.type="text/javascript",l.charset="UTF-8",ER().appendChild(l)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_R("Browser");var SR="firebase",TR="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii(SR,TR,"app");const CR={apiKey:"AIzaSyDqGTfHTuj1cu2a6eTPYR29l7H65Q-x810",authDomain:"murasil-al-moalem.firebaseapp.com",databaseURL:"https://murasil-al-moalem-default-rtdb.firebaseio.com",projectId:"murasil-al-moalem",storageBucket:"murasil-al-moalem.firebasestorage.app",messagingSenderId:"314929620446",appId:"1:314929620446:web:fb7abd1cee260d85dca94f"},Ci=Kv(CR),P0=P.createContext(void 0),AR=({children:a})=>{const[t,i]=P.useState(null),[l,o]=P.useState(!1),[c,h]=P.useState([]),m=P.useMemo(()=>!!t&&US.includes(t.email),[t]);P.useEffect(()=>{const H=qf(Ci),L=ow(H,V=>{i(V?{email:V.email,name:V.displayName,picture:V.photoURL||void 0}:null),o(!0)});return()=>L()},[]);const g=P.useCallback(async H=>{if(H.credential)try{const L=qf(Ci),V=Bn.credential(H.credential);await aw(L,V)}catch(L){console.error("Firebase sign-in error:",L),alert("    Firebase.    Firebase Authentication  .")}else console.error("Google login failed: No credential in response.")},[]),p=P.useCallback(()=>{const H=qf(Ci);uw(H).catch(L=>console.error("Firebase sign-out error:",L))},[]),E=P.useCallback(()=>{const H=El(Ci),L=bl(H,"imageTemplates");gv(L),h1(L,V=>{const X=V.val();if(X){const pe=Object.entries(X).map(([se,ee])=>({...ee,id:se}));h(pe)}else h([])},V=>{console.error("Error loading templates from Firebase:",V),alert(`    Firebase: ${V.message}`),h([])})},[]);P.useEffect(()=>(E(),()=>{const H=El(Ci),L=bl(H,"imageTemplates");gv(L)}),[E]);const v=H=>{if(!m)return alert("    ."),Promise.reject(new Error("Permission Denied"));const L=El(Ci),V=bl(L,"imageTemplates");return u1(V,H).then(X=>(console.log("addImageTemplate: Template added to Firebase successfully! Ref ID:",X.key),alert("    Firebase !"),X)).catch(X=>{throw console.error("addImageTemplate: Error adding template to Firebase. Code:",X.code,"Message:",X.message,"Full error object:",X),alert(`    Firebase: ${X.message} (: ${X.code})`),X})},T=H=>{if(!m)return alert("    ."),Promise.reject(new Error("Permission Denied"));const L=El(Ci),{id:V,...X}=H;if(!V){const se="updateImageTemplate: Template ID is missing. Cannot update.";return console.error(se,H),alert(":      ."),Promise.reject(new Error(se))}const pe=bl(L,`imageTemplates/${V}`);return Jh(pe,X).then(()=>{console.log("updateImageTemplate: Template updated in Firebase successfully! ID:",V),alert("    Firebase !")}).catch(se=>{throw console.error("updateImageTemplate: Error updating template in Firebase. Code:",se.code,"Message:",se.message,"Full error object:",se),alert(`    Firebase: ${se.message} (: ${se.code})`),se})},j=H=>{if(!m)return alert("    ."),Promise.reject(new Error("Permission Denied"));const L=El(Ci);if(!H){const X="deleteImageTemplate: Template ID is missing. Cannot delete.";return console.error(X),alert(":      ."),Promise.reject(new Error(X))}const V=bl(L,`imageTemplates/${H}`);return c1(V).then(()=>{console.log("deleteImageTemplate: Template deleted from Firebase successfully! ID:",H),alert("    Firebase !")}).catch(X=>{throw console.error("deleteImageTemplate: Error deleting template from Firebase. Code:",X.code,"Message:",X.message,"Full error object:",X),alert(`    Firebase: ${X.message} (: ${X.code})`),X})};return l?x.jsx(P0.Provider,{value:{isAdmin:m,currentUser:t,loginUser:g,logoutUser:p,imageTemplates:c,addImageTemplate:v,updateImageTemplate:T,deleteImageTemplate:j,loadTemplates:E},children:a}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-700 flex items-center justify-center",children:x.jsx("p",{className:"text-white text-xl animate-pulse",children:"   ..."})})},ud=()=>{const a=P.useContext(P0);if(a===void 0)throw new Error("useAppContext must be used within an AppProvider");return a},Vo={notes:" ",grades:" ",plan:" ",administrative:" "};var F0=(a=>(a.TEACHER_NAME="teacherName",a.SCHOOL_YEAR="schoolYear",a.PRINCIPAL_NAME="principalName",a.CLASS_NAME="className",a.PHONE_NUMBER="phoneNumber",a.OPTIONAL_ADDITION="optionalAddition",a.SCHOOL_NAME="schoolName",a.SECTION_NAME="sectionName",a.DIRECTORATE_NAME="directorateName",a.SUBJECT="subject",a.LOGO_URL="logoUrl",a.RECORD_NUMBER="recordNumber",a))(F0||{});const Yo={teacherName:" ",schoolYear:" ",principalName:"  ",className:" ",phoneNumber:" ",optionalAddition:" ",schoolName:" ",sectionName:"",directorateName:" ",subject:"",logoUrl:"   ()",recordNumber:" "},Mt=({children:a,variant:t="primary",size:i="md",className:l="",...o})=>{const c="font-semibold rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-opacity-75 transition duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",h={primary:"bg-sky-500 hover:bg-sky-600 text-white focus:ring-sky-400",secondary:"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-400",danger:"bg-red-500 hover:bg-red-600 text-white focus:ring-red-400",success:"bg-green-500 hover:bg-green-600 text-white focus:ring-green-400"},m={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return x.jsx("button",{className:`${c} ${h[t]} ${m[i]} ${l}`,...o,children:a})},on=P.forwardRef(({label:a,id:t,className:i="",containerClassName:l="",...o},c)=>{const h=t||(a?a.replace(/\s+/g,"-").toLowerCase():void 0);return x.jsxs("div",{className:`mb-4 ${l}`,children:[a&&x.jsx("label",{htmlFor:h,className:"block text-sm font-medium text-gray-300 mb-1",children:a}),x.jsx("input",{id:h,ref:c,className:`w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-sky-500 focus:border-sky-500 text-white ${i}`,...o})]})});on.displayName="Input";const vn=({label:a,id:t,options:i,className:l="",containerClassName:o="",...c})=>{const h=t||(a?a.replace(/\s+/g,"-").toLowerCase():void 0);return x.jsxs("div",{className:`mb-4 ${o}`,children:[a&&x.jsx("label",{htmlFor:h,className:"block text-sm font-medium text-gray-300 mb-1",children:a}),x.jsx("select",{id:h,className:`w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 text-white ${l}`,...c,children:i.map(m=>x.jsx("option",{value:m.value,className:"bg-slate-700 text-white",children:m.label},m.value))})]})},Q0=({imageUrl:a,overlays:t,logoOverlay:i,userEdits:l={},onDrawComplete:o,canvasWidthProp:c,canvasHeightProp:h,backgroundColor:m="#ffffff",onImageLoadError:g,onCanvasLeftClick:p,onCanvasContextMenu:E,selectedOverlayId:v,isMovementEnabled:T,onOverlayDragStart:j,onOverlayPositionUpdate:H,onOverlayDragEnd:L,isLogoDraggable:V,onLogoPositionUpdate:X})=>{const pe=P.useRef(null),[se,ee]=P.useState(null),[ke,be]=P.useState(null),[le,ze]=P.useState(!1),[Fe,Ge]=P.useState(!1),De=P.useRef([]),[Me,et]=P.useState(c||Ai/2),[me,Ie]=P.useState(h||Ni/2),[A,B]=P.useState(null),[z,Q]=P.useState(!1),K=P.useRef(!1);P.useEffect(()=>{let ne=c||Ai/2,Z=h||Ni/2;if(a){ze(!1);const fe=new Image;fe.crossOrigin="anonymous",fe.onload=()=>{if(!c||!h){let ie=fe.width,ge=fe.height;const Tt=ie>Ai?Ai/ie:1,En=ge>Ni?Ni/ge:1,Wn=Math.min(Tt,En);Wn<1&&(ie*=Wn,ge*=Wn),ne=Math.round(ie),Z=Math.round(ge)}et(ne),Ie(Z),ee({element:fe,width:fe.width,height:fe.height})},fe.onerror=()=>{ee(null),ze(!0),et(c||Ai/2),Ie(h||Ni/2),g&&g()},fe.src=a}else ee(null),ze(!1),et(ne),Ie(Z)},[a,c,h,g]);const y=i!=null&&i.isEditableByUser&&i.editKey&&l[i.editKey]?l[i.editKey]:i==null?void 0:i.imageUrl,M=y&&y.length>0;P.useEffect(()=>{if(!M||!y){be(null),Ge(!1);return}const ne=new Image;ne.crossOrigin="anonymous",ne.onload=()=>{be(ne),Ge(!1)},ne.onerror=()=>{console.error("Failed to load logo image:",y),be(null),Ge(!0)},ne.src=y},[y,M]),P.useEffect(()=>{const ne=pe.current;if(!ne)return;ne.width=Me,ne.height=me;const Z=ne.getContext("2d");if(!Z)return;Z.clearRect(0,0,ne.width,ne.height),se&&!le?Z.drawImage(se.element,0,0,Me,me):(Z.fillStyle=m,Z.fillRect(0,0,ne.width,ne.height)),i&&ke&&!Fe&&(Z.save(),Z.beginPath(),Z.arc(i.x,i.y,i.radius,0,Math.PI*2,!0),Z.closePath(),Z.clip(),Z.drawImage(ke,i.x-i.radius,i.y-i.radius,i.radius*2,i.radius*2),Z.restore(),(A&&A.type==="logo"||V&&!A)&&(Z.save(),Z.strokeStyle=A&&A.type==="logo"?"rgba(255, 100, 0, 0.9)":"rgba(0, 200, 255, 0.5)",Z.lineWidth=A&&A.type==="logo"?3:2,Z.setLineDash(A&&A.type==="logo"?[4,2]:[6,3]),Z.beginPath(),Z.arc(i.x,i.y,i.radius,0,Math.PI*2,!0),Z.stroke(),Z.restore()));const fe=[];t.forEach(ie=>{Z.font=`${ie.fontWeight} ${ie.fontSize}px ${ie.fontFamily}`,Z.fillStyle=ie.color,Z.textAlign="right";let ge=ie.text;ie.isEditableByUser&&ie.editKey&&l[ie.editKey]&&(ge=l[ie.editKey]),Z.fillText(ge,ie.x,ie.y);const En=Z.measureText(ge).width,Wn=ie.fontSize,dn={id:ie.id,x1:ie.x-En,y1:ie.y-Wn,x2:ie.x,y2:ie.y+Wn*.2};fe.push(dn),ie.id===v&&(Z.save(),Z.strokeStyle=A&&A.type==="text"&&A.id===ie.id?"rgba(255, 100, 0, 0.9)":"rgba(0, 150, 255, 0.7)",Z.lineWidth=A&&A.id===ie.id?3:2,Z.setLineDash(A&&A.id===ie.id?[4,2]:[]),Z.strokeRect(dn.x1-2,dn.y1-2,dn.x2-dn.x1+4,dn.y2-dn.y1+4),Z.restore())}),De.current=fe,o&&o(ne)},[se,le,ke,Fe,t,l,v,m,o,Me,me,A,i,V]);const q=ne=>{const Z=pe.current;if(!Z)return{x:0,y:0};const fe=Z.getBoundingClientRect();if(fe.width===0||fe.height===0)return{x:0,y:0};const ie=Z.width/fe.width,ge=Z.height/fe.height;return{x:(ne.clientX-fe.left)*ie,y:(ne.clientY-fe.top)*ge}},F=ne=>{if(ne.button!==0)return;const{x:Z,y:fe}=q(ne);if(K.current=!1,T&&v&&j){const ie=De.current.find(Tt=>Tt.id===v),ge=t.find(Tt=>Tt.id===v);if(ie&&ge&&Z>=ie.x1&&Z<=ie.x2&&fe>=ie.y1&&fe<=ie.y2){ne.preventDefault(),B({type:"text",id:v,clickOffsetX:Z-ge.x,clickOffsetY:fe-ge.y}),j(v);return}}if(V&&i&&Math.sqrt(Math.pow(Z-i.x,2)+Math.pow(fe-i.y,2))<=i.radius){ne.preventDefault(),B({type:"logo",id:i.id,clickOffsetX:Z-i.x,clickOffsetY:fe-i.y});return}},$=ne=>{const{x:Z,y:fe}=q(ne);if(A&&H&&A.type==="text"){K.current||(K.current=!0);const ie=Z-A.clickOffsetX,ge=fe-A.clickOffsetY;H(A.id,ie,ge)}else if(A&&X&&A.type==="logo"){K.current||(K.current=!0);const ie=Z-A.clickOffsetX,ge=fe-A.clickOffsetY;X(ie,ge)}else if(T&&v){const ie=De.current.find(ge=>ge.id===v);ie&&Z>=ie.x1&&Z<=ie.x2&&fe>=ie.y1&&fe<=ie.y2?Q(!0):Q(!1)}else Q(!1)},O=ne=>{if(ne.button!==0){A&&(A.type==="text"&&L&&L(A.id),B(null));return}if(A&&A.type==="text"&&L&&L(A.id),B(null),!K.current&&p){const{x:Z,y:fe}=q(ne);let ie=null;for(const ge of De.current)if(Z>=ge.x1&&Z<=ge.x2&&fe>=ge.y1&&fe<=ge.y2){const Tt=t.find(En=>En.id===ge.id);if(Tt){ie=Tt;break}}p(Z,fe,ie)}K.current=!1},Y=ne=>{if(!E||(ne.preventDefault(),A))return;const{x:Z,y:fe}=q(ne);let ie=null;for(const ge of De.current)if(Z>=ge.x1&&Z<=ge.x2&&fe>=ge.y1&&fe<=ge.y2){ie=t.find(Tt=>Tt.id===ge.id)||null;break}E(Z,fe,ne.pageX,ne.pageY,ie)},ue=()=>A?"grabbing":z&&T?"move":p?"pointer":"crosshair",_e=()=>{A&&(A.type==="text"&&L&&L(A.id),B(null)),Q(!1),K.current=!1};return x.jsx("canvas",{ref:pe,className:"border border-gray-500 rounded-md shadow-lg bg-white",style:{cursor:ue(),display:"block",width:"100%",height:"auto",aspectRatio:Me>0&&me>0?`${Me} / ${me}`:"1 / 1",maxWidth:`${Me}px`},onMouseDown:F,onMouseMove:$,onMouseUp:O,onMouseLeave:_e,onContextMenu:Y,"aria-label":"Image editing canvas",role:"application","aria-roledescription":"Interactive image editing area"})},NR=({overlay:a,x:t,y:i,onClose:l,onSave:o,onDelete:c})=>{const[h,m]=P.useState(a);P.useEffect(()=>{m(a)},[a]);const g=(L,V)=>{m(X=>({...X,[L]:V}))},p=(L,V)=>{m(X=>({...X,[L]:parseInt(V)||0}))},E=(L,V)=>{m(X=>{const pe={...X,[L]:V};return V||(pe.editKey=void 0),pe})},v=L=>{L.stopPropagation(),o(h)},T=L=>{L.stopPropagation(),window.confirm(`      "${a.text}"`)&&c(a.id)},j=L=>{L.stopPropagation(),l()},H=Object.entries(Yo).map(([L,V])=>({value:L,label:V}));return x.jsxs("div",{className:"absolute z-50 p-4 bg-slate-900 border border-sky-500 rounded-lg shadow-2xl text-white w-80",style:{top:`${i}px`,left:`${t}px`},onClick:L=>L.stopPropagation(),children:[x.jsx("h4",{className:"text-lg font-semibold text-cyan-300 mb-3 border-b border-slate-700 pb-2",children:" "}),x.jsx(on,{label:"",value:h.text,onChange:L=>g("text",L.target.value),containerClassName:"mb-2"}),x.jsxs("div",{className:"grid grid-cols-2 gap-x-3",children:[x.jsx(vn,{label:"",value:h.fontFamily,onChange:L=>g("fontFamily",L.target.value),options:Lv.map(L=>({value:L,label:L})),containerClassName:"mb-2"}),x.jsx(on,{label:" ",type:"number",value:h.fontSize,onChange:L=>p("fontSize",L.target.value),containerClassName:"mb-2"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-x-3",children:[x.jsx(vn,{label:" ",value:h.color,onChange:L=>g("color",L.target.value),options:kv,containerClassName:"mb-2"}),x.jsx(vn,{label:" ",value:h.fontWeight,onChange:L=>g("fontWeight",L.target.value),options:[{value:"normal",label:""},{value:"bold",label:""}],containerClassName:"mb-2"})]}),x.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse mt-1 mb-2",children:[x.jsx("input",{type:"checkbox",id:`isEditableCtx-${a.id}`,className:"form-checkbox h-4 w-4 text-sky-500 rounded border-slate-600 bg-slate-700 focus:ring-sky-400",checked:h.isEditableByUser,onChange:L=>E("isEditableByUser",L.target.checked)}),x.jsx("label",{htmlFor:`isEditableCtx-${a.id}`,className:"text-sm text-gray-300",children:"   "})]}),h.isEditableByUser&&x.jsx(vn,{label:" ",value:h.editKey||"",onChange:L=>g("editKey",L.target.value),options:[{value:"",label:" "},...H],containerClassName:"mb-3"}),x.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-slate-700",children:[x.jsx(Mt,{onClick:v,variant:"success",size:"sm",children:" "}),x.jsx(Mt,{onClick:T,variant:"danger",size:"sm",children:" "}),x.jsx(Mt,{onClick:j,variant:"secondary",size:"sm",children:""})]})]})},mo=2,wR=()=>{var $;const{imageTemplates:a,addImageTemplate:t,updateImageTemplate:i,deleteImageTemplate:l,logoutUser:o}=ud(),[c,h]=P.useState({}),[m,g]=P.useState([]),[p,E]=P.useState(null),[v,T]=P.useState({}),[j,H]=P.useState(""),[L,V]=P.useState({width:600,height:400}),[X,pe]=P.useState(null),se=P.useRef(null),[ee,ke]=P.useState({visible:!1,x:0,y:0,targetOverlay:null}),[be,le]=P.useState(!1);P.useEffect(()=>{if(c.imageUrl){H(c.imageUrl),pe(null);const O=new Image;O.onload=()=>{let Y=O.width,ue=O.height;if(Y>Ai){const _e=Ai/Y;Y=Ai,ue*=_e}if(ue>Ni){const _e=Ni/ue;ue=Ni,Y*=_e}V({width:Math.round(Y),height:Math.round(ue)})},O.onerror=()=>{console.warn("Failed to load image for dimension calculation (admin preview setup):",c.imageUrl),V({width:600,height:400})},O.src=c.imageUrl}else H(""),pe(null),V({width:600,height:400})},[c.imageUrl]);const ze=(O,Y,ue)=>{if(ue){ee.visible&&Ge();return}!be&&(!ee.visible||!ee.targetOverlay)&&(T(_e=>({..._e,x:O,y:Y})),se.current&&se.current.focus(),alert(`   (X: ${Math.round(O)}, Y: ${Math.round(Y)}).      " ".`)),ee.visible&&Ge()},Fe=(O,Y,ue,_e,ne)=>{ne?ke({visible:!0,x:ue,y:_e,targetOverlay:ne}):Ge()},Ge=P.useCallback(()=>{be||ke({visible:!1,x:0,y:0,targetOverlay:null})},[be]),De=P.useCallback(O=>{g(Y=>Y.map(ue=>ue.id===O.id?O:ue)),ee.targetOverlay&&ee.targetOverlay.id===O.id&&ke(Y=>({...Y,targetOverlay:O}))},[ee.targetOverlay]),Me=O=>{De(O),Ge()},et=O=>{g(m.filter(Y=>Y.id!==O)),Ge()},me=()=>{if(!v.text||v.x==null||v.y==null){alert("         .");return}const O={id:`overlay-${Date.now()}`,text:v.text||"",x:Number(v.x),y:Number(v.y),fontFamily:v.fontFamily||y_,fontSize:Number(v.fontSize)||b_,color:v.color||E_,fontWeight:v.fontWeight||S_,isEditableByUser:v.isEditableByUser||!1,editKey:v.isEditableByUser?v.editKey:void 0};g([...m,O]),T({fontFamily:v.fontFamily,fontSize:v.fontSize,color:v.color,fontWeight:v.fontWeight,isEditableByUser:v.isEditableByUser,editKey:v.editKey})},Ie=O=>{g(m.filter(Y=>Y.id!==O))},A=()=>{if(!c.name||!c.category||!c.imageUrl){alert("      .");return}if(X&&!window.confirm(":    .        "))return;const O={name:c.name,category:c.category,imageUrl:c.imageUrl,overlays:m,logoOverlay:p,canvasWidth:L.width,canvasHeight:L.height};c.id?i({...O,id:c.id}):t(O),h({}),g([]),E(null),H(""),pe(null),T({})},B=O=>{h(O),g(O.overlays),E(O.logoOverlay||null),pe(null),T({}),Ge()};P.useEffect(()=>{const O=Y=>{if(!ee.visible||!ee.targetOverlay||be)return;let ue=!1,_e=ee.targetOverlay.x,ne=ee.targetOverlay.y;switch(Y.key){case"ArrowUp":ne-=mo,ue=!0;break;case"ArrowDown":ne+=mo,ue=!0;break;case"ArrowLeft":_e-=mo,ue=!0;break;case"ArrowRight":_e+=mo,ue=!0;break}if(ue){Y.preventDefault();const Z={...ee.targetOverlay,x:_e,y:ne};De(Z)}};return document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[ee.visible,ee.targetOverlay,be,De]);const z=P.useCallback(O=>{le(!0)},[]),Q=P.useCallback((O,Y,ue)=>{if(!be||!ee.targetOverlay||ee.targetOverlay.id!==O)return;const _e=m.find(ne=>ne.id===O);if(_e){const ne={..._e,x:Y,y:ue};De(ne)}},[be,m,De,ee.targetOverlay]),K=P.useCallback(O=>{le(!1)},[]),y=P.useCallback((O,Y)=>{E(ue=>ue?{...ue,x:O,y:Y}:null)},[]),M=Object.entries(Vo).map(([O,Y])=>({value:O,label:Y})),q=Object.entries(Yo).map(([O,Y])=>({value:O,label:Y})),F=()=>{ee.visible};return x.jsxs("div",{className:"p-4 sm:p-6 bg-slate-800 rounded-xl shadow-2xl",onClick:F,children:[x.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-sky-400 mb-6 text-center",children:"  "}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[x.jsxs("div",{className:"md:col-span-1 space-y-4 p-4 bg-slate-700 rounded-lg",children:[x.jsx("h3",{className:"text-xl font-semibold text-cyan-300 border-b border-slate-600 pb-2",children:" "}),x.jsx(on,{label:" ",value:c.name||"",onChange:O=>h({...c,name:O.target.value})}),x.jsx(on,{label:" ",placeholder:"https://example.com/image.jpg",value:c.imageUrl||"",onChange:O=>h({...c,imageUrl:O.target.value})}),x.jsx(vn,{label:"",value:c.category||"",onChange:O=>h({...c,category:O.target.value}),options:[{value:"",label:" "},...M]}),x.jsxs("div",{className:"pt-4 border-t border-slate-600",children:[x.jsx("h4",{className:"text-lg font-semibold text-cyan-400",children:"  ()"}),x.jsx(on,{label:"  ",placeholder:"https://example.com/logo.png",value:(p==null?void 0:p.imageUrl)||"",onChange:O=>{const Y=O.target.value;E(p?{...p,imageUrl:Y}:{id:"logo-main",imageUrl:Y,x:100,y:100,radius:75,isEditableByUser:!0,editKey:F0.LOGO_URL})}}),x.jsx(on,{type:"number",label:"   ()",value:(p==null?void 0:p.radius)||"",onChange:O=>{p&&E({...p,radius:parseInt(O.target.value)||75})},disabled:!p,containerClassName:"mb-2"}),p&&x.jsx(Mt,{onClick:()=>E(null),variant:"danger",size:"sm",children:" "})]})]}),x.jsxs("div",{className:"md:col-span-2 space-y-4 p-4 bg-slate-700 rounded-lg",children:[x.jsx("h3",{className:"text-xl font-semibold text-cyan-300 border-b border-slate-600 pb-2",children:"   "}),x.jsx("p",{className:"text-sm text-slate-400 -mt-2 mb-2",children:"        ."}),x.jsx(on,{label:"",value:v.text||"",onChange:O=>T({...v,text:O.target.value}),ref:se,placeholder:v.x!==void 0?"  ":"   "}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsx(vn,{label:"",value:v.fontFamily||y_,onChange:O=>T({...v,fontFamily:O.target.value}),options:Lv.map(O=>({value:O,label:O}))}),x.jsx(on,{type:"number",label:" ",value:v.fontSize||b_,onChange:O=>T({...v,fontSize:parseInt(O.target.value)})})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsx(vn,{label:" ",value:v.color||E_,onChange:O=>T({...v,color:O.target.value}),options:kv}),x.jsx(vn,{label:" ",value:v.fontWeight||S_,onChange:O=>T({...v,fontWeight:O.target.value}),options:[{value:"normal",label:""},{value:"bold",label:""}]})]}),x.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse mt-2",children:[x.jsx("input",{type:"checkbox",id:"isEditablePanel",className:"form-checkbox h-5 w-5 text-sky-500 rounded border-slate-500 focus:ring-sky-400",checked:v.isEditableByUser||!1,onChange:O=>T({...v,isEditableByUser:O.target.checked})}),x.jsx("label",{htmlFor:"isEditablePanel",className:"text-gray-300",children:"   "})]}),v.isEditableByUser&&x.jsx(vn,{label:"   ",value:v.editKey||"",onChange:O=>T({...v,editKey:O.target.value}),options:[{value:"",label:" "},...q]}),x.jsx(Mt,{onClick:me,variant:"success",className:"w-full sm:w-auto",children:"   "})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[x.jsxs("div",{className:"p-4 bg-slate-700 rounded-lg relative",onClick:O=>O.stopPropagation(),children:[x.jsx("h3",{className:"text-xl font-semibold text-cyan-300 mb-2",children:" (     /)"}),j?x.jsxs(x.Fragment,{children:[x.jsx(Q0,{imageUrl:j,overlays:m,logoOverlay:p,canvasWidthProp:L.width,canvasHeightProp:L.height,onImageLoadError:()=>pe("   ..."),onCanvasLeftClick:ze,onCanvasContextMenu:Fe,selectedOverlayId:($=ee.targetOverlay)==null?void 0:$.id,onOverlayDragStart:z,onOverlayPositionUpdate:Q,onOverlayDragEnd:K,isMovementEnabled:!!ee.targetOverlay,isLogoDraggable:!!p,onLogoPositionUpdate:y}),X&&x.jsx("p",{className:"text-red-400 text-sm mt-2 p-3 bg-red-900/60 border border-red-700 rounded",children:X})]}):x.jsx("div",{className:"h-64 flex items-center justify-center border-2 border-dashed border-slate-600 rounded-md text-slate-500",children:"    "}),ee.visible&&ee.targetOverlay&&x.jsx(NR,{overlay:ee.targetOverlay,x:ee.x,y:ee.y,onClose:Ge,onSave:Me,onDelete:et})]}),x.jsxs("div",{className:"p-4 bg-slate-700 rounded-lg max-h-96 overflow-y-auto",onClick:O=>O.stopPropagation(),children:[x.jsx("h3",{className:"text-xl font-semibold text-cyan-300 mb-2",children:"  ( )"}),m.length===0&&x.jsx("p",{className:"text-slate-400",children:"     .        ."}),x.jsx("ul",{className:"space-y-2",children:m.map(O=>{var Y;return x.jsxs("li",{className:`p-3 bg-slate-600 rounded-md flex justify-between items-center text-sm ${((Y=ee.targetOverlay)==null?void 0:Y.id)===O.id?"ring-2 ring-sky-400":""}`,children:[x.jsxs("span",{className:"truncate",title:O.text,children:[O.text.substring(0,30),O.text.length>30?"...":""," (X:",Math.round(O.x),", Y:",Math.round(O.y),")"]}),x.jsx("div",{children:x.jsx(Mt,{onClick:()=>Ie(O.id),size:"sm",variant:"danger",children:"  "})})]},O.id)})})]})]}),x.jsx(Mt,{onClick:A,variant:"primary",size:"lg",className:"w-full md:w-auto",children:c.id?"   Firebase":"    Firebase"}),c.id&&x.jsx(Mt,{onClick:()=>{h({}),g([]),E(null),H(""),pe(null),T({}),Ge()},variant:"secondary",size:"lg",className:"w-full md:w-auto mt-2 md:mt-0 md:mr-2",children:"  ( )"}),x.jsxs("div",{className:"mt-10 p-4 bg-slate-700 rounded-lg",onClick:O=>O.stopPropagation(),children:[x.jsx("h3",{className:"text-xl font-semibold text-cyan-300 mb-4",children:"  ( Firebase)"}),a.length===0&&x.jsx("p",{className:"text-slate-400",children:"     Firebase."}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(O=>x.jsxs("div",{className:"p-4 bg-slate-600 rounded-md shadow",children:[x.jsx("h4",{className:"font-semibold text-lg truncate mb-1",title:O.name,children:O.name}),x.jsxs("p",{className:"text-sm text-slate-300 mb-1",children:[": ",Vo[O.category]]}),x.jsx("img",{src:O.imageUrl,alt:O.name,className:"w-full h-32 object-cover rounded mb-3 bg-slate-500",onError:Y=>{const ue=Y.currentTarget;ue.alt=` : ${O.name}`,ue.style.border="2px solid red"}}),x.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[x.jsx(Mt,{onClick:()=>B(O),size:"sm",variant:"secondary",children:" "}),x.jsx(Mt,{onClick:()=>{window.confirm("         Firebase")&&l(O.id)},size:"sm",variant:"danger",children:"  Firebase"})]})]},O.id))})]})]})},RR=()=>{var A,B;const{imageTemplates:a,loadTemplates:t}=ud(),[i,l]=P.useState(""),[o,c]=P.useState(null),[h,m]=P.useState({}),[g,p]=P.useState(null),[E,v]=P.useState([]),[T,j]=P.useState(null),[H,L]=P.useState(!1),V=P.useRef(null);P.useEffect(()=>{t()},[]),P.useEffect(()=>{v(o?o.overlays:[]),j(null),L(!1)},[o]);const X=z=>{l(z),c(null),m({}),p(null)},pe=z=>{var K;c(z),p(null);const Q={};z.overlays.forEach(y=>{y.isEditableByUser&&y.editKey&&(Q[y.editKey]=y.text)}),(K=z.logoOverlay)!=null&&K.isEditableByUser&&z.logoOverlay.editKey&&(Q[z.logoOverlay.editKey]=z.logoOverlay.imageUrl),m(Q)},se=(z,Q)=>{m(K=>({...K,[z]:Q}))},ee=(z,Q)=>{var M;const K=(M=z.target.files)==null?void 0:M[0];if(!K)return;if(!K.type.startsWith("image/")){alert("    ."),z.target.value="";return}const y=new FileReader;y.onload=q=>{var $;const F=($=q.target)==null?void 0:$.result;typeof F=="string"?se(Q,F):alert("   .")},y.onerror=()=>{alert("    .")},y.readAsDataURL(K),z.target.value=""},ke=z=>new Promise((Q,K)=>{const y=new Image;y.crossOrigin="anonymous",y.onload=()=>Q(y),y.onerror=M=>K(M),y.src=z}),be=(z,Q,K)=>{H||(K&&K.isEditableByUser?j(K.id):j(null))},le=P.useCallback(z=>{z===T&&L(!0)},[T]),ze=P.useCallback((z,Q,K)=>{H&&z===T&&v(y=>y.map(M=>M.id===z?{...M,x:Q,y:K}:M))},[H,T]),Fe=P.useCallback(()=>{L(!1)},[]),Ge=async()=>{if(!o||!V.current)return;if(g){alert("          .   .");return}const z=V.current,Q=z.getContext("2d");if(Q){z.width=o.canvasWidth,z.height=o.canvasHeight,Q.clearRect(0,0,z.width,z.height);try{const K=await ke(o.imageUrl);Q.drawImage(K,0,0,o.canvasWidth,o.canvasHeight),E.forEach(O=>{Q.font=`${O.fontWeight} ${O.fontSize}px ${O.fontFamily}`,Q.fillStyle=O.color,Q.textAlign="right";let Y=O.text;O.isEditableByUser&&O.editKey&&h[O.editKey]!==void 0&&(Y=h[O.editKey]),Q.fillText(Y,O.x,O.y)});const y=o.logoOverlay,M=y!=null&&y.editKey?h[y.editKey]:void 0,q=M!==void 0?M:y==null?void 0:y.imageUrl;if(y&&q&&q.length>0){const O=await ke(q);Q.save(),Q.beginPath(),Q.arc(y.x,y.y,y.radius,0,Math.PI*2,!0),Q.closePath(),Q.clip(),Q.drawImage(O,y.x-y.radius,y.y-y.radius,y.radius*2,y.radius*2),Q.restore()}const F=z.toDataURL("image/png"),$=document.createElement("a");$.download=`${o.name.replace(/\s+/g,"_")}_modified.png`,$.href=F,document.body.appendChild($),$.click(),document.body.removeChild($)}catch(K){console.error("Error during image export:",K),alert("     .         .")}}},De=i?a.filter(z=>z.category===i):a,Me=Object.entries(Vo).map(([z,Q])=>({value:z,label:Q})),et=(o==null?void 0:o.overlays.filter(z=>z.isEditableByUser&&z.editKey))||[],me=(A=o==null?void 0:o.logoOverlay)==null?void 0:A.editKey,Ie=((B=o==null?void 0:o.logoOverlay)==null?void 0:B.isEditableByUser)&&me;return x.jsxs("div",{className:"p-4 sm:p-6 bg-slate-800 rounded-xl shadow-2xl",children:[x.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-sky-400 mb-6 sm:mb-8",children:"  "}),x.jsx("div",{className:"mb-6",children:x.jsx(vn,{label:"  :",value:i,onChange:z=>X(z.target.value),options:[{value:"",label:" "},...Me],containerClassName:"max-w-md mx-auto"})}),i&&De.length===0&&x.jsx("p",{className:"text-center text-slate-400 my-8",children:"     ."}),!i&&a.length===0&&x.jsx("p",{className:"text-center text-slate-400 my-8",children:"   .       ."}),!o&&De.length>0&&x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-8",children:De.map(z=>x.jsxs("div",{className:"p-4 bg-slate-700 rounded-lg shadow-lg cursor-pointer hover:bg-slate-600 transition-colors duration-150 flex flex-col",onClick:()=>pe(z),children:[x.jsx("img",{src:z.imageUrl,alt:`  ${z.name}`,className:"w-full h-40 object-cover rounded-md mb-3 bg-slate-500 border border-transparent",onError:Q=>{const K=Q.currentTarget;K.alt=`  : ${z.name}`,K.style.border="2px solid red";const y=K.parentNode;y&&y.classList.add("bg-slate-800","flex","items-center","justify-center"),K.style.display="none";const M=document.createElement("span");M.className="text-red-400 text-xs text-center p-2",M.textContent="  ",K.parentNode&&!K.parentNode.querySelector(".text-red-400")&&K.parentNode.appendChild(M)}}),x.jsxs("div",{className:"mt-auto",children:[x.jsx("h3",{className:"font-semibold text-lg text-cyan-300 truncate",title:z.name,children:z.name}),x.jsx("p",{className:"text-sm text-slate-300",children:Vo[z.category]})]})]},z.id))}),o&&x.jsxs("div",{className:"mt-8",children:[x.jsx(Mt,{onClick:()=>{c(null),m({}),p(null)},variant:"secondary",className:"mb-6",children:"   "}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"md:col-span-2 p-4 bg-slate-700 rounded-lg",children:[x.jsx("h3",{className:"text-xl font-semibold text-cyan-300 mb-2",children:o.name}),x.jsx("p",{className:"text-sm text-slate-400 -mt-1 mb-4",children:"          ."}),g&&x.jsxs("div",{className:"p-4 mb-4 text-center bg-red-900/60 border border-red-700 text-red-300 rounded-md",children:[x.jsx("p",{className:"font-semibold",children:"   !"}),x.jsx("p",{className:"text-sm",children:g}),x.jsx("p",{className:"text-sm mt-1",children:"          .    ."})]}),x.jsx(Q0,{imageUrl:o.imageUrl,overlays:E,logoOverlay:o.logoOverlay,userEdits:h,canvasWidthProp:o.canvasWidth,canvasHeightProp:o.canvasHeight,backgroundColor:"#DDDDDD",onImageLoadError:()=>{p(`     "${o.name}".           (CORS).`)},onCanvasLeftClick:be,selectedOverlayId:T,isMovementEnabled:!0,onOverlayDragStart:le,onOverlayPositionUpdate:ze,onOverlayDragEnd:Fe}),x.jsx("canvas",{ref:V,style:{display:"none"}})]}),x.jsxs("div",{className:"md:col-span-1 p-4 bg-slate-700 rounded-lg",children:[x.jsx("h3",{className:"text-xl font-semibold text-cyan-300 mb-4",children:" "}),et.length===0&&!Ie&&x.jsx("p",{className:"text-slate-400",children:"       ."}),et.map(z=>z.editKey&&x.jsx(on,{label:Yo[z.editKey]||z.editKey,value:h[z.editKey]||"",onChange:Q=>se(z.editKey,Q.target.value),containerClassName:"mb-3"},z.editKey)),Ie&&me&&x.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-600",children:[x.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:Yo[me]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"logo-upload",className:"w-full text-center block cursor-pointer bg-sky-500 hover:bg-sky-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-150 ease-in-out text-sm mb-2",children:"   "}),x.jsx("input",{id:"logo-upload",type:"file",accept:"image/*",className:"hidden",onChange:z=>ee(z,me)})]}),x.jsxs("div",{className:"flex items-center my-2",children:[x.jsx("div",{className:"flex-grow border-t border-slate-600"}),x.jsx("span",{className:"flex-shrink mx-2 text-slate-400 text-sm",children:""}),x.jsx("div",{className:"flex-grow border-t border-slate-600"})]}),x.jsx(on,{label:"  ",value:(h[me]||"").startsWith("data:")?"":h[me]||"",onChange:z=>se(me,z.target.value),placeholder:(h[me]||"").startsWith("data:")?"  .    .":"https://example.com/logo.png",disabled:(h[me]||"").startsWith("data:"),containerClassName:"mb-3"},`${me}-url`),h[me]&&x.jsx(Mt,{onClick:()=>{se(me,"");const z=document.getElementById("logo-upload");z&&(z.value="")},variant:"danger",size:"sm",className:"w-full",children:"  "})]}),(et.length>0||Ie)&&x.jsx(Mt,{onClick:Ge,variant:"success",size:"lg",className:"w-full mt-4",disabled:!!g,title:g?"      ":"  ",children:"  "})]})]})]})]})},OR=()=>{const{currentUser:a,loginUser:t,logoutUser:i,isAdmin:l}=ud(),o=h=>{t(h)},c=()=>{console.error("Google Login Failed"),alert("    .    .")};return x.jsx(OS,{clientId:LS,children:x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-700 text-white p-4 sm:p-8 font-sans",children:[x.jsx("header",{className:"mb-8",children:x.jsxs("div",{className:"container mx-auto flex justify-between items-center p-4 bg-slate-800/50 rounded-xl shadow-lg",children:[x.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-cyan-300",children:" "}),x.jsx("div",{className:"flex items-center space-x-3 space-x-reverse",children:a?x.jsxs(x.Fragment,{children:[a.picture&&x.jsx("img",{src:a.picture,alt:a.name,className:"w-10 h-10 rounded-full border-2 border-sky-400"}),x.jsxs("div",{className:"hidden sm:block",children:[x.jsxs("p",{className:"text-sm text-gray-300",children:[" ",l?"  ":""]}),x.jsx("p",{className:"font-semibold text-sky-300",children:a.name})]}),x.jsx(Mt,{onClick:i,variant:"secondary",size:"sm",children:" "})]}):x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx(IS,{onSuccess:o,onError:c,theme:"outline",size:"medium",shape:"rectangular",text:"signin_with",logo_alignment:"left",locale:"ar"}),x.jsx("p",{className:"text-xs text-slate-400 mt-1 text-center",children:"  "})]})})]})}),x.jsx("main",{children:l?x.jsx(wR,{}):x.jsx(RR,{})})]})})},K0=document.getElementById("root");if(!K0)throw new Error("Could not find root element to mount to");const xR=wS.createRoot(K0);xR.render(x.jsx(fh.StrictMode,{children:x.jsx(AR,{children:x.jsx(OR,{})})}));
